<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Page Factory 2</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Page Factory 2</h1>
<div class="details">
<span id="revnumber">version 16.3.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_Введение">1. Введение</a></li>
<li><a href="#_web_plugin">2. Web plugin</a>
<ul class="sectlevel2">
<li><a href="#_Как_начать_использовать">2.1. Как начать использовать</a></li>
<li><a href="#_Описание_страниц">2.2. Описание страниц</a>
<ul class="sectlevel3">
<li><a href="#_Методы_для_работы_со_страницами">2.2.1. Методы для работы со страницами</a></li>
</ul>
</li>
<li><a href="#_Описание_элементов">2.3. Описание элементов</a></li>
<li><a href="#_Поиск_элементов">2.4. Поиск элементов</a></li>
<li><a href="#_Методы_работы_с_элементами">2.5. Методы работы с элементами</a>
<ul class="sectlevel3">
<li><a href="#_Проверки_атрибутов">2.5.1. Проверки атрибутов</a></li>
<li><a href="#_Поиск_в_списке_элементов_по_атрибуту">2.5.2. Поиск в списке элементов по атрибуту</a></li>
<li><a href="#_Получение_текстовых_значений_элементов">2.5.3. Получение текстовых значений элементов</a></li>
<li><a href="#_Получение_элемента_списка_по_текстовому_значению">2.5.4. Получение элемента списка по текстовому значению</a></li>
<li><a href="#_Получение_элемента_списка_по_индексу">2.5.5. Получение элемента списка по индексу</a></li>
<li><a href="#_Поиск_элемента_в_списке_по_предикату">2.5.6. Поиск элемента в списке по предикату</a></li>
<li><a href="#_Другие_полезные_методы">2.5.7. Другие полезные методы</a></li>
</ul>
</li>
<li><a href="#_Шаги_и_глагольные_выражения">2.6. Шаги и глагольные выражения</a>
<ul class="sectlevel3">
<li><a href="#_Шаги_тестовых_сценариев">2.6.1. Шаги тестовых сценариев</a></li>
<li><a href="#_Шаги_для_работы_с_ожиданиями">2.6.2. Шаги для работы с ожиданиями</a></li>
<li><a href="#_Шаги_в_английской_локализации">2.6.3. Шаги в английской локализации</a></li>
<li><a href="#_Как_использовать_шаги_без_code_cucumber_code_fluent_api">2.6.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</a></li>
<li><a href="#_Как_использовать_шаги_проекта_без_code_cucumber_code">2.6.5. Как использовать шаги проекта без <code>cucumber</code></a></li>
<li><a href="#_Глагольные_выражения">2.6.6. Глагольные выражения</a></li>
<li><a href="#_Некритичные_шаги_тестовых_сценариев">2.6.7. Некритичные шаги тестовых сценариев</a></li>
<li><a href="#_Некритичные_пользовательские_ошибки">2.6.8. Некритичные пользовательские ошибки</a></li>
<li><a href="#_Переопределение_стандартных_методов">2.6.9. Переопределение стандартных методов</a></li>
</ul>
</li>
<li><a href="#_Тестовые_сценарии">2.7. Тестовые сценарии</a>
<ul class="sectlevel3">
<li><a href="#_Фрагменты">2.7.1. Фрагменты</a></li>
<li><a href="#_Работа_с_тестовыми_данными">2.7.2. Работа с тестовыми данными</a></li>
</ul>
</li>
<li><a href="#_Настройки_проекта">2.8. Настройки проекта</a>
<ul class="sectlevel3">
<li><a href="#_Конфигурационный_файл">2.8.1. Конфигурационный файл</a></li>
<li><a href="#_Общие_конфигурации">2.8.2. Общие конфигурации</a></li>
<li><a href="#_Конфигурирование_отчетов">2.8.3. Конфигурирование отчетов</a></li>
<li><a href="#_Конфигурирование_записи_видео">2.8.4. Конфигурирование записи видео</a></li>
<li><a href="#_Параметры_работы_с_фрагментами">2.8.5. Параметры работы с фрагментами</a></li>
<li><a href="#_Параметры_работы_с_тестовыми_данными">2.8.6. Параметры работы с тестовыми данными</a></li>
<li><a href="#_Параметры_для_работы_с_code_selenium_webdriver_code">2.8.7. Параметры для работы с <code>Selenium WebDriver</code></a></li>
<li><a href="#_Параметры_запуска">2.8.8. Параметры запуска</a></li>
<li><a href="#_Параметры_работы_с_browser_capabilities">2.8.9. Параметры работы с browser capabilities</a></li>
<li><a href="#_Параметры_работы_с_selenoid_moon">2.8.10. Параметры работы с Selenoid/Moon</a></li>
</ul>
</li>
<li><a href="#_Построение_отчетов">2.9. Построение отчетов</a>
<ul class="sectlevel3">
<li><a href="#_Отчеты_и_fluent_api">2.9.1. Отчеты и Fluent API</a></li>
</ul>
</li>
<li><a href="#_Вспомогательные_методы">2.10. Вспомогательные методы</a>
<ul class="sectlevel3">
<li><a href="#_Вспомогательные_методы_использующие_рефлексию">2.10.1. Вспомогательные методы, использующие рефлексию</a></li>
<li><a href="#_Переопределение_методов_для_работы_с_рефлексией">2.10.2. Переопределение методов для работы с рефлексией</a></li>
<li><a href="#_Проверки_текстовых_значений_элементов">2.10.3. Проверки текстовых значений элементов</a></li>
<li><a href="#_Методы_работы_с_драйвером">2.10.4. Методы работы с драйвером</a></li>
<li><a href="#_Методы_работы_с_браузером">2.10.5. Методы работы с браузером</a></li>
<li><a href="#_Методы_работы_с_ожиданиями">2.10.6. Методы работы с ожиданиями</a></li>
</ul>
</li>
<li><a href="#_Как_работать_с_алертами">2.11. Как работать с алертами</a></li>
</ul>
</li>
<li><a href="#_html_plugin">3. HTML Plugin</a>
<ul class="sectlevel2">
<li><a href="#_Как_начать_использовать_2">3.1. Как начать использовать</a></li>
<li><a href="#_Описание_страниц_2">3.2. Описание страниц</a>
<ul class="sectlevel3">
<li><a href="#_Методы_для_работы_со_страницами_2">3.2.1. Методы для работы со страницами</a></li>
</ul>
</li>
<li><a href="#_Описание_элементов_2">3.3. Описание элементов</a></li>
<li><a href="#_Блоки_и_элементы">3.4. Блоки и элементы</a></li>
<li><a href="#_Поиск_элементов_2">3.5. Поиск элементов</a>
<ul class="sectlevel3">
<li><a href="#_Описание_типов_параметров">3.5.1. Описание типов параметров</a></li>
<li><a href="#_Описание_методов_поиска">3.5.2. Описание методов поиска</a></li>
</ul>
</li>
<li><a href="#_Примеры_различных_вариантов_комбинирования_типов">3.6. Примеры различных вариантов комбинирования типов</a></li>
<li><a href="#_Методы_работы_с_элементами_2">3.7. Методы работы с элементами</a>
<ul class="sectlevel3">
<li><a href="#_Проверки_атрибутов_2">3.7.1. Проверки атрибутов</a></li>
<li><a href="#_Поиск_в_списке_элементов_по_атрибуту_2">3.7.2. Поиск в списке элементов по атрибуту</a></li>
<li><a href="#_Получение_текстовых_значений_элементов_2">3.7.3. Получение текстовых значений элементов</a></li>
<li><a href="#_Получение_элемента_списка_по_текстовому_значению_2">3.7.4. Получение элемента списка по текстовому значению</a></li>
<li><a href="#_Получение_элемента_списка_по_индексу_2">3.7.5. Получение элемента списка по индексу</a></li>
<li><a href="#_Поиск_элемента_в_списке_по_предикату_2">3.7.6. Поиск элемента в списке по предикату</a></li>
<li><a href="#_Другие_полезные_методы_3">3.7.7. Другие полезные методы</a></li>
<li><a href="#_Создание_и_инициализация_кастомных_элементов">3.7.8. Создание и инициализация кастомных элементов</a></li>
<li><a href="#_Получение_code_webelement_code">3.7.9. Получение <code>WebElement</code></a></li>
</ul>
</li>
<li><a href="#_Шаги_и_глагольные_выражения_2">3.8. Шаги и глагольные выражения</a>
<ul class="sectlevel3">
<li><a href="#_Шаги_тестовых_сценариев_2">3.8.1. Шаги тестовых сценариев</a></li>
<li><a href="#_Шаги_для_работы_с_ожиданиями_2">3.8.2. Шаги для работы с ожиданиями</a></li>
<li><a href="#_Шаги_в_английской_локализации_2">3.8.3. Шаги в английской локализации</a></li>
<li><a href="#_Как_использовать_шаги_без_code_cucumber_code_fluent_api_2">3.8.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</a></li>
<li><a href="#_Как_использовать_шаги_проекта_без_code_cucumber_code_2">3.8.5. Как использовать шаги проекта без <code>cucumber</code></a></li>
<li><a href="#_Глагольные_выражения_2">3.8.6. Глагольные выражения</a></li>
</ul>
</li>
<li><a href="#_Глагольные_выражения_в_блоках">3.9. Глагольные выражения в блоках</a></li>
<li><a href="#_Шаги_работы_с_блоками">3.10. Шаги работы с блоками</a>
<ul class="sectlevel3">
<li><a href="#_Шаги_работы_с_блоками_в_английской_локализации">3.10.1. Шаги работы с блоками в английской локализации</a></li>
<li><a href="#_Некритичные_шаги_тестовых_сценариев_2">3.10.2. Некритичные шаги тестовых сценариев</a></li>
<li><a href="#_Некритичные_пользовательские_ошибки_2">3.10.3. Некритичные пользовательские ошибки</a></li>
<li><a href="#_Переопределение_стандартных_методов_2">3.10.4. Переопределение стандартных методов</a></li>
</ul>
</li>
<li><a href="#_Тестовые_сценарии_2">3.11. Тестовые сценарии</a>
<ul class="sectlevel3">
<li><a href="#_Фрагменты_2">3.11.1. Фрагменты</a></li>
<li><a href="#_Работа_с_тестовыми_данными_2">3.11.2. Работа с тестовыми данными</a></li>
</ul>
</li>
<li><a href="#_Настройки_проекта_2">3.12. Настройки проекта</a>
<ul class="sectlevel3">
<li><a href="#_Конфигурационный_файл_2">3.12.1. Конфигурационный файл</a></li>
<li><a href="#_Общие_конфигурации_2">3.12.2. Общие конфигурации</a></li>
<li><a href="#_Конфигурирование_отчетов_2">3.12.3. Конфигурирование отчетов</a></li>
<li><a href="#_Конфигурирование_записи_видео_2">3.12.4. Конфигурирование записи видео</a></li>
<li><a href="#_Параметры_работы_с_фрагментами_2">3.12.5. Параметры работы с фрагментами</a></li>
<li><a href="#_Параметры_работы_с_тестовыми_данными_2">3.12.6. Параметры работы с тестовыми данными</a></li>
<li><a href="#_Параметры_для_работы_с_code_selenium_webdriver_code_2">3.12.7. Параметры для работы с <code>Selenium WebDriver</code></a></li>
<li><a href="#_Параметры_запуска_2">3.12.8. Параметры запуска</a></li>
<li><a href="#_Параметры_работы_с_browser_capabilities_2">3.12.9. Параметры работы с browser capabilities</a></li>
<li><a href="#_Параметры_работы_с_selenoid_moon_2">3.12.10. Параметры работы с Selenoid/Moon</a></li>
</ul>
</li>
<li><a href="#_Построение_отчетов_2">3.13. Построение отчетов</a>
<ul class="sectlevel3">
<li><a href="#_Отчеты_и_fluent_api_2">3.13.1. Отчеты и Fluent API</a></li>
</ul>
</li>
<li><a href="#_Вспомогательные_методы_2">3.14. Вспомогательные методы</a>
<ul class="sectlevel3">
<li><a href="#_Вспомогательные_методы_использующие_рефлексию_2">3.14.1. Вспомогательные методы, использующие рефлексию</a></li>
<li><a href="#_Поиск_типизированных_элементов_и_блоков">3.14.2. Поиск типизированных элементов и блоков</a></li>
<li><a href="#_Работа_с_типизированными_элементами">3.14.3. Работа с типизированными элементами</a></li>
<li><a href="#_Выполнение_глагольных_выражений_в_блоках">3.14.4. Выполнение глагольных выражений в блоках</a></li>
<li><a href="#_Переопределение_методов_для_работы_с_рефлексией_2">3.14.5. Переопределение методов для работы с рефлексией</a></li>
<li><a href="#_Проверки_текстовых_значений_элементов_2">3.14.6. Проверки текстовых значений элементов</a></li>
<li><a href="#_Методы_работы_с_драйвером_2">3.14.7. Методы работы с драйвером</a></li>
<li><a href="#_Методы_работы_с_браузером_2">3.14.8. Методы работы с браузером</a></li>
<li><a href="#_Методы_работы_с_ожиданиями_2">3.14.9. Методы работы с ожиданиями</a></li>
</ul>
</li>
<li><a href="#_Как_работать_с_алертами_2">3.15. Как работать с алертами</a></li>
</ul>
</li>
<li><a href="#_rest_plugin">4. Rest plugin</a>
<ul class="sectlevel2">
<li><a href="#_Как_начать_использовать_3">4.1. Как начать использовать</a></li>
<li><a href="#_Описание_методов_api">4.2. Описание методов API</a></li>
<li><a href="#_Отправка_запроса">4.3. Отправка запроса</a>
<ul class="sectlevel3">
<li><a href="#_Параметры_запроса">4.3.1. Параметры запроса</a></li>
<li><a href="#_Модификаторы_параметров">4.3.2. Модификаторы параметров</a></li>
</ul>
</li>
<li><a href="#_Проверки">4.4. Проверки</a>
<ul class="sectlevel3">
<li><a href="#_Проверка_без_параметров">4.4.1. Проверка без параметров</a></li>
<li><a href="#_Проверка_таблицы_значений">4.4.2. Проверка таблицы значений</a></li>
<li><a href="#_Как_реализовать_свои_шаги_проверки">4.4.3. Как реализовать свои шаги проверки</a></li>
<li><a href="#_Как_писать_реализацию_проверок">4.4.4. Как писать реализацию проверок</a></li>
</ul>
</li>
<li><a href="#_Сборка_запроса_из_фичи">4.5. Сборка запроса из фичи</a></li>
<li><a href="#_Шаги_работы_с_api_в_английской_локализации">4.6. Шаги работы с API в английской локализации</a></li>
<li><a href="#_ssl">4.7. SSL</a></li>
</ul>
</li>
<li><a href="#_mq_plugin">5. MQ plugin</a>
<ul class="sectlevel2">
<li><a href="#_Как_начать_использовать_4">5.1. Как начать использовать</a></li>
<li><a href="#_Примеры_создания_соединения_с_mq">5.2. Примеры создания соединения с MQ</a></li>
</ul>
</li>
<li><a href="#_mobile_plugin">6. Mobile plugin</a>
<ul class="sectlevel2">
<li><a href="#_Как_начать_использовать_5">6.1. Как начать использовать</a></li>
<li><a href="#_Настройки_проекта_3">6.2. Настройки проекта</a>
<ul class="sectlevel3">
<li><a href="#_Конфигурационный_файл_3">6.2.1. Конфигурационный файл</a></li>
<li><a href="#_Общие_конфигурации_3">6.2.2. Общие конфигурации</a></li>
<li><a href="#_Конфигурирование_отчетов_3">6.2.3. Конфигурирование отчетов</a></li>
<li><a href="#_Конфигурирование_записи_видео_3">6.2.4. Конфигурирование записи видео</a></li>
<li><a href="#_Параметры_работы_с_фрагментами_3">6.2.5. Параметры работы с фрагментами</a></li>
<li><a href="#_Параметры_работы_с_тестовыми_данными_3">6.2.6. Параметры работы с тестовыми данными</a></li>
<li><a href="#_Параметры_для_работы_с_code_appium_code">6.2.7. Параметры для работы с <code>Appium</code></a></li>
<li><a href="#_Параметры_работы_с_selenoid_moon_3">6.2.8. Параметры работы с Selenoid/Moon</a></li>
</ul>
</li>
<li><a href="#_Описание_страниц_3">6.3. Описание страниц</a>
<ul class="sectlevel3">
<li><a href="#_Методы_для_работы_со_страницами_3">6.3.1. Методы для работы со страницами</a></li>
</ul>
</li>
<li><a href="#_Описание_элементов_3">6.4. Описание элементов</a></li>
<li><a href="#_Методы_работы_с_элементами_3">6.5. Методы работы с элементами</a>
<ul class="sectlevel3">
<li><a href="#_Проверки_атрибутов_3">6.5.1. Проверки атрибутов</a></li>
<li><a href="#_Поиск_в_списке_элементов_по_атрибуту_3">6.5.2. Поиск в списке элементов по атрибуту</a></li>
<li><a href="#_Получение_текстовых_значений_элементов_3">6.5.3. Получение текстовых значений элементов</a></li>
<li><a href="#_Получение_элемента_списка_по_текстовому_значению_3">6.5.4. Получение элемента списка по текстовому значению</a></li>
<li><a href="#_Получение_элемента_списка_по_индексу_3">6.5.5. Получение элемента списка по индексу</a></li>
<li><a href="#_Поиск_элемента_в_списке_по_предикату_3">6.5.6. Поиск элемента в списке по предикату</a></li>
<li><a href="#_Другие_полезные_методы_5">6.5.7. Другие полезные методы</a></li>
</ul>
</li>
<li><a href="#_Шаги_и_глагольные_выражения_3">6.6. Шаги и глагольные выражения</a>
<ul class="sectlevel3">
<li><a href="#_Шаги_тестовых_сценариев_3">6.6.1. Шаги тестовых сценариев</a></li>
<li><a href="#_Шаги_для_работы_с_ожиданиями_3">6.6.2. Шаги для работы с ожиданиями</a></li>
<li><a href="#_Шаги_в_английской_локализации_3">6.6.3. Шаги в английской локализации</a></li>
<li><a href="#_Как_использовать_шаги_без_code_cucumber_code_fluent_api_3">6.6.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</a></li>
<li><a href="#_Как_использовать_шаги_проекта_без_code_cucumber_code_3">6.6.5. Как использовать шаги проекта без <code>cucumber</code></a></li>
<li><a href="#_Глагольные_выражения_3">6.6.6. Глагольные выражения</a></li>
<li><a href="#_Переопределение_стандартных_методов_3">6.6.7. Переопределение стандартных методов</a></li>
</ul>
</li>
<li><a href="#_Тестовые_сценарии_3">6.7. Тестовые сценарии</a>
<ul class="sectlevel3">
<li><a href="#_Фрагменты_3">6.7.1. Фрагменты</a></li>
<li><a href="#_Работа_с_тестовыми_данными_3">6.7.2. Работа с тестовыми данными</a></li>
</ul>
</li>
<li><a href="#_Построение_отчетов_3">6.8. Построение отчетов</a>
<ul class="sectlevel3">
<li><a href="#_Отчеты_и_fluent_api_3">6.8.1. Отчеты и Fluent API</a></li>
</ul>
</li>
<li><a href="#_Вспомогательные_методы_3">6.9. Вспомогательные методы</a>
<ul class="sectlevel3">
<li><a href="#_Вспомогательные_методы_использующие_рефлексию_3">6.9.1. Вспомогательные методы, использующие рефлексию</a></li>
</ul>
</li>
<li><a href="#_Параллельный_запуск_тестов_на_симуляторах">6.10. Параллельный запуск тестов на симуляторах</a>
<ul class="sectlevel3">
<li><a href="#_Скачать_и_запустить_selenium_server_standalone">6.10.1. Скачать и запустить selenium-server-standalone</a></li>
<li><a href="#_Сконфигурировать_и_запустить_по_экземпляру_appium_на_каждый_симулятор">6.10.2. Сконфигурировать и запустить по экземпляру appium на каждый симулятор</a></li>
<li><a href="#_Внести_правки_в_application_properties">6.10.3. Внести правки в application.properties</a></li>
<li><a href="#_Внести_правки_в_pom_xml">6.10.4. Внести правки в pom.xml</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_adaptavist_jira_test_manager">7. Adaptavist (Jira Test Manager)</a>
<ul class="sectlevel2">
<li><a href="#_Настройка_для_cucumber">7.1. Настройка для Cucumber</a>
<ul class="sectlevel3">
<li><a href="#_Сборка_результатов_тестов">7.1.1. Сборка результатов тестов</a></li>
<li><a href="#_Синхронизация_результатов_для_code_cucumber_code">7.1.2. Синхронизация результатов для <code>Cucumber</code></a></li>
</ul>
</li>
<li><a href="#_Настройка_для_junit">7.2. Настройка для JUnit</a>
<ul class="sectlevel3">
<li><a href="#_Сборка_результатов_тестов_2">7.2.1. Сборка результатов тестов</a></li>
<li><a href="#_Синхронизация_результатов_для_code_junit_code">7.2.2. Синхронизация результатов для <code>JUnit</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_Введение">1. Введение</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Page Factory 2 это opensource java framework для автоматизированного тестирования, который позволяет разрабатывать
автотесты в BDD (Behaviour Driven Development) стиле с акцентом на использование паттерна PageFactory.</p>
</div>
<div class="paragraph">
<p>Инструмент позволяет писать автотесты на человекочитаемом языке, тем самым понижая входной порог для разработчиков тестов
и повышая их читаемость неподготовленными пользователями.
Page factory 2 использует framework Cucumber-JVM, но, в отличие от чистого использования, в котором довольно большую
часть архитектуры занимают шаги(stepdefs), здесь акцент сделан на то, чтобы избавиться от необходимости писать их самому,
или сократить количество самописных шагов (stepdefs) сосредоточившись на описании кода страниц с использованием паттерна
PageObject.
В Page Factory 2 уже реализовано много стандартных шагов(steps), которых хватит, чтобы начать разрабатывать
автоматизированные тесты. Page Factory 2 кроссплатформенный фреймворк который позволяет запускать тесты на всех
популярных браузерах. Также Page Factory 2 умеет работать с приложения на iOs и Android, использует для этого Appium.
Для облегчения работы с feature файлами был разработан <a href="https://plugins.jetbrains.com/plugin/13227-test-automation-gears/">Idea-плагин</a>,
который поддерживает автодополнение шагов, страниц, элементов и возможность перехода к ним.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_web_plugin">2. Web plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Плагин для автоматизации web приложений, базирующийся на <code>selenium</code> и <code>cucumber</code></p>
</div>
<div class="sect2">
<h3 id="_Как_начать_использовать">2.1. Как начать использовать</h3>
<div class="paragraph">
<p>Для начала использования необходимо подключить зависимость, указав актуальную версию плагина</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;ru.sbtqa.tag.pagefactory&lt;/groupId&gt;
      &lt;artifactId&gt;web-plugin&lt;/artifactId&gt;
      &lt;version&gt;Актуальная версия&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем создать, если еще не создан, файл запуска тестов, унаследовав его от класса <code>Tag</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import cucumber.api.CucumberOptions;
import cucumber.api.junit.Cucumber;
import org.junit.runner.RunWith;
import ru.sbtqa.tag.pagefactory.Tag;

@RunWith(Cucumber.class)
@CucumberOptions(monochrome = true, plugin = {"pretty"},
        // Укажите здесь корневые пакеты, в которых хранятся шаги
        // Если вы написали свои классы с шагами, не забудьте указать здесь пакеты, в которых они находятся
        glue = {"ru.sbtqa.tag.stepdefs",
                "ru.your.project.stepdefs"},
        // Укажите здесь путь до каталога с фичами
        features = {"src/test/resources/ru/features/"},
	    // Здесь можно указать тэг теста или нескольких тестов, которые нужно запустить
        tags = {"@test"}
)

public class CucumberTest extends Tag{}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_страниц">2.2. Описание страниц</h3>
<div class="paragraph">
<p>При описании страниц нужно придерживаться паттерна <code>PageObject</code></p>
</div>
<div class="paragraph">
<p><strong><em>Страница</em></strong> - это класс, внутри которого хранится описание элементов пользовательского UI, а так же действия(actions), которые можно выполнить на этой странице.</p>
</div>
<div class="paragraph">
<p>Чтобы пользоваться всеми преимуществами плагина, необходимо унаследовать каждую страницу вашего проекта от <code>WebPage</code> и именовать страницу при помощи аннотации <code>@PageEntry</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.WebPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>По имени, заданному аннотацией <code>@PageEntry</code>, можно будет обратиться к странице из тестового сценария.</p>
</div>
<div class="paragraph">
<p>Путь до корневого пакета с классами страниц должен быть прописан в файле конфигурации (application.properties) в параметре <code>page.package</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>page.package = ru.your.project.pages</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="aqua">Рекомендуется заводить в проекте базовую страницу, унаследованную от <code>WebPage</code>, и уже от нее наследовать все остальные. Это позволит в случае необходимости описать ряд действий на базовой странице проекта.</span>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_для_работы_со_страницами">2.2.1. Методы для работы со страницами</h4>
<div class="paragraph">
<p>Обратиться к методам можно через класс <code>PageManager</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Map&lt;Class&lt;? extends Page&gt;, Map&lt;Field, String&gt;&gt; getPageRepository()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает репозиторий страниц (набор: страница - набор полей-элементов страницы с именами)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(Class&lt;? extends Page&gt; page)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени класса</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page changeUrlByTitle(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Перенаправляет на URL (по значению <code>url</code> аннотации <code>@PageEntry</code>) страницы с заданным именем (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void cachePages()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вносит все страницы проекта в репозиторий страниц</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_элементов">2.3. Описание элементов</h3>
<div class="paragraph">
<p>Элемент web-страницы можно описать в классе-странице задав путь до него в структуре DOM и имя. Элемент может не иметь имени, если к нему не нужно обращаться из тестового сценария, например в ситуации, когда он используется только в методах страницы.</p>
</div>
<div class="paragraph">
<p>Для задания пути, как правило, используется стандартная аннотация selenium - <code>@FindBy</code> или другие аналогичные аннотации. Почитать о методах поиска и локаторах можно <a href="https://kreisfahrer.gitbooks.io/selenium-webdriver/content/webdriver_intro/tipi_lokatorov.html" class="ext-link" target="_blank" rel="noopener">в документации selenium</a>. Для задания имени - аннотация <code>@ElementTitle</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @ElementTitle(value = "Элемент")
    @FindBy(xpath = "//span")
    public WebElement element;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Инициализировать элементы страницы не нужно, так как этот функционал уже зафиксирован на странице-родителе - <code>WebPage</code></p>
</div>
<div class="paragraph">
<p>Если же такая необходимость возникла, то достаточно определить конструктор страницы, вызвав в нем родительский конструктор с нужным декоратором.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    public YourPage() {
        super(new HtmlElementDecorator(new HtmlElementLocatorFactory(Environment.getDriverService().getDriver())));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Поиск_элементов">2.4. Поиск элементов</h3>
<div class="paragraph">
<p>Поиск элемента можно выполнить следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>((FindUtils) Environment.getFindUtils()).getElementByTitle("Имя элемента");</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Методы_работы_с_элементами">2.5. Методы работы с элементами</h3>
<div class="sect3">
<h4 id="_Проверки_атрибутов">2.5.1. Проверки атрибутов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeContains(T element, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента содержит переданное значение</p>
<p class="tableblock">Вернет <code>true</code>, если значение найдено в атрибуте элемента и <code>false</code>, если не найдено</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeEquals(T element, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента равен переданному значению</p>
<p class="tableblock">Вернет <code>true</code>, если переданное значение равно значению атрибута элемента и <code>false</code>, если нет</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_в_списке_элементов_по_атрибуту">2.5.2. Поиск в списке элементов по атрибуту</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttribute(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttribute(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_текстовых_значений_элементов">2.5.3. Получение текстовых значений элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; List&lt;String&gt; getElementsText(List&lt;T&gt; elements)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовые значения переданных элементов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_текстовому_значению">2.5.4. Получение элемента списка по текстовому значению</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByTextWithEmptyResult(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением. Если такой элемент не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением</p>
<p class="tableblock">Если такой элемент не найден, то будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_индексу">2.5.5. Получение элемента списка по индексу</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByIndex(List&lt;T&gt; elements, int index)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка по индексу с обработкой граничных значений</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_элемента_в_списке_по_предикату">2.5.6. Поиск элемента в списке по предикату</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicateWithEmptyResult(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicate(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Другие_полезные_методы">2.5.7. Другие полезные методы</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void doubleClick(T element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет двойной клик по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isListContains(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что список элементов содержит текстовое значение, строго равное переданному</p>
<p class="tableblock">Вернет <code>true</code>, если текст найден в списке элементов и <code>false</code>, если не найден</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void clickOnElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит элемент в списке элементов с заданным текстом и кликает по нему.</p>
<p class="tableblock">Проверяет, не является ли элемент недоступным для редактирования. Если недоступен, кидает исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; String getTextByElementXpath(T currentContext, String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента по его xpath выражению</p>
<p class="tableblock">В качестве параметра передается элемент, относительно которого будем выполнять
поиск</p>
<p class="tableblock">Если элемент не был найден по указанному пути, то возвращает пустую строку</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Шаги_и_глагольные_выражения">2.6. Шаги и глагольные выражения</h3>
<div class="paragraph">
<p>Использовать элементы в тестовых сценариях можно двумя способами: в шагах либо в глагольных выражениях</p>
</div>
<div class="sect3">
<h4 id="_Шаги_тестовых_сценариев">2.6.1. Шаги тестовых сценариев</h4>
<div class="paragraph">
<p>Под шагами(Step Definitions) предполагаются стандартные шаги тестовых сценариев, описанных по логике работы с <code>cucumber</code></p>
</div>
<div class="paragraph">
<p><code>web-plugin</code> содержит набор стандартных шагов, необходимых для автоматизации любого проекта. Step Definitions, которые уже есть во фреймворке, поддерживают локализацию на двух языках: русском и английском</p>
</div>
<div class="paragraph">
<p>Ниже приведен список доступных шагов с описанием и примерами:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из шагов, предполагающих что кто-либо совершает какое-либо действие, например <strong><em>заполняет поле</em></strong>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_Работа_со_страницами_вкладками">Работа со страницами, вкладками</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * открывается копия страницы в новой вкладке
    * переключается на соседнюю вкладку
    * URL соответствует "URL"
    * закрывает текущее окно и возвращается на "Имя страницы"
    * нажимает назад в браузере
    * переходит на страницу "Имя страницы" по ссылке
    * переходит на url "Страница, имеющая параметр url в аннотации `@PageEntry`"
    * открывает url "Страница, имеющая параметр url в аннотации `@PageEntry`"
    * обновляем страницу</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Работа_с_алертами">Работа с алертами</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * принимает уведомление с текстом "Текст алерта"
    * отклоняет уведомление с текстом "Текст алерта"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Проверка_текста_на_странице">Проверка текста на странице</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Проверяет наличие текста на странице вне зависимости в одном он элементе или в нескольких</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что текст "Текст" появляется на странице
    * проверяет что текст "Текст" отсутствует на странице</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Проверяет наличие текста хотя бы одном из элементов страницы</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что элемент с текстом "Текст" существует
    * проверяет что текст "Текст" отображается</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Работа_с_модальными_окнами">Работа с модальными окнами</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что модальное окно с текстом "Текст модального окна" появляется</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Открытие_страницы">Открытие страницы</h5>
<div class="paragraph">
<p>Все приведенные ниже шаги выполняют одно и то же действие</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь находится на странице "Имя страницы"
    * открывается страница "Имя страницы"
    * открывается вкладка мастера "Имя страницы"</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Шаги открытия страницы не гарантируют, что страница приложения была открыта и что открыта именно та страница, которая ожидалась, они лишь определяют текущий контекст</span> (где искать элементы и глагольные выражения, с которыми ниже в сценарии будет происходить взаимодействие)
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Заполнение_полей">Заполнение полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * заполняет поле "Элемент" "Текст"
    * заполняет поле "Элемент" значением "Текст"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_на_элемент">Нажатие на элемент</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * кликает по ссылке "Элемент"
    * нажимает кнопку "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_клавиш">Нажатие клавиш</h5>
<div class="paragraph">
<p>В качестве параметра используется имя клавиши (пр. ESC, ENTER)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * нажимает клавишу "Имя клавиши"
    * нажимает клавишу "Имя клавиши" на элементе "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выбор_из_стандартного_выпадающего_списка_опции_имеют_тэг_option">Выбор из стандартного выпадающего списка (опции имеют тэг option)</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * выбирает в "Элемент" значение "Опция"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Отметка_признака">Отметка признака</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * отмечает чекбокс "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Проверки_текстовых_значений_полей">Проверки текстовых значений полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что в поле "Элемент" значение "Текст"
    * проверяет что в поле "Элемент" не значение "Не этот текст"
    * проверяет что поле "Элемент" непустое
    * проверяет что поле "Элемент" пустое</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выполнение_фрагмента">Выполнение фрагмента</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * вставляет фрагмент "Имя сценария-фрагмента"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_для_работы_с_ожиданиями">2.6.2. Шаги для работы с ожиданиями</h4>
<div class="sect4">
<h5 id="_Ожидание_появления_элемента">Ожидание появления элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает появления элемента "Элемент"
* ожидает 5 секунд появления элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура методов</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T appearElement(String elementName)
T appearElement(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_исчезновения_элемента">Ожидание исчезновения элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает исчезновения элемента "Элемент"
* ожидает 5 секунд исчезновения элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitInvisibility(String elementName)
T waitInvisibility(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_соответствия_атрибута_переданному_значению">Ожидание соответствия атрибута переданному значению</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitChangeAttribute(String attribute, String elementName, String attributeValue)
T waitChangeAttribute(int timeout, String attribute, String elementName, String attributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_изменения_атрибута">Ожидание изменения атрибута</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"

* ожидает что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitAttributeContains(String attribute, String elementName, Condition condition, String partAttributeValue)
T waitAttributeContains(int timeout, String attribute, String elementName, Condition condition, String partAttributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_появления_или_исчезновения_текстового_фрагмента_в_элементе">Ожидание появления или исчезновения текстового фрагмента в элементе</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" должен содержать текст "текст"

* ожидает что элемент "Элемент" не должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" не должен содержать текст "текст"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitElementContainsText(String elementName, Condition condition, String text)
T waitElementContainsText(int timeout, String elementName, Condition condition, String text)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_кликабельности_элемента">Ожидание кликабельности элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" станет кликабельным
* ожидает 5 секунд что элемент "Элемент" станет кликабельным

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitClickability(String elementName)
T waitClickability(int timeout, String elementName)</code></pre>
</div>
</div>
<div class="paragraph">
<p>О том как писать свои шаги, можно узнать в документации <a href="https://docs.cucumber.io/guides/10-minute-tutorial" class="ext-link" target="_blank" rel="noopener">cucumber</a></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Чтобы использовать свои шаги, нужно в файле запуска тестов прописать путь до них через запятую в опцию <code>glue</code></span>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Рекомендации</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Параметры рекомендуется задавать регулярным выражением <code>"([^\"]*)\"</code></p>
</li>
<li>
<p>Если шаг используется только на одной странице, лучше описать глагольное выражение на странице</p>
</li>
<li>
<p>Шаги лучше хранить в каталоге отдельном от страниц (как правило, <code>stepdefs</code>) в классах, разбив их на логические группы, чтобы быстро и удобно находить их в зависимости от функциональности или принадлежности</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_в_английской_локализации">2.6.3. Шаги в английской локализации</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * user is on the page "Page"
    * page is being opened "Page"
    * master tab is being opened "Page"

    * copy of the page is being opened in a new tab
    * user switches to the next tab
    * URL matches "URL"
    * user closes the current window and returns to "Page"
    * user push back in the browser
    * user navigates to page "URL"
    * user navigates to url "URL"
    * user refreshes the page

    * user accepts alert with text "Text of alert"
    * user dismisses alert with text "Text of alert"

    * user checks that text "Text" appears on the page
    * user checks that text "Text" is absent on the page

    * user checks that modal window with text "Text" is appears

    * user checks that element with text "Text" is present
    * user checks that the text "Text" is visible

    * user is waiting for the element to appear "Element"
    * user is waiting 5 seconds for the element to appear "Element"

    * user is waiting for the element to disappear "Element"
    * user is waiting 5 seconds for the element to disappear "Element"

    * user is waiting for the value of the "class" attribute of the element "Element" to become "value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" to become "value"

    * user is waiting for the value of the "class" attribute of the element "Element" should contain "part of value"
    * user is waiting for the value of the "class" attribute of the element "Element" should not contain "part of value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" should contain "part of value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" should not contain "part of value"

    * user is waiting for the element "Element" to contain text "text"
    * user is waiting for the element "Element" to not contain text "text"
    * user is waiting 5 seconds for the element "Element" to contain text "text"
    * user is waiting 5 seconds for the element "Element" to not contain text "text"

    * user is waiting for the element "Element" to become clickable
    * user is waiting 5 seconds for the element "Element" to become clickable</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * user fills the field "Element" "Text"
    * user fills the field "Element" with value "Text"

    * user clicks the link "Element"
    * user clicks the button "Element"

    * user presses the key "KEY"
    * user presses the key "KEY" on the element "Element"

    * user selects in "Element" the value "Option"

    * user selects the checkbox "Element"

    * user checks in the element "Element" value "Text"
    * user checks in the element "Element" that the value is not equal "Text"
    * user checks that the field "Element" is not empty
    * user checks that the field "Element" is empty

    * element "Element" is focused

    * inserts fragment "Fragment"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_без_code_cucumber_code_fluent_api">2.6.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</h4>
<div class="paragraph">
<p>Обратиться к методам-шагам можно следующим образом: <code>WebSteps.getInstance()</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>WebSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .click("Contact")
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_проекта_без_code_cucumber_code">2.6.5. Как использовать шаги проекта без <code>cucumber</code></h4>
<div class="paragraph">
<p>Чтобы использовать кастомные шаги вашего проекта через Fluent API, унаследуйте класс с шагами от <code>WebStepsImpl</code> с учетом типизации.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Каждый метод вашего класса с шагами должен возвращать объект типа <code>this</code> приведенный к <code>T</code>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример класса</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends WebStepsImpl&lt;T&gt; {
    public T yourMethod() {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Далее на основе этого класса нужно создать строго типизированный класс, который позволит до компиляции понимать, с каким контекстом происходит взаимодействие в текущий  момент. Сделать это можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourSteps extends YourStepsImpl&lt;YourSteps&gt; {
     private static YourSteps instance;

     public static YourSteps getInstance() {
        if (instance == null) {
            instance = new YourSteps();
        }
        return instance;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример работы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>YourSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .yourMethod()
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Глагольные_выражения">2.6.6. Глагольные выражения</h4>
<div class="paragraph">
<p><code>web-plugin</code> позволяет описывать шаги, свойственные отдельной странице, непосредственно на ней. Такие шаги называются глагольными выражениями и описываются при помощи аннотации <code>@ActionTitle</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    @ActionTitle(value = "тестирует")
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Чтобы использовать глагольное выражение в тестовом сценарии, достаточно указать его имя в круглых скобках в контексте страницы. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Одно глагольное выражение может иметь несколько именований. В этом может быть необходимость, когда есть желание внести конкретику в тестовом сценарии. Сделать это можно при помощи аннотации <code>@ActionTitles</code> Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    @ActionTitles({
        @ActionTitle(value = "тестирует"),
        @ActionTitle(value = "тестирует вашу страницу")
    })
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Глагольные выражения могут иметь какие угодно параметры для этого достаточно добавить параметр в сигнатуре метода. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    @ActionTitle(value = "тестирует")
    public void check(String param) {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример использования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует) с параметром "Параметр"</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">При написании глагольных выражений важно помнить</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Значение, возвращаемое методом, никуда не сохраняется, поэтому в качестве типа возвращаемого значения стоит всегда указывать void</p>
</li>
<li>
<p>В качестве параметров метода можно использовать следующие типы: String, List&lt;String&gt;, DataTable</p>
</li>
<li>
<p>Если шага с нужным набором параметров для вашего экшена нет, вы можете написать его сами</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_База_для_глагольных_выражений">База для глагольных выражений</h5>
<div class="paragraph">
<p>Как уже говорилось выше, глагольные выражения базируются на уже описанных в `web-plugin`шагах особой структуры. Они приведены ниже</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из русскоязычных шагов
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">RU</th>
<th class="tableblock halign-center valign-middle">EN</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие без параметров</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* ()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user ()</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с параметром</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () ""<br>
* () с параметром ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () ""<br>
* user () with param ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с двумя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" ""<br>
* () с параметрами "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" ""<br>
* user () with the parameters "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с тремя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" "" ""<br>
* () с параметрами "" "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" "" ""<br>
* user () with the parameters "" "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действия с таблицей данных (DataTable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () данными<br>
* () "" данными</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () data<br>
* user () "" data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие со списком</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () из списка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () from the list</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_Некритичные_шаги_тестовых_сценариев">2.6.7. Некритичные шаги тестовых сценариев</h4>
<div class="paragraph">
<p>Есть возможность пометить шаг как некритичный, для этого перед шагом необходимо поставить "? ". Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ? пользователь заполняет поле "Поле" "Значение"</code></pre>
</div>
</div>
<div class="paragraph">
<p>То же самое работает и для глагольных выражений:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ? (любое глагольное выражение)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>В случае падения некритичного шага:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>выполнение сценария остановлено не будет</p>
</li>
<li>
<p>в консоль будет выведен лог ошибки</p>
</li>
<li>
<p>в allure отчете сценарий будет помечен как "Passed". Некритичный шаг будет помечен как "Unknown", к нему будут прикреплены скриншот в момент падения и текст ошибки</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Посмотреть, какие сценарии содержат некритичные ошибки можно на вкладке <code>Categories</code> отчета в категории <code>Non-critical failures</code></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/non-critical.png" alt="non critical"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Некритичные_пользовательские_ошибки">2.6.8. Некритичные пользовательские ошибки</h4>
<div class="paragraph">
<p>Если возникает ситуация, когда в шаге или глагольном выражении в зависимости от ситуации ошибка может быть как критичной так и не критичной, то можно для второй ситуации использовать <code>AllureNonCriticalError</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @Given("^check string \"([^\"]*)\"$")
    public void checkString(String str) {
        if (str.isEmpty()) {
            throw new AllureNonCriticalError("String is empty!");
        } else {
            Assert.assertEquals("Strings are not equal", "expected", str);
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обработка некритичной ошибки происходит аналогично работе с некритичными шагами</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/non-critical-error.png" alt="non critical error"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Переопределение_стандартных_методов">2.6.9. Переопределение стандартных методов</h4>
<div class="paragraph">
<p>Переопределить шаги плагина web-plugin можно одним из двух способов:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Переопределить непосредственно шаг</p>
</li>
<li>
<p>Переопределить действие внутри шага</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_Переопределение_шага">Переопределение шага</h5>
<div class="paragraph">
<p>Чтобы переопределить шаг, нужно наследоваться от класса с шагами - WebStepsImpl и переопределить метод как в примере</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends WebStepsImpl&lt;T&gt; {
    @Override
    public T click(String elementTitle) throws PageException {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Переопределение_действия">Переопределение действия</h5>
<div class="paragraph">
<p>Для переопределения нужно:</p>
</div>
<div class="paragraph">
<p>Создать класс, в котором будут храниться переопределенные методы, наследованные от <code>WebPageActions</code>, и описать в нем методы. Пример для клика:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourWebPageActions extends WebPageActions {

    @Override
    public void click(Object element){
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создать базовую страницу проекта, унаследовав её от базовой страницы плагина. Переопределить необходимые классы <code>Environment</code>. Унаследовать все страницы своего проекта от этой базовой страницы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.qa.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.WebPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    public YourPage() {
        Environment.setPageActions(yourWebPageActions);
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_Действия_для_переопределения">Действия для переопределения</h6>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fill(Object element, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Заполняет поле</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void click(Object element);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void press(Object element, String key);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие клавиши</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void select(Object element, String option);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выбирает из выпадающего списка</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void setCheckbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отмечает признак или снимает отметку</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void acceptAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимает алерт</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void dismissAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отклоняет алерт</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Тестовые_сценарии">2.7. Тестовые сценарии</h3>
<div class="paragraph">
<p><strong><em>Тестовый сценарий</em></strong> - это совокупность шагов, конкретных условий и параметров, необходимых для проверки реализации тестируемой функции или её части</p>
</div>
<div class="paragraph">
<p><strong><em>Фича</em></strong> - набора сценариев, имеющих общую функциональность. Фичи представляют собой файлы с расширением <code>feature</code>, написанные на языке <code>Gherkin</code> с использованием возможностей фреймворка <code>Cucumber</code></p>
</div>
<div class="paragraph">
<p>С учетом локализации шагов, фичи могут быть написаны по крайней мере на одном из двух языков: русском или английском</p>
</div>
<div class="paragraph">
<p>Рассмотрим структуру фичи на примере:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#language:ru
@feature-tag
Функционал: Тестирование поиска Google

  Предыстория:
    Когда открывается страница "Главная страница"

  @test-tag
  Сценарий: Тестирование поиска
    И пользователь (тестирует) "Элемент"

  @test-tag-examples
  Структура сценария: Тестирование поиска
    И пользователь (тестирует) "&lt;element&gt;"

  Примеры:
    | element   |
    | Элемент 1 |
    | Элемент 2 |</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>#language:ru</em></strong> - язык фичи</p>
</div>
<div class="paragraph">
<p><strong><em>@feature-tag</em></strong> - тэг запуска фичи. Позволяет запустить все тестовые сценарии фичи одной группой. Может быть любым, но обязан всегда начинаться с <code>@</code></p>
</div>
<div class="paragraph">
<p><strong><em>Функционал (Feature:)</em></strong> - описание функциональности фичи</p>
</div>
<div class="paragraph">
<p><strong><em>Предыстория: (Background:)</em></strong> - шаги, которые будут выполняться перед каждым тестовым сценарием</p>
</div>
<div class="paragraph">
<p><strong><em>@test-tag и @test-tag-examples</em></strong> - тэги запуска тестов. Могут быть любыми, но обязаны всегда начинаться с <code>@</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
На одном сценарии может быть сколько угодно тэгов<br>
<br>
Не рекомендуется использовать на разных сценариях или фичах только одинаковые тэги. Всегда должна быть возможность запустить любой тест отдельно от остальных
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Сценарий: (Scenario:)</em></strong> - описание функциональности тестового сценария</p>
</div>
<div class="paragraph">
<p><strong><em>Структура сценария: (Scenario Outline:)</em></strong> - описание функциональности тестового сценария. Используется при параметризации тестов в связке с ключевым словом <code>Примеры:</code></p>
</div>
<div class="paragraph">
<p><strong><em>Шаги и глагольные выражения</em></strong>  тестового сценария. Начинаются сразу после ключевого слова <code>Сценарий:</code>. Шаги должны начинаться с ключевых слов, таких как <code>Если</code>, <code>Когда</code>, <code>Тогда</code> (<code>Given</code>, <code>When</code>, <code>Then</code>) либо с <code>*</code>. Для работоспособности не имеет значения, какое ключевое слово используется, но они позволяют сделать фичи более удобными для чтения</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Чтобы использовать элемент или глагольное выражение, нужно обозначить текущий контекст — страницу. Сделать это можно, например, шагом "открывается страница"
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Примеры: (Examples:)</em></strong> - используются для параметризации тестового сценария. Значения подставляются по имени параметра. В нашем примере тест бы выполнился два раза: сначала с "Элемент 1", затем с "Элемент 2"</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Рекомендации:<br>
<br>
 1. Каждый сценарий должен быть независим от всех остальных, то есть его можно запустить независимо от остальных и он выполнится успешно<br>
<br>
 2. Лучше всего разбивать сценарии на группы по их функциональности, чтобы фичи были небольшими. Это значительно упростит поддержку автотестов в дальнейшем
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Фрагменты">2.7.1. Фрагменты</h4>
<div class="paragraph">
<p><strong><em>Фрагмент</em></strong> - набор шагов, который может быть подставлен в любой сценарий вместо заранее определенного шага</p>
</div>
<div class="paragraph">
<p>Чтобы использовать фрагменты, необходимо прописать в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.enabled = true</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Рассмотрим пример</dt>
<dd>
<p><strong><em>Сценарий A</em></strong> - сценарий, в который нужно подставить шаги<br>
<strong><em>Сценарий B</em></strong> - сценарий-фрагмент, шаги которого можно подставить в любой сценарий</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragment.png" alt="fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Подстановку фрагмента можно выполнить, используя один из шагов</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь вставляет фрагмент "Название фрагмента"
    * пользователь вставляет фрагмент "Название фрагмента"
		| параметр 1 | параметр 2 |
		| значение   | значение   |</code></pre>
</div>
</div>
<div class="paragraph">
<p>В примере выше "Название фрагмента" выделено <span class="lime">зеленым</span>.</p>
</div>
<div class="sect4">
<h5 id="_Как_создавать_фрагменты">Как создавать фрагменты</h5>
<div class="paragraph">
<p>1. Создать фичу, которая будет содержать фрагменты<br>
2. Прописать путь до каталога с фрагментами в файле конфигурации <code>application.properties</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.path = src/test/resources/fragments</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
В случае, если этот параметр не указан, то поиск фрагментов будет происходить в директории, которая указана в @CucumberOptions.features
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>3. Создать сценарий-фрагмент<br>
4. Аннотировать созданный сценарий как <code>@fragment</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Не используйте фрагменты как независимые тестовые сценарии</span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента">Пример параметризованного фрагмента</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: User и 123<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/param_fragment.png" alt="param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В <strong>B</strong> подстановка обозначена символами <strong>"&lt;&gt;"</strong>. Внутри указано имя параметра</p>
</li>
<li>
<p>В <strong>А</strong> выполняется вставка фрагмента с параметрами в виде таблицы данных. Первая строка таблицы — имена параметров, вторая — значения</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента_с_несколькими_строками_значений">Пример параметризованного фрагмента с несколькими строками значений</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: Alex и 123, Tony и 456<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/many_param_fragment.png" alt="many param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В случаях, когда в таблице параметров более одной строки, фрагмент будет подставлен столько раз, сколько строк в таблице. В каждой подстановке будут использованы значения соответствующей строки</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Цепочки_фрагментов">Цепочки фрагментов</h5>
<div class="paragraph">
<p>Допускается использование фрагментов внутри других фрагментов</p>
</div>
<div class="paragraph">
<p>Пример</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragments.png" alt="fragments"></a>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red"><strong><em>Не допускается:</em></strong><br>
1. Вызывать фрагмент из самого себя<br>
2. Зацикливать вызовов фрагментов</span><br>
<br>
 Эти исключительные ситуации обрабатываются и тесты будут остановлены до запуска обработчика <code>cucumber</code>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Динамические_фрагменты">Динамические фрагменты</h5>
<div class="paragraph">
<p>Фрагменты можно подставлять динамически в зависимости от тестовых данных. Например:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic-fragment.png" alt="dynamic fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Это так же может быть удобно для запуска в условиях постоянно меняющихся тестовых данных либо условий тестирования (различные версий приложения)</p>
</div>
<div class="paragraph">
<p>Рассмотрим подробнее. Допустим, у нас есть тестовый сценарий, проверяющий работу с данными клиента. Клиент может быть новым (нет в системе) и старым. Если клиент новый, его нужно завести. Если старый, то найти через поиск и проверить, что он был найден. Поэтому в нашем примере будет два фрагмента — по одному для каждой из ситуаций плюс тестовые данные сценария</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex1.png" alt="dynamic fragment ex1"></a>
</div>
</div>
<div class="paragraph">
<p>В ситуации, когда клиент уже известен (Client = User) выполнится фрагмент "Проверка данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex2.png" alt="dynamic fragment ex2"></a>
</div>
</div>
<div class="paragraph">
<p>И, напротив, для неизвестного клиента (Client = Unauthorized user) выполнится "Заполнение данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex3.png" alt="dynamic fragment ex3"></a>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Работа_с_тестовыми_данными">2.7.2. Работа с тестовыми данными</h4>
<div class="sect4">
<h5 id="_Тестовые_данные_из_файлов">Тестовые данные из файлов</h5>
<div class="paragraph">
<p>Тестовые данные могут быть использованы в любом шаге сценария. Тестовые данные могут храниться в одном из форматов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>json</p>
</li>
<li>
<p>properties</p>
</li>
<li>
<p>excel</p>
</li>
<li>
<p>mongo</p>
</li>
<li>
<p>custom test data provider</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="_Тип_и_расположение_файлов_тестовых_данных">Тип и расположение файлов тестовых данных</h6>
<div class="paragraph">
<p>Задать тип тестовых данных можно в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.type = json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Задать расположение тестовых данных можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> путь указывается до файла без расширения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если файлы имеют нестандартное для типа данных расширение, нужно указать его в настройках. Для <code>excel</code> не будет учитываться (всегда будет <code>xslx</code>). Например, для файлов с расширением <code>jsonp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.extension = jsonp</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Инициализация_коллекции">Инициализация коллекции</h6>
<div class="paragraph">
<p>Для инициализации коллекции нужно задать ее через конфигурацию. Имя файла задается без расширения. Если в проекте используется несколько коллекций, то в параметре нужно указать наиболее часто используемую. Пример инициализации коллекции для <code>Data.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обратиться к инициализированной можно через символ <code>$</code>, к неинициализированной через <code>$</code> и имя.
Для обращения из фичи существует тэг <code>@data</code>. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@data=$OtherData</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> коллекция - это имя вкладки</p>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_mongodb_code">Особенности работы <code>mongodb</code></h6>
<div class="paragraph">
<p>Для <code>mongodb</code> есть два дополнительных обязательных параметра: адрес и имя базы данных. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.uri = mongodb://username:password@host.ru:8080
data.db = bd</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_properties_code">Особенности работы <code>properties</code></h6>
<div class="paragraph">
<p>Для <code>properties</code> файлов доступен функционал раскладывания значения на массив по разделителю. По-умолчанию это <code>,</code>, но можно переопределить следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.arrayDelimiter = !</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Подключение_своего_провайдера_тестовых_данных">Подключение своего провайдера тестовых данных</h6>
<div class="paragraph">
<p>Есть возможность зарегистрировать свой провайдер данных. Для этого необходимо, реализовать интерфейс <a href="https://github.com/sbtqa/datajack/blob/master/datajack-api/src/main/java/ru/sbtqa/tag/datajack/TestDataProvider.java">TestDataProvider</a>.</p>
</div>
<div class="paragraph">
<p>В классе реализации должен присутствовать конструктор со следующими параметрами: <code>new MyDataProvider(String initialCollection, String extensionOrDb)</code></p>
</div>
<div class="paragraph">
<p>Конфигурация задается следующими параметрам в <code>application.properties</code> (на примере JsonDataProvider):</p>
</div>
<div class="listingblock">
<div class="content">
<pre># Полное имя java пакета
data.provider.fqdn=ru.sbtqa.tag.datajack.providers

# Имя артефакта и имя класса реализации
data.type = json.JsonDataProvider

# Указать изначальную коллекцию
data.initial.collection = Data

# Задать расширение файла, либо имя базы данных (нельзя задавать оба значения одновременно)
data.extension = json
# data.db = bd</pre>
</div>
</div>
<div class="paragraph">
<p>Это позволит начать использовать свой провайдер данных по общим правилам фреймворка.</p>
</div>
</div>
<div class="sect5">
<h6 id="_Путь_к_элементу_коллекции">Путь к элементу коллекции</h6>
<div class="paragraph">
<p>Для обозначения пути внутри коллекции используются фигурные скобки</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание, если имя коллекции не указывается явно перед параметром, то перед фигурными скобками должен стоять символ <code>$</code> (брать данные из текущей коллекции)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Пример для элемента <code>first name</code> из набора <code>Admin</code> коллекции <code>Data</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>И пользователь (тестирует) "Элемент" с параметром "$Data{Admin.first name}"</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Ссылки_на_другие_элементы">Ссылки на другие элементы</h6>
<div class="paragraph">
<p>Поддерживается работа со ссылками в данных, как внутри одной коллекции, так и на другие коллекции.</p>
</div>
<div class="paragraph">
<p>Для <code>mongodb</code> используется встроенный механизм ссылок.</p>
</div>
<div class="paragraph">
<p>Для <code>excel</code> достаточно в ячейке значения указать ссылку вида <code>$ref:&lt;имя коллекции&gt;:&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ref:Data:price</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>json</code> ссылки задавать можно как объект вида <code>{ "$ref" : "&lt;имя коллекции&gt;.&lt;путь&gt;" }</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "some reference": {
        "$ref": "Data:price"
    },
    "price": 20.00
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>properties</code> ссылки задавать можно как объект вида <code>&lt;property name&gt;.$ref = &lt;имя коллекции&gt;.&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>someReference.$ref = Data:price
price = 20.00</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Примеры">Примеры</h6>
<div class="paragraph">
<p><strong><em>Простой пример с заданием коллекции через тэг `@data`</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataSimpleEx.png" alt="dataSimpleEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Через <code>@data</code> можно задать не только имя коллекции, но и путь к набору данных внутри нее</em></strong></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataEx2.png" alt="dataEx2"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример инициализации коллекции для сценария с использованием параметров в таблице данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTableEx.png" alt="dataTableEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример использования нескольких файлов данных в одном тестовом сценарии, массивов данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTwoCollections.png" alt="dataTwoCollections"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример задания пути данных с учетом коллекции, описанной в конфигурации</em></strong></p>
</div>
<div class="paragraph">
<p>Пример для значения</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataInit.png" alt="dataInit"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример работы со ссылками</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/data_relative.png" alt="data relative"></a>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Запоминание_значений_и_работа_с_ними_stash">Запоминание значений и работа с ними (Stash)</h5>
<div class="paragraph">
<p>1. Для запоминания значения необходимо в одном из шагов выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Stash.put("key", "value");</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание! Для использования запомненных значений в шагах необходимо, чтобы ключ и значение были типа <code>String</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>2. Используйте запомненное значение в любом шаге, например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле" "#{key}"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Особенности:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ключ может использоваться в любых возможных вариантах: в списке или таблице с данными, в многострочных параметрах, параметрах сценария.</p>
</li>
<li>
<p>Ключ может быть именем поля или частью текста</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр
с #{key} в качестве фрагмента
текста
"""</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В одном параметре может использоваться сколько угодно ключей, в том числе один и тот же ключ несколько раз:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр с двумя разными данными
с ключами #{key1} и #{key2} в качестве фрагментов
текста
"""</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Настройки_проекта">2.8. Настройки проекта</h3>
<div class="sect3">
<h4 id="_Конфигурационный_файл">2.8.1. Конфигурационный файл</h4>
<div class="paragraph">
<p>Конфигурационный файл по умолчанию должен быть расположен по пути '/src/test/resources/config/application.properties'. <br>
Но этот путь можно переопределить, передав путь до файла через системную переменную 'TagConfigFileFolder', таким образом что директория находится в папке с ресурсами (/src/test/resources). По умолчанию это папка config в ресурсах.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFileFolder=custom-place</code></pre>
</div>
</div>
<div class="paragraph">
<p>Также можно переопределить наименование самого конфига, передав название через системную переменную 'TagConfigFile'. По умолчанию это файл с наименованием application.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFile=config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>Так же можно задавать отдельные свойства через переменные окружения, либо через java system properties.</p>
</div>
<div class="paragraph">
<p>Все последующие свойства переопределяют предыдущие. Приоритет значений следующий:<br>
* По-умолчанию читается application.properties
* Далее идет чтение TagConfigFile
* Затем считываются переменные окружения
* И в конце - java system properties</p>
</div>
</div>
<div class="sect3">
<h4 id="_Общие_конфигурации">2.8.2. Общие конфигурации</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Обязательные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page.package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до пакета с классами страниц(pages)</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">page.package = ru.myproject.pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Опциональные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймаут операций в секундах</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks.to.kill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр позволяет принудительно убить процессы перед запуском тестового прогона, если они запущены</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">tasks.to.kill = iexplorer,chrome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">driver.shared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, оставлять ли драйвер после каждого тестового сценария (кроме последнего из набора) запущенным или нет</p>
<p class="tableblock">Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_отчетов">2.8.3. Конфигурирование отчетов</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">screenshot.strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр определяет стратегию для работы с инструментами снимков экрана</p>
<p class="tableblock">Возможные значения: <code>driver</code> или <code>raw</code>.<br>
<code>driver</code> - скриншот будет создаваться средствами <code>Selenium WebDriver</code>, т.е будет сделан только скриншот страницы<br>
<code>raw</code> - будет сделан скриншот всего экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>raw</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.fill.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры заполнения полей в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.click.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия на элемент в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.press.key.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия клавиш в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.set.checkbox.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры установки признаков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.select.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры выбора из выпадающих списков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.error.source.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли исходный код страницы на которой произошла ошибка во время теста<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_записи_видео">2.8.4. Конфигурирование записи видео</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает запись видео<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь, куда будут сохранятся файлы. Можно указать сетевую папку</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">video.path = /tmp/video</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Стандартная для ОС папка для хранения временных файлов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_фрагментами">2.8.5. Параметры работы с фрагментами</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает работу с фрагментами<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с фрагментами</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">fragments.path = src/test/resources/fragments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до папки с фичами из параметров запуска (@CucumberOptions)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_тестовыми_данными">2.8.6. Параметры работы с тестовыми данными</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тип данных</p>
<p class="tableblock">Возможные значения: <code>json</code>, <code>mongo</code>, <code>excel</code>, <code>properties</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с данными. Для <code>excel</code> путь до файла без расширения</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.folder = src/test/resources/data/</p>
<p class="tableblock">Пример для <code>excel</code></p>
<p class="tableblock">data.folder = src/test/resources/data/Data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.initial.collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Коллекция данных по умолчанию. Указывается без расширения. Для <code>excel</code> - имя вкладки</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.initial.collection = Data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные при работе с <code>mongodb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Адрес базы данных. Параметр для <code>data.type = mongo</code></p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.uri = mongodb://username:password@host.ru:8080</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.db</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя базы данных. Параметр для <code>data.type = mongo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Необязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Расширение файлов данных (используется для задания нестандартных расширений). Для <code>excel</code> не учитывается (всегда будет <code>xslx</code>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_для_работы_с_code_selenium_webdriver_code">2.8.7. Параметры для работы с <code>Selenium WebDriver</code></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Обязательные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя браузера, в котором нужно запустить автотесты. Возможные значения: <code>Chrome</code>, <code>IE</code>, <code>Firefox</code>, <code>Safari</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.starting.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Начальная страница запуска автотестов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"about:blank"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Опциональные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия браузера, для которой нужен драйвер. Если указан этот параметр, то будет выполнена попытка автоматически найти соответствующую браузеру версию драйвера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если браузер находится в нестандартном расположении, укажите путь до него в здесь</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Укажите размер браузера окна (этот параметр необходим, если вы используете браузер в контейнере Docker)</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">webdriver.browser.size = 1920x1080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.ie.killOnDispose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Только для Windows.<br>
Возможные значения: true или false.<br>
Параметр используется для того, чтобы указать, убивать ли принудительно браузер IE после выполнения тестов или нет</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.create.attempts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество попыток на запуск браузера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.drivers.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если вы используете локальный экземпляр веб драйвера, укажите путь до него в данном параметре</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">webdriver.browser.path = src/test/resources/webdrivers/chromedriver.exe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия драйвера. Если указан этот параметр, то будет выполнена попытка автоматически найти соответствующую версию</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.nexus.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр для загрузки драйвера из репозитория Nexus. Если не указано, то будут  использованы репозитории по умолчанию для загрузки драйверов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.os.arch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">для какой архитектуры выгружать драйвер. Может быть 32 или 64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если вы используете RemoteDriver, укажите путь до него в данном параметре.</p>
<p class="tableblock">Пример:</p>
<p class="tableblock"><a href="http://127.0.0.1:4444/wd/hub" class="bare">http://127.0.0.1:4444/wd/hub</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Добавьте этот параметр, если нужно указать прокси сервер.</p>
<p class="tableblock">Пример:</p>
<p class="tableblock"><a href="http://proxy.com:8080" class="bare">http://proxy.com:8080</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_запуска">2.8.8. Параметры запуска</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.scroll.to.element.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, пролистывать до элемента или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.highlight.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, подсвечивать элементы при взаимодействии с ними или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.click.actions.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, делать ли клик через <code>org.openqa.selenium.interactions.Actions</code> или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_browser_capabilities">2.8.9. Параметры работы с browser capabilities</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.*
(* - имя необходимой capability)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Устанавливает значение заданной capability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.binary = C:\\Chrome\\chrome.exe - указать путь до исполняемого файла Google Chrome</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.options.args</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Аргументы командной строки браузера. Передаются через запятую</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.options.args = user-data-dir=C:\\workspace\\user-data\\,start-maximized</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_selenoid_moon">2.8.10. Параметры работы с Selenoid/Moon</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия браузера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version = 58.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение доступа по VNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution = 1280x1024x24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение записи видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя видеофайла
selenoid.video.name = my-cool-video.mp4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize = 1024x768</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество кадров в секунду</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate = 24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя теста, по умолчанию наименование берется из названия сценария (для cucumber сценария)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests = myCoolTestName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймзона</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone = Europe/Moscow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Список передаваемых хостов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries = example.com:192.168.0.1,test.com:192.168.0.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Контейнеры</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers = spring-application-main:my-cool-app,spring-application-gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.containerLabels</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Построение_отчетов">2.9. Построение отчетов</h3>
<div class="paragraph">
<p>По умолчанию web-plugin поддерживают создание отчетов с использованием Allure версии 2.</p>
</div>
<div class="paragraph">
<p>Чтобы настроить автоматическое создание отчетов после прохождения автотестов, нужно сделать следующее:</p>
</div>
<div class="paragraph">
<p>Для плагина <code>maven-surefire-plugin</code> добавить параметр запуска. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.20&lt;/version&gt;
        &lt;configuration&gt;
          &lt;argLine&gt;
            -javaagent:"${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar"
            -Dcucumber.options="--plugin io.qameta.allure.cucumber2jvm.AllureCucumber2Jvm --plugin pretty"
          &lt;/argLine&gt;
        &lt;/configuration&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
            &lt;version&gt;${aspectj.version}&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>После выполнения тестов в папке allure-results/ будут созданы json файлы с результатами прохождения тестов - для каждого теста отдельный файл. В отчетах можно в том числе найти скриншоты (в момент падения теста) и ссылки на видео (если велась запись).</p>
</div>
<div class="paragraph">
<p>Просмотреть результаты в виде страницы-отчета можно <a href="https://docs.qameta.io/allure/#_reporting" class="ext-link" target="_blank" rel="noopener">одним из способов</a></p>
</div>
<div class="sect3">
<h4 id="_Отчеты_и_fluent_api">2.9.1. Отчеты и Fluent API</h4>
<div class="paragraph">
<p>Для того чтобы отчеты содержали шаги, которые вы используете в тестах без <code>cucumber</code>, необходимо следующее:</p>
</div>
<div class="paragraph">
<p>5. Добавить <code>allure</code> зависимость в проект</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
      &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;
      &lt;version&gt;2.10.0&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>6. Добавить <code>listener</code> в конфигурацию <code>maven-surefire-plugin</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;properties&gt;
  &lt;property&gt;
    &lt;name&gt;listener&lt;/name&gt;
    &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;
  &lt;/property&gt;
&lt;/properties&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>7. В случае, если требуется английская локализация фреймворк-шагов, то добавить в <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>   junit.lang = en</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
По умолчанию язык русский
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>8. Свои методы следует аннотировать <code>@Step</code></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Step("Мой тестовый метод \"{parameter}\"")
    public T yourMethod(String parameter) {
        ...
        return (T) this;
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Вспомогательные_методы">2.10. Вспомогательные методы</h3>
<div class="sect3">
<h4 id="_Вспомогательные_методы_использующие_рефлексию">2.10.1. Вспомогательные методы, использующие рефлексию</h4>
<div class="paragraph">
<p><code>web-plugin</code> предоставляет ряд методов для работы с блоками и типизированными элементами</p>
</div>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getReflection()</code></p>
</div>
<div class="sect4">
<h5 id="_Работа_с_элементами">Работа с элементами</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getElementTitle(Page page, Object element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает значение аннотации <code>@ElementTitle</code> для переданного элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isRequiredElement(Field field, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли поле объявлением элемента или нет (аннотировано <code>@ElementTitle</code> или нет)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getFieldTitle(Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает значение аннотации <code>@ElementTitle</code> поля</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T&gt; T getElementByField(Object parentObject, Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает объект поля для указанного родителя</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Работа_с_глагольными_выражениями">Работа с глагольными выражениями</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void executeMethodByTitle(Object context, String title, Object&#8230;&#8203; param)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит глагольное выражение в переданном контексте и выполняет его. В качестве контекста может выступать блок или страница</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean isRequiredAction(Method method, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли метод глагольным выражением или нет (аннотирован <code>@ActionTitle</code> или <code>@ActionTitles</code> или нет)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Другие_полезные_методы_2">Другие полезные методы</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Method&gt; getDeclaredMethods(Class clazz)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает методы переданного класса, включая методы родителя</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fireValidationRule(Page page, String title, Object&#8230;&#8203; params)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит метод страницы, у которого значение аннотации <code>@ValidationRule</code> совпадает с переданным, и выполняет его</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Tag&gt; getScenarioTags(ScenarioDefinition scenarioDefinition)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает список тэгов сценария</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_Переопределение_методов_для_работы_с_рефлексией">2.10.2. Переопределение методов для работы с рефлексией</h4>
<div class="paragraph">
<p>Создать класс, наследованный от <code>DefaultReflection</code>, и переопределить в нем методы. Пример для получения элемента:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourReflection extends DefaultReflection {

    @Override
    public &lt;T&gt; T getElementByTitle(Page page, String title) {
        ...
        return (T) element;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Добавить аннотированный <code>@Before</code> метод, который будет устанавливать, какие методы работы с рефлексией использовать (<code>order</code> &gt; 2):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepDefs {
    @Before(order = 3)
    public void setReflection() {
        Environment.setReflection(new YourReflection());
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Проверки_текстовых_значений_элементов">2.10.3. Проверки текстовых значений элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getPageChecks()</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEquality(Object element, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента и сравнивает его с переданным</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEquality(Object element, String text, MatchStrategy matchStrategy)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента и сравнивает его с переданным с учетом стратегии поиска:</p>
<p class="tableblock"><strong><em>MatchStrategy.EXACT</em></strong> - для проверки на строгое соответствие<br>
<strong><em>MatchStrategy.CONTAINS</em></strong> - в случае, когда текстовое значение элемента должно содержать в себе переданный текст</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEmptiness(Object element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что элемент не содержит текстовое значение</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_Переопределение_проверок">Переопределение проверок</h5>
<div class="paragraph">
<p>Для переопределения нужно:</p>
</div>
<div class="paragraph">
<p>Создать класс, в котором будут храниться переопределенные методы, наследованные от <code>WebPageChecks</code>, и описать в нем методы. Пример для клика:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourWebPageChecks extends WebPageChecks {

    @Override
    public void click(Object element){
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создать базовую страницу проекта, унаследовав её от базовой страницы плагина. Переопределить необходимые классы <code>Environment</code>. Унаследовать все страницы своего проекта от этой базовой страницы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.qa.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.WebPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends WebPage {

    public YourPage() {
        Environment.setPageChecks(yourWebPageChecks);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_драйвером">2.10.4. Методы работы с драйвером</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getDriverService()</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebDriver getDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текущий драйвер. Если драйвера нет, то будут предпринято несколько попыток создать его (число попыток задается параметром конфигурации <code>webdriver.create.attempts</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void mountDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Создает драйвер. Если не удалось создать, то будет выполнено еще несколько попыток  (число попыток задается параметром конфигурации <code>webdriver.create.attempts</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void demountDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Завершает работу драйвера, а так же закрывает все открытые окна браузера</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void setWebDriver(org.openqa.selenium.WebDriver aWebDriver)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Устанавливает драйвер</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isDriverEmpty()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, создан драйвер или нет</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_браузером">2.10.5. Методы работы с браузером</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>WebEnvironment</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static BrowserName getBrowserName()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает имя браузера</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_ожиданиями">2.10.6. Методы работы с ожиданиями</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Wait</code></p>
</div>
<div class="paragraph">
<p>Время ожидания для всех методов стандартное (из параметра <code>timeout</code> файла конфигурации), если не задано явно другого</p>
</div>
<div class="paragraph">
<p>Во всех методах ниже - <code>message</code> - сообщение об ошибке в случае неудачной проверки</p>
</div>
<div class="sect4">
<h5 id="_Ожидания_появления_элемента">Ожидания появления элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_исчезновения_элемента">Ожидания исчезновения элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_изменения_атрибутов_элемента">Ожидания изменения атрибутов элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(WebElement element, String attribute, String attributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>). Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(WebElement element, String attribute, String attributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>) в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(By by, String attribute, String attributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>). Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(By by, String attribute, String attributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>) в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_состояния_атрибутов_элемента">Ожидания состояния атрибутов элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(WebElement element, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(WebElement element, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(By by, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(By by, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(WebElement element, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(WebElement element, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(By by, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(By by, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_изменения_текстовых_значений">Ожидания изменения текстовых значений</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(String xpath, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(String xpath, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(WebElement element, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(WebElement element, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(String xpath, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(String xpath, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(WebElement element, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(WebElement element, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotEquals(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает неравенства текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotEquals(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает неравенства текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textEquals(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает равенства текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textEquals(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает равенства текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_появления_элемента_в_структуре_dom">Ожидания появления элемента в структуре DOM</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_исчезновения_элемента_из_структуры_dom">Ожидания исчезновения элемента из структуры DOM</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void absence(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновение элемента из структуры DOM. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void absence(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновение элемента из структуры DOM в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_кликабельности_элемента">Ожидания кликабельности элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидание_выполнения_переданного_условия">Ожидание выполнения переданного условия</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void wait(ExpectedCondition condition, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает в течении стандартного таймаута выполнения условия, заданного параметром <code>ExpectedCondition</code>. Например, для ожидания исчезновения элемента по его локатору <code>ExpectedConditions.invisibilityOfElementLocated(by)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void wait(ExpectedCondition condition, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает в течении переданного таймаута выполнения условия, заданного параметром <code>ExpectedCondition</code>. Например, для ожидания исчезновения элемента по его локатору <code>ExpectedConditions.invisibilityOfElementLocated(by)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Другие_ожидания">Другие ожидания</h5>
<div class="paragraph">
<p>Обратиться к методам можно через <code>WebWait</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForPageToLoad(boolean&#8230;&#8203; stopRecursion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает загрузки страницы. Если страница не загружена - обновляет и проверяет повторно. Повторят эти действия до тех пор пока страница не будет открыта либо пока не истечет стандартный таймаут (задан в параметре <code>timeout</code> конфигурации)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForTextPresenceInPageSource(String text, boolean shouldTextBePresent)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет наличие или отсутствие текста на странице в зависимости от параметра <code>shouldTextBePresent</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForModalWindowWithText(String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления модального окна с заданным текстом</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Как_работать_с_алертами">2.11. Как работать с алертами</h3>
<div class="paragraph">
<p>Чтобы объявить алерт, появляющийся на странице, нужно создать экземпляр класса <code>Alert</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Alert alert = new Alert();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем с ним можно выполнить одно из действий:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkValue(String expectedValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет текст алерта</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void accept()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимает алерт</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void dismiss()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отклоняет алерт</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_html_plugin">3. HTML Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Плагин, позволяющий реализовать web автоматизацию на проекте с использованием типизированных элементов и блоков. Он базируется на <code>selenium</code>,  <code>cucumber</code> и <code>htmlelements-java</code>. Инструмент содержит логику взаимодействия с блоками и типизированными элементами</p>
</div>
<div class="sect2">
<h3 id="_Как_начать_использовать_2">3.1. Как начать использовать</h3>
<div class="paragraph">
<p>Для начала использования необходимо подключить зависимость, указав актуальную версию плагина</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;ru.sbtqa.tag.pagefactory&lt;/groupId&gt;
      &lt;artifactId&gt;html-plugin&lt;/artifactId&gt;
      &lt;version&gt;Актуальная версия&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем создать, если еще не создан, файл запуска тестов, унаследовав его от класса <code>Tag</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import cucumber.api.CucumberOptions;
import cucumber.api.junit.Cucumber;
import org.junit.runner.RunWith;
import ru.sbtqa.tag.pagefactory.Tag;

@RunWith(Cucumber.class)
@CucumberOptions(monochrome = true, plugin = {"pretty"},
        // Укажите здесь корневые пакеты, в которых хранятся шаги
        // Если вы написали свои классы с шагами, не забудьте указать здесь пакеты, в которых они находятся
        glue = {"ru.sbtqa.tag.stepdefs",
                "ru.your.project.stepdefs"},
        // Укажите здесь путь до каталога с фичами
        features = {"src/test/resources/ru/features/"},
	    // Здесь можно указать тэг теста или нескольких тестов, которые нужно запустить
        tags = {"@test"}
)

public class CucumberTest extends Tag{}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_страниц_2">3.2. Описание страниц</h3>
<div class="paragraph">
<p>При описании страниц нужно придерживаться паттерна <code>PageObject</code></p>
</div>
<div class="paragraph">
<p><strong><em>Страница</em></strong> - это класс, внутри которого хранится описание элементов пользовательского UI, а так же действия(actions), которые можно выполнить на этой странице.</p>
</div>
<div class="paragraph">
<p>Чтобы пользоваться всеми преимуществами плагина, необходимо унаследовать каждую страницу вашего проекта от <code>HTMLPage</code> и именовать страницу при помощи аннотации <code>@PageEntry</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.HTMLPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>По имени, заданному аннотацией <code>@PageEntry</code>, можно будет обратиться к странице из тестового сценария.</p>
</div>
<div class="paragraph">
<p>Путь до корневого пакета с классами страниц должен быть прописан в файле конфигурации (application.properties) в параметре <code>page.package</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>page.package = ru.your.project.pages</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="aqua">Рекомендуется заводить в проекте базовую страницу, унаследованную от <code>HTMLPage</code>, и уже от нее наследовать все остальные. Это позволит в случае необходимости описать ряд действий на базовой странице проекта.</span>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_для_работы_со_страницами_2">3.2.1. Методы для работы со страницами</h4>
<div class="paragraph">
<p>Обратиться к методам можно через класс <code>PageManager</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Map&lt;Class&lt;? extends Page&gt;, Map&lt;Field, String&gt;&gt; getPageRepository()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает репозиторий страниц (набор: страница - набор полей-элементов страницы с именами)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(Class&lt;? extends Page&gt; page)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени класса</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page changeUrlByTitle(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Перенаправляет на URL (по значению <code>url</code> аннотации <code>@PageEntry</code>) страницы с заданным именем (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void cachePages()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вносит все страницы проекта в репозиторий страниц</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_элементов_2">3.3. Описание элементов</h3>
<div class="paragraph">
<p>Элемент web-страницы можно описать в классе-странице задав путь до него в структуре DOM и имя. Элемент может не иметь имени, если к нему не нужно обращаться из тестового сценария, например в ситуации, когда он используется только в методах страницы.</p>
</div>
<div class="paragraph">
<p>Для задания пути, как правило, используется стандартная аннотация selenium - <code>@FindBy</code> или другие аналогичные аннотации. Почитать о методах поиска и локаторах можно <a href="https://kreisfahrer.gitbooks.io/selenium-webdriver/content/webdriver_intro/tipi_lokatorov.html" class="ext-link" target="_blank" rel="noopener">в документации selenium</a>. Для задания имени - аннотация <code>@ElementTitle</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @ElementTitle(value = "Элемент")
    @FindBy(xpath = "//span")
    public WebElement element;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Инициализировать элементы страницы не нужно, так как этот функционал уже зафиксирован на странице-родителе - <code>HTMLPage</code></p>
</div>
<div class="paragraph">
<p>Если же такая необходимость возникла, то достаточно определить конструктор страницы, вызвав в нем родительский конструктор с нужным декоратором.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    public YourPage() {
        super(new HtmlElementDecorator(new HtmlElementLocatorFactory(Environment.getDriverService().getDriver())));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Блоки_и_элементы">3.4. Блоки и элементы</h3>
<div class="paragraph">
<p>Для работы с элементами в плагине используется библиотека  <code>htmlelements-java</code>. Он позволяет описывать элементы на странице свойственными им типами (Button, TextInput, CheckBox и пр.) и группировать эти элементы в блоки. Подробнее об этом можно узнать из документации на данный фреймворк.</p>
</div>
<div class="paragraph">
<p><code>Html plugin</code> расширяет функциональные возможности <code>htmlelements-java</code> в части работы с комбинированием элементов в блоках</p>
</div>
<div class="paragraph">
<p>Остановимся на этом подробнее.</p>
</div>
<div class="paragraph">
<p>Предположим, что у нас есть несколько одинаковых групп элементов. Рассмотрим на примере элементов со страницы яндекс маркета</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/blocks.png" alt="blocks"></a>
</div>
</div>
<div class="paragraph">
<p>Каждый товар имеет одинаковое описание - цена, название, категория товара и визуальное представление товара.<br>
На странице таких товаров может быть очень много и при необходимости взаимодействия с ними придется объявлять много однотипных элементов, в которых просто запутаться. Чтобы таких ситуаций не возникало, проще считать каждый товар - одним элементом страницы - блоком, содержащим в себе элементы описания товара.</p>
</div>
<div class="paragraph">
<p>Для примера блок будет выглядеть следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import org.openqa.selenium.support.FindBy;
import ru.sbtqa.tag.pagefactory.annotations.ElementTitle;
import ru.yandex.qatools.htmlelements.element.Image;
import ru.yandex.qatools.htmlelements.element.HtmlElement;
import ru.yandex.qatools.htmlelements.element.TextBlock;
import ru.yandex.qatools.htmlelements.element.Link;

public class Product extends HtmlElement {

    @ElementTitle("Изображение товара")
    @FindBy(xpath = ".//img")
    private Image image;

    @ElementTitle("Стоимость")
    @FindBy(xpath = ".//span[text()]")
    private TextBlock cost;

    @ElementTitle("Наименование")
    @FindBy(xpath = ".//div[starts-with(@class,’name’)]")
    private Link name;

    @ElementTitle("Категория")
    @FindBy(xpath = ".//div[text() and not(starts-with(@class,'name'))]")
    private TextBlock category;
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Обратите внимание, что все пути внутри блока должны быть относительными (начинаться с точки), иначе поиск элемента не будет выполняться в контексте блока
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Яндекс элементы предполагают работу с блоком через его именование в классе-блоке и указанием там же пути до него через соответствующие аннотации @Name и @Block, но в контексте <code>Html plugin</code> - это не нужно и накладывает ряд функциональных ограничений. Например, нельзя объявить два одинаковых блока на странице.<br>
Поэтому правильнее будет объявлять блоки как и любые другие элементы, задавая им имя и путь через аннотации <code>@ElementTitle</code> и <code>@FindBy</code> соответственно.</p>
</div>
<div class="paragraph">
<p>Пример для описанного выше блока:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import org.openqa.selenium.support.FindBy;
import ru.sbtqa.tag.pagefactory.HTMLPage;
import ru.sbtqa.tag.pagefactory.annotations.ElementTitle;

@PageEntry(title = "Продукты маркета")
public class ProductPage extends HTMLPage {

    @ElementTitle("Наушники")
    @FindBy(xpath = "(//div[@data-zone-name='product'])[1]")
    private Product headphones;

    @ElementTitle("Телефон")
    @FindBy(xpath = "(//div[@data-zone-name='product'])[2]")
    private Product phone;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Поиск_элементов_2">3.5. Поиск элементов</h3>
<div class="paragraph">
<p>В качестве параметра для любого шага библиотеки можно передавать:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>элемент или блок</p>
</li>
<li>
<p>элемент в блоке</p>
</li>
<li>
<p>элемент в списке</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_Описание_типов_параметров">3.5.1. Описание типов параметров</h4>
<div class="sect4">
<h5 id="_Элемент_блок_список">Элемент, блок, список</h5>
<div class="paragraph">
<p>В качестве параметра поиска может выступать любой типизированный элемент, блок или <code>WebElement</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ обращения в тестовом сценарии</dt>
<dd>
<p>Значение аннотации <code>@ElementTitle</code> элемента, описанного на текущей странице</p>
</dd>
<dt class="hdlist1">Пример обращения</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* текст элемента "Здесь значение аннотации" "текст элемента"</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример на странице</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@ElementTitle(value = "Здесь значение аннотации")
@FindBy(xpath = "//div")
public TextBlock element;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Элемент_в_списке">Элемент в списке</h5>
<div class="paragraph">
<p>Это может быть список любых элементов, в том числе блоков</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ обращения в тестовом сценарии</dt>
<dd>
<p>Значение аннотации <code>@ElementTitle</code> списка элементов (если нужно вернуть первый по-порядку элемент)
Значение аннотации <code>@ElementTitle</code> списка элементов + порядковый номер элемента списка (1,2,3&#8230;&#8203;). через разделитель "&#8594;"</p>
</dd>
<dt class="hdlist1">Пример обращения</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># предполагается первый по-порядку элемент списка
* текст элемента "Список элементов" строго равен "текст элемента"

# вернет 2 по-порядку элемент списка
* текст элемента "Список элементов-&gt;2" строго равен "текст элемента"</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример на странице</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@ElementTitle(value = "Список элементов")
@FindBy(xpath = "//div")
public List&lt;TextBlock&gt; list;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Элемент_в_блоке">Элемент в блоке</h5>
<div class="paragraph">
<p>Блок с элементами, объявленный на странице</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ обращения в тестовом сценарии</dt>
<dd>
<p><code>@ElementTitle</code> блока + <code>@ElementTitle</code> элемента в блоке - через разделитель "&#8594;"</p>
</dd>
<dt class="hdlist1">Пример обращения</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь отмечает признак "Блок-&gt;Элемент"</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример на странице</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@ElementTitle(value = "Блок")
@FindBy(xpath = "//div")
public Block block;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Блоки могут быть вложенными, обращение к ним может идти аналогичным образом. Например <code>"Блок&#8594;Вложенный блок 1&#8594;Вложенный блок 2&#8594;Элемент"</code>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Описание_методов_поиска">3.5.2. Описание методов поиска</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="aqua">В качестве параметра можно передавать любой тип из описанных выше, любую их комбинацию, любого уровня вложенности через разделитель <code>&#8594;</code></span>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Обратиться к методам поиска можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>((HtmlFindUtils) Environment.getFindUtils()).find("Имя элемента");</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(String name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает элемент по его имени или пути. Предполагается, что элемент находится на текущей странице</p>
<p class="tableblock">Если элемент будет найден, будет выполнено ожидание появления его на странице</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(String name, boolean wait)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает элемент по его имени или пути с возможностью задать, ожидать появление этого элемента на странице или нет. Предполагается, что элемент находится на текущей странице</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(T context, String name, boolean wait)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает элемент по его имени или пути в заданном контексте с возможностью задать, ожидать появление этого элемента на странице или нет</p>
<p class="tableblock">В качестве контекста (относительно чего искать элемент) может выступать элемент, внутри которого нужно выполнить поиск</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; List&lt;T&gt; findList(T context, String name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает список элементов по его имени или пути в заданном контексте</p>
<p class="tableblock">В качестве контекста (относительно чего искать элемент) может выступать  элемент, внутри которого нужно выполнить поиск</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(String name, Class&lt;T&gt; type)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск элемента заданного типа по заданному имени или пути</p>
<p class="tableblock">По умолчанию ожидает появления элемента на странице</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(String name, Class&lt;T&gt; type, boolean wait)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск элемента заданного типа по заданному имени или пути с
учетом необходимости ожидания его появления</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T find(String name, List&lt;Class&gt; clazz)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск по имени элемента или пути в заданном контексте</p>
<p class="tableblock">По умолчанию ожидает появления элемента на странице</p>
<p class="tableblock">В качестве второго параметра передается список допустимых типов. Если найденный элемент не будет соответствовать ни одному из допустимых типов, будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T find(String name, List&lt;Class&gt; clazz, boolean wait)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск по имени элемента или пути в заданном контексте с учетом условия ожидания</p>
<p class="tableblock">В качестве второго параметра передается список допустимых типов. Если найденный элемент не будет соответствовать допустимому типу, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Примеры_различных_вариантов_комбинирования_типов">3.6. Примеры различных вариантов комбинирования типов</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь отмечает признак "Блок-&gt;список"
* пользователь отмечает признак "Блок-&gt;список-&gt;2"
* пользователь отмечает признак "Блок с блоком-&gt;блок-&gt;Список-&gt;2"
* текст элемента "Список блоков-&gt;3-&gt;блок-&gt;Список блоков-&gt;2-&gt;Элемент блока" строго равен "значение"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Методы_работы_с_элементами_2">3.7. Методы работы с элементами</h3>
<div class="sect3">
<h4 id="_Проверки_атрибутов_2">3.7.1. Проверки атрибутов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeContains(T element, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента содержит переданное значение</p>
<p class="tableblock">Вернет <code>true</code>, если значение найдено в атрибуте элемента и <code>false</code>, если не найдено</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeEquals(T element, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента равен переданному значению</p>
<p class="tableblock">Вернет <code>true</code>, если переданное значение равно значению атрибута элемента и <code>false</code>, если нет</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_в_списке_элементов_по_атрибуту_2">3.7.2. Поиск в списке элементов по атрибуту</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttribute(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttribute(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_текстовых_значений_элементов_2">3.7.3. Получение текстовых значений элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; List&lt;String&gt; getElementsText(List&lt;T&gt; elements)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовые значения переданных элементов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_текстовому_значению_2">3.7.4. Получение элемента списка по текстовому значению</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByTextWithEmptyResult(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением. Если такой элемент не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением</p>
<p class="tableblock">Если такой элемент не найден, то будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_индексу_2">3.7.5. Получение элемента списка по индексу</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByIndex(List&lt;T&gt; elements, int index)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка по индексу с обработкой граничных значений</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_элемента_в_списке_по_предикату_2">3.7.6. Поиск элемента в списке по предикату</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicateWithEmptyResult(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicate(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Другие_полезные_методы_3">3.7.7. Другие полезные методы</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void doubleClick(T element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет двойной клик по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isListContains(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что список элементов содержит текстовое значение, строго равное переданному</p>
<p class="tableblock">Вернет <code>true</code>, если текст найден в списке элементов и <code>false</code>, если не найден</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void clickOnElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит элемент в списке элементов с заданным текстом и кликает по нему.</p>
<p class="tableblock">Проверяет, не является ли элемент недоступным для редактирования. Если недоступен, кидает исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; String getTextByElementXpath(T currentContext, String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента по его xpath выражению</p>
<p class="tableblock">В качестве параметра передается элемент, относительно которого будем выполнять
поиск</p>
<p class="tableblock">Если элемент не был найден по указанному пути, то возвращает пустую строку</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Создание_и_инициализация_кастомных_элементов">3.7.8. Создание и инициализация кастомных элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `HtmlElementUtils`</p>
</div>
<div class="paragraph">
<p>Иногда возникают ситуации, когда нужно из имеющегося или только что найденного веб элемента создать кастомный</p>
</div>
<div class="paragraph">
<p>При создании стандартными методами через конструктор элемент не будет инициализирован на странице и, как следствие, не будут инициализированы элементы его внутренней структуры и не получится использовать его методы</p>
</div>
<div class="paragraph">
<p>Чтобы этого избежать, можно использовать метод создания кастомного элемента</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends TypifiedElement&gt; T createElementWithCustomType(Class&lt;T&gt; clazz, WebElement element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Создает элемент с заданным кастомным типом из <code>WebElement</code> и инициализирует его на текущей странице</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_code_webelement_code">3.7.9. Получение <code>WebElement</code></h4>
<div class="paragraph">
<p>Обратиться к методам можно через `HtmlElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; WebElement getWebElement(T element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент типа <code>WebElement</code> из типизированного элемента</p>
<p class="tableblock">Если элемент уже имеет тип <code>WebElement</code>, то вернет его</p>
<p class="tableblock">Если элемент является наследником <code>TypifiedElement</code>, то получит <code>WebElement</code> через <code>getWrappedElement()</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Шаги_и_глагольные_выражения_2">3.8. Шаги и глагольные выражения</h3>
<div class="paragraph">
<p>Использовать элементы в тестовых сценариях можно двумя способами: в шагах либо в глагольных выражениях</p>
</div>
<div class="sect3">
<h4 id="_Шаги_тестовых_сценариев_2">3.8.1. Шаги тестовых сценариев</h4>
<div class="paragraph">
<p>Под шагами(Step Definitions) предполагаются стандартные шаги тестовых сценариев, описанных по логике работы с <code>cucumber</code></p>
</div>
<div class="paragraph">
<p><code>html-plugin</code> содержит набор стандартных шагов, необходимых для автоматизации любого проекта. Step Definitions, которые уже есть во фреймворке, поддерживают локализацию на двух языках: русском и английском</p>
</div>
<div class="paragraph">
<p>Ниже приведен список доступных шагов с описанием и примерами:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из шагов, предполагающих что кто-либо совершает какое-либо действие, например <strong><em>заполняет поле</em></strong>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_Работа_со_страницами_вкладками_2">Работа со страницами, вкладками</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * открывается копия страницы в новой вкладке
    * переключается на соседнюю вкладку
    * URL соответствует "URL"
    * закрывает текущее окно и возвращается на "Имя страницы"
    * нажимает назад в браузере
    * переходит на страницу "Имя страницы" по ссылке
    * переходит на url "Страница, имеющая параметр url в аннотации `@PageEntry`"
    * открывает url "Страница, имеющая параметр url в аннотации `@PageEntry`"
    * обновляем страницу</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Работа_с_алертами_2">Работа с алертами</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * принимает уведомление с текстом "Текст алерта"
    * отклоняет уведомление с текстом "Текст алерта"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Проверка_текста_на_странице_2">Проверка текста на странице</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Проверяет наличие текста на странице вне зависимости в одном он элементе или в нескольких</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что текст "Текст" появляется на странице
    * проверяет что текст "Текст" отсутствует на странице</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Проверяет наличие текста хотя бы одном из элементов страницы</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что элемент с текстом "Текст" существует
    * проверяет что текст "Текст" отображается</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Работа_с_модальными_окнами_2">Работа с модальными окнами</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что модальное окно с текстом "Текст модального окна" появляется</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Открытие_страницы_2">Открытие страницы</h5>
<div class="paragraph">
<p>Все приведенные ниже шаги выполняют одно и то же действие</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь находится на странице "Имя страницы"
    * открывается страница "Имя страницы"
    * открывается вкладка мастера "Имя страницы"</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Шаги открытия страницы не гарантируют, что страница приложения была открыта и что открыта именно та страница, которая ожидалась, они лишь определяют текущий контекст</span> (где искать элементы и глагольные выражения, с которыми ниже в сценарии будет происходить взаимодействие)
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Заполнение_полей_2">Заполнение полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * заполняет поле "Элемент" "Текст"
    * заполняет поле "Элемент" значением "Текст"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_на_элемент_2">Нажатие на элемент</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * кликает по ссылке "Элемент"
    * нажимает кнопку "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_клавиш_2">Нажатие клавиш</h5>
<div class="paragraph">
<p>В качестве параметра используется имя клавиши (пр. ESC, ENTER)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * нажимает клавишу "Имя клавиши"
    * нажимает клавишу "Имя клавиши" на элементе "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выбор_из_стандартного_выпадающего_списка_опции_имеют_тэг_option_2">Выбор из стандартного выпадающего списка (опции имеют тэг option)</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * выбирает в "Элемент" значение "Опция"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Отметка_признака_2">Отметка признака</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * отмечает чекбокс "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Проверки_текстовых_значений_полей_2">Проверки текстовых значений полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что в поле "Элемент" значение "Текст"
    * проверяет что в поле "Элемент" не значение "Не этот текст"
    * проверяет что поле "Элемент" непустое
    * проверяет что поле "Элемент" пустое</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выполнение_фрагмента_2">Выполнение фрагмента</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * вставляет фрагмент "Имя сценария-фрагмента"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_для_работы_с_ожиданиями_2">3.8.2. Шаги для работы с ожиданиями</h4>
<div class="sect4">
<h5 id="_Ожидание_появления_элемента_2">Ожидание появления элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает появления элемента "Элемент"
* ожидает 5 секунд появления элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура методов</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T appearElement(String elementName)
T appearElement(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_исчезновения_элемента_2">Ожидание исчезновения элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает исчезновения элемента "Элемент"
* ожидает 5 секунд исчезновения элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitInvisibility(String elementName)
T waitInvisibility(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_соответствия_атрибута_переданному_значению_2">Ожидание соответствия атрибута переданному значению</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitChangeAttribute(String attribute, String elementName, String attributeValue)
T waitChangeAttribute(int timeout, String attribute, String elementName, String attributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_изменения_атрибута_2">Ожидание изменения атрибута</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"

* ожидает что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitAttributeContains(String attribute, String elementName, Condition condition, String partAttributeValue)
T waitAttributeContains(int timeout, String attribute, String elementName, Condition condition, String partAttributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_появления_или_исчезновения_текстового_фрагмента_в_элементе_2">Ожидание появления или исчезновения текстового фрагмента в элементе</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" должен содержать текст "текст"

* ожидает что элемент "Элемент" не должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" не должен содержать текст "текст"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitElementContainsText(String elementName, Condition condition, String text)
T waitElementContainsText(int timeout, String elementName, Condition condition, String text)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_кликабельности_элемента_2">Ожидание кликабельности элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" станет кликабельным
* ожидает 5 секунд что элемент "Элемент" станет кликабельным

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitClickability(String elementName)
T waitClickability(int timeout, String elementName)</code></pre>
</div>
</div>
<div class="paragraph">
<p>О том как писать свои шаги, можно узнать в документации <a href="https://docs.cucumber.io/guides/10-minute-tutorial" class="ext-link" target="_blank" rel="noopener">cucumber</a></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Чтобы использовать свои шаги, нужно в файле запуска тестов прописать путь до них через запятую в опцию <code>glue</code></span>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Рекомендации</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Параметры рекомендуется задавать регулярным выражением <code>"([^\"]*)\"</code></p>
</li>
<li>
<p>Если шаг используется только на одной странице, лучше описать глагольное выражение на странице</p>
</li>
<li>
<p>Шаги лучше хранить в каталоге отдельном от страниц (как правило, <code>stepdefs</code>) в классах, разбив их на логические группы, чтобы быстро и удобно находить их в зависимости от функциональности или принадлежности</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_в_английской_локализации_2">3.8.3. Шаги в английской локализации</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * user is on the page "Page"
    * page is being opened "Page"
    * master tab is being opened "Page"

    * copy of the page is being opened in a new tab
    * user switches to the next tab
    * URL matches "URL"
    * user closes the current window and returns to "Page"
    * user push back in the browser
    * user navigates to page "URL"
    * user navigates to url "URL"
    * user refreshes the page

    * user accepts alert with text "Text of alert"
    * user dismisses alert with text "Text of alert"

    * user checks that text "Text" appears on the page
    * user checks that text "Text" is absent on the page

    * user checks that modal window with text "Text" is appears

    * user checks that element with text "Text" is present
    * user checks that the text "Text" is visible

    * user is waiting for the element to appear "Element"
    * user is waiting 5 seconds for the element to appear "Element"

    * user is waiting for the element to disappear "Element"
    * user is waiting 5 seconds for the element to disappear "Element"

    * user is waiting for the value of the "class" attribute of the element "Element" to become "value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" to become "value"

    * user is waiting for the value of the "class" attribute of the element "Element" should contain "part of value"
    * user is waiting for the value of the "class" attribute of the element "Element" should not contain "part of value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" should contain "part of value"
    * user is waiting 5 seconds for the value of the "class" attribute of the element "Element" should not contain "part of value"

    * user is waiting for the element "Element" to contain text "text"
    * user is waiting for the element "Element" to not contain text "text"
    * user is waiting 5 seconds for the element "Element" to contain text "text"
    * user is waiting 5 seconds for the element "Element" to not contain text "text"

    * user is waiting for the element "Element" to become clickable
    * user is waiting 5 seconds for the element "Element" to become clickable</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * user fills the field "Element" "Text"
    * user fills the field "Element" with value "Text"

    * user clicks the link "Element"
    * user clicks the button "Element"

    * user presses the key "KEY"
    * user presses the key "KEY" on the element "Element"

    * user selects in "Element" the value "Option"

    * user selects the checkbox "Element"

    * user checks in the element "Element" value "Text"
    * user checks in the element "Element" that the value is not equal "Text"
    * user checks that the field "Element" is not empty
    * user checks that the field "Element" is empty

    * element "Element" is focused

    * inserts fragment "Fragment"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_без_code_cucumber_code_fluent_api_2">3.8.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</h4>
<div class="paragraph">
<p>Обратиться к методам-шагам можно следующим образом: <code>HtmlSteps.getInstance()</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>HtmlSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .click("Contact")
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_проекта_без_code_cucumber_code_2">3.8.5. Как использовать шаги проекта без <code>cucumber</code></h4>
<div class="paragraph">
<p>Чтобы использовать кастомные шаги вашего проекта через Fluent API, унаследуйте класс с шагами от <code>HtmlStepsImpl</code> с учетом типизации.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Каждый метод вашего класса с шагами должен возвращать объект типа <code>this</code> приведенный к <code>T</code>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример класса</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends HtmlStepsImpl&lt;T&gt; {
    public T yourMethod() {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Далее на основе этого класса нужно создать строго типизированный класс, который позволит до компиляции понимать, с каким контекстом происходит взаимодействие в текущий  момент. Сделать это можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourSteps extends YourStepsImpl&lt;YourSteps&gt; {
     private static YourSteps instance;

     public static YourSteps getInstance() {
        if (instance == null) {
            instance = new YourSteps();
        }
        return instance;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример работы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>YourSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .yourMethod()
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Глагольные_выражения_2">3.8.6. Глагольные выражения</h4>
<div class="paragraph">
<p><code>html-plugin</code> позволяет описывать шаги, свойственные отдельной странице, непосредственно на ней. Такие шаги называются глагольными выражениями и описываются при помощи аннотации <code>@ActionTitle</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    @ActionTitle(value = "тестирует")
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Чтобы использовать глагольное выражение в тестовом сценарии, достаточно указать его имя в круглых скобках в контексте страницы. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Одно глагольное выражение может иметь несколько именований. В этом может быть необходимость, когда есть желание внести конкретику в тестовом сценарии. Сделать это можно при помощи аннотации <code>@ActionTitles</code> Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    @ActionTitles({
        @ActionTitle(value = "тестирует"),
        @ActionTitle(value = "тестирует вашу страницу")
    })
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Глагольные выражения могут иметь какие угодно параметры для этого достаточно добавить параметр в сигнатуре метода. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    @ActionTitle(value = "тестирует")
    public void check(String param) {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример использования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует) с параметром "Параметр"</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">При написании глагольных выражений важно помнить</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Значение, возвращаемое методом, никуда не сохраняется, поэтому в качестве типа возвращаемого значения стоит всегда указывать void</p>
</li>
<li>
<p>В качестве параметров метода можно использовать следующие типы: String, List&lt;String&gt;, DataTable</p>
</li>
<li>
<p>Если шага с нужным набором параметров для вашего экшена нет, вы можете написать его сами</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_База_для_глагольных_выражений_2">База для глагольных выражений</h5>
<div class="paragraph">
<p>Как уже говорилось выше, глагольные выражения базируются на уже описанных в `html-plugin`шагах особой структуры. Они приведены ниже</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из русскоязычных шагов
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">RU</th>
<th class="tableblock halign-center valign-middle">EN</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие без параметров</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* ()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user ()</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с параметром</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () ""<br>
* () с параметром ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () ""<br>
* user () with param ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с двумя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" ""<br>
* () с параметрами "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" ""<br>
* user () with the parameters "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с тремя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" "" ""<br>
* () с параметрами "" "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" "" ""<br>
* user () with the parameters "" "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действия с таблицей данных (DataTable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () данными<br>
* () "" данными</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () data<br>
* user () "" data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие со списком</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () из списка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () from the list</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Глагольные_выражения_в_блоках">3.9. Глагольные выражения в блоках</h3>
<div class="paragraph">
<p>В блоке можно определить глагольные выражения аналогично определению на страницах. Эти выражения будут работать только в контексте блока и только с его элементами</p>
</div>
<div class="paragraph">
<p>Например, давайте определим проверку категории товара в ранее созданном блоке</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import org.junit.Assert;
import org.openqa.selenium.support.FindBy;
import ru.sbtqa.tag.pagefactory.annotations.ActionTitle;
import ru.sbtqa.tag.pagefactory.annotations.ElementTitle;
import ru.yandex.qatools.htmlelements.element.Image;
import ru.yandex.qatools.htmlelements.element.HtmlElement;
import ru.yandex.qatools.htmlelements.element.TextBlock;
import ru.yandex.qatools.htmlelements.element.Link;

public class Product extends HtmlElement {

    @ElementTitle("Изображение товара")
    @FindBy(xpath = ".//img")
    private Image image;


    @ElementTitle("Стоимость")
    @FindBy(xpath = ".//span[text()]")
    private TextBlock cost;

    @ElementTitle("Наименование")
    @FindBy(xpath = ".//div[starts-with(@class,’name’)]")
    private Link name;

    @ElementTitle("Категория")
    @FindBy(xpath = ".//div[text() and not(starts-with(@class,'name'))]")
    private TextBlock category;

    @ActionTitle("проверяет категорию товара")
    public void checkCategory(String expectedCategory){
        Assert.assertEquals(“Категория товара не соответствует ожидаемой”, expectedCategory, category.getText());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Выполнить такое глагольное выражение можно следующим образом (для блока с наушниками)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> * в блоке "Наушники" (проверяет категорию товара) с параметром "Наушники и Bluetooth-гарнитуры"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Шаги_работы_с_блоками">3.10. Шаги работы с блоками</h3>
<div class="paragraph">
<p>Помимо описанного выше шага выполнения глагольного выражения в блоке есть и другие. Ниже приведен полный список шагов.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Здесь можно перед шагом использовать “пользователь” или “он”
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># выполнить глагольное выражение без параметров
* в блоке "Имя блока или путь до него" (глагольное выражение в блоке)
# с одним параметром
* в блоке "Имя блока или путь до него" (глагольное выражение в блоке) с параметром "Параметр"
# с параметрами в виде таблицы
* в блоке "Имя блока или путь до него" (глагольное выражение в блоке) с параметрами из таблицы
    | Значение | Значение |
    | Значение | Значение |

# с двумя и более параметрами
* в блоке "Имя блока или путь до него" (глагольное выражение в блоке) с параметрами "Параметр 1" “Параметр 2” …</code></pre>
</div>
</div>
<div class="paragraph">
<p>Так же есть набор проверки наличия шагов в блоке с учетом типа</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># шаги поиска элемента с учетом типа
* в блоке "Имя блока или путь до него" находит элемент "Элемент"
* в блоке "Имя блока или путь до него" находит текстовое поле "Элемент"
* в блоке "Имя блока или путь до него" находит чекбокс "Элемент"
* в блоке "Имя блока или путь до него" находит радиокнопка "Элемент"
* в блоке "Имя блока или путь до него" находит ссылку "Элемент"
* в блоке "Имя блока или путь до него" находит таблицу "Элемент"
* в блоке "Имя блока или путь до него" находит заголовок "Элемент"
* в блоке "Имя блока или путь до него" находит кнопку "Элемент"
* в блоке "Имя блока или путь до него" находит изображение "Элемент"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>   * в списке "Список" находит элемент со значением "Значение элемента"</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_работы_с_блоками_в_английской_локализации">3.10.1. Шаги работы с блоками в английской локализации</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* user in block "Block" (action)
* user in block "Block" (action) with a parameter "Param"
* user in block "Block" (action) with the parameters of table
    | Value | Value |
    | Value | Value |
* user in block "Block" (action) with the parameters "Param 1" “Param 2” …

* user in block "Block" finds "Element"
* user in block "Block" finds textinput "Element"
* user in block "Block" finds checkbox "Element"
* user in block "Block" finds radiobutton "Element"
* user in block "Block" finds link "Element"
* user in block "Block" finds table "Element"
* user in block "Block" finds header "Element"
* user in block "Block" finds button "Element"
* user in block "Block" finds image "Element"
* user in list "List" finds the value element "Element"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Некритичные_шаги_тестовых_сценариев_2">3.10.2. Некритичные шаги тестовых сценариев</h4>
<div class="paragraph">
<p>Есть возможность пометить шаг как некритичный, для этого перед шагом необходимо поставить "? ". Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ? пользователь заполняет поле "Поле" "Значение"</code></pre>
</div>
</div>
<div class="paragraph">
<p>То же самое работает и для глагольных выражений:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ? (любое глагольное выражение)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>В случае падения некритичного шага:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>выполнение сценария остановлено не будет</p>
</li>
<li>
<p>в консоль будет выведен лог ошибки</p>
</li>
<li>
<p>в allure отчете сценарий будет помечен как "Passed". Некритичный шаг будет помечен как "Unknown", к нему будут прикреплены скриншот в момент падения и текст ошибки</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Посмотреть, какие сценарии содержат некритичные ошибки можно на вкладке <code>Categories</code> отчета в категории <code>Non-critical failures</code></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/non-critical.png" alt="non critical"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Некритичные_пользовательские_ошибки_2">3.10.3. Некритичные пользовательские ошибки</h4>
<div class="paragraph">
<p>Если возникает ситуация, когда в шаге или глагольном выражении в зависимости от ситуации ошибка может быть как критичной так и не критичной, то можно для второй ситуации использовать <code>AllureNonCriticalError</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @Given("^check string \"([^\"]*)\"$")
    public void checkString(String str) {
        if (str.isEmpty()) {
            throw new AllureNonCriticalError("String is empty!");
        } else {
            Assert.assertEquals("Strings are not equal", "expected", str);
        }
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обработка некритичной ошибки происходит аналогично работе с некритичными шагами</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/non-critical-error.png" alt="non critical error"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Переопределение_стандартных_методов_2">3.10.4. Переопределение стандартных методов</h4>
<div class="paragraph">
<p>Переопределить шаги плагина html-plugin можно одним из двух способов:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Переопределить непосредственно шаг</p>
</li>
<li>
<p>Переопределить действие внутри шага</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_Переопределение_шага_2">Переопределение шага</h5>
<div class="paragraph">
<p>Чтобы переопределить шаг, нужно наследоваться от класса с шагами - HtmlStepsImpl и переопределить метод как в примере</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends HtmlStepsImpl&lt;T&gt; {
    @Override
    public T click(String elementTitle) throws PageException {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Переопределение_действия_2">Переопределение действия</h5>
<div class="paragraph">
<p>Для переопределения нужно:</p>
</div>
<div class="paragraph">
<p>Создать класс, в котором будут храниться переопределенные методы, наследованные от <code>HtmlPageActions</code>, и описать в нем методы. Пример для клика:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourHtmlPageActions extends HtmlPageActions {

    @Override
    public void click(Object element){
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создать базовую страницу проекта, унаследовав её от базовой страницы плагина. Переопределить необходимые классы <code>Environment</code>. Унаследовать все страницы своего проекта от этой базовой страницы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.qa.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.HTMLPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    public YourPage() {
        Environment.setPageActions(yourHtmlPageActions);
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_Действия_для_переопределения_2">Действия для переопределения</h6>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fill(Object element, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Заполняет поле</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void click(Object element);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void press(Object element, String key);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие клавиши</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void select(Object element, String option);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выбирает из выпадающего списка</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void setCheckbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отмечает признак или снимает отметку</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void acceptAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимает алерт</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void dismissAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отклоняет алерт</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Тестовые_сценарии_2">3.11. Тестовые сценарии</h3>
<div class="paragraph">
<p><strong><em>Тестовый сценарий</em></strong> - это совокупность шагов, конкретных условий и параметров, необходимых для проверки реализации тестируемой функции или её части</p>
</div>
<div class="paragraph">
<p><strong><em>Фича</em></strong> - набора сценариев, имеющих общую функциональность. Фичи представляют собой файлы с расширением <code>feature</code>, написанные на языке <code>Gherkin</code> с использованием возможностей фреймворка <code>Cucumber</code></p>
</div>
<div class="paragraph">
<p>С учетом локализации шагов, фичи могут быть написаны по крайней мере на одном из двух языков: русском или английском</p>
</div>
<div class="paragraph">
<p>Рассмотрим структуру фичи на примере:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#language:ru
@feature-tag
Функционал: Тестирование поиска Google

  Предыстория:
    Когда открывается страница "Главная страница"

  @test-tag
  Сценарий: Тестирование поиска
    И пользователь (тестирует) "Элемент"

  @test-tag-examples
  Структура сценария: Тестирование поиска
    И пользователь (тестирует) "&lt;element&gt;"

  Примеры:
    | element   |
    | Элемент 1 |
    | Элемент 2 |</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>#language:ru</em></strong> - язык фичи</p>
</div>
<div class="paragraph">
<p><strong><em>@feature-tag</em></strong> - тэг запуска фичи. Позволяет запустить все тестовые сценарии фичи одной группой. Может быть любым, но обязан всегда начинаться с <code>@</code></p>
</div>
<div class="paragraph">
<p><strong><em>Функционал (Feature:)</em></strong> - описание функциональности фичи</p>
</div>
<div class="paragraph">
<p><strong><em>Предыстория: (Background:)</em></strong> - шаги, которые будут выполняться перед каждым тестовым сценарием</p>
</div>
<div class="paragraph">
<p><strong><em>@test-tag и @test-tag-examples</em></strong> - тэги запуска тестов. Могут быть любыми, но обязаны всегда начинаться с <code>@</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
На одном сценарии может быть сколько угодно тэгов<br>
<br>
Не рекомендуется использовать на разных сценариях или фичах только одинаковые тэги. Всегда должна быть возможность запустить любой тест отдельно от остальных
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Сценарий: (Scenario:)</em></strong> - описание функциональности тестового сценария</p>
</div>
<div class="paragraph">
<p><strong><em>Структура сценария: (Scenario Outline:)</em></strong> - описание функциональности тестового сценария. Используется при параметризации тестов в связке с ключевым словом <code>Примеры:</code></p>
</div>
<div class="paragraph">
<p><strong><em>Шаги и глагольные выражения</em></strong>  тестового сценария. Начинаются сразу после ключевого слова <code>Сценарий:</code>. Шаги должны начинаться с ключевых слов, таких как <code>Если</code>, <code>Когда</code>, <code>Тогда</code> (<code>Given</code>, <code>When</code>, <code>Then</code>) либо с <code>*</code>. Для работоспособности не имеет значения, какое ключевое слово используется, но они позволяют сделать фичи более удобными для чтения</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Чтобы использовать элемент или глагольное выражение, нужно обозначить текущий контекст — страницу. Сделать это можно, например, шагом "открывается страница"
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Примеры: (Examples:)</em></strong> - используются для параметризации тестового сценария. Значения подставляются по имени параметра. В нашем примере тест бы выполнился два раза: сначала с "Элемент 1", затем с "Элемент 2"</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Рекомендации:<br>
<br>
 1. Каждый сценарий должен быть независим от всех остальных, то есть его можно запустить независимо от остальных и он выполнится успешно<br>
<br>
 2. Лучше всего разбивать сценарии на группы по их функциональности, чтобы фичи были небольшими. Это значительно упростит поддержку автотестов в дальнейшем
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Фрагменты_2">3.11.1. Фрагменты</h4>
<div class="paragraph">
<p><strong><em>Фрагмент</em></strong> - набор шагов, который может быть подставлен в любой сценарий вместо заранее определенного шага</p>
</div>
<div class="paragraph">
<p>Чтобы использовать фрагменты, необходимо прописать в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.enabled = true</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Рассмотрим пример</dt>
<dd>
<p><strong><em>Сценарий A</em></strong> - сценарий, в который нужно подставить шаги<br>
<strong><em>Сценарий B</em></strong> - сценарий-фрагмент, шаги которого можно подставить в любой сценарий</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragment.png" alt="fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Подстановку фрагмента можно выполнить, используя один из шагов</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь вставляет фрагмент "Название фрагмента"
    * пользователь вставляет фрагмент "Название фрагмента"
		| параметр 1 | параметр 2 |
		| значение   | значение   |</code></pre>
</div>
</div>
<div class="paragraph">
<p>В примере выше "Название фрагмента" выделено <span class="lime">зеленым</span>.</p>
</div>
<div class="sect4">
<h5 id="_Как_создавать_фрагменты_2">Как создавать фрагменты</h5>
<div class="paragraph">
<p>9. Создать фичу, которая будет содержать фрагменты<br>
10. Прописать путь до каталога с фрагментами в файле конфигурации <code>application.properties</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.path = src/test/resources/fragments</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
В случае, если этот параметр не указан, то поиск фрагментов будет происходить в директории, которая указана в @CucumberOptions.features
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>11. Создать сценарий-фрагмент<br>
12. Аннотировать созданный сценарий как <code>@fragment</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Не используйте фрагменты как независимые тестовые сценарии</span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента_2">Пример параметризованного фрагмента</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: User и 123<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/param_fragment.png" alt="param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В <strong>B</strong> подстановка обозначена символами <strong>"&lt;&gt;"</strong>. Внутри указано имя параметра</p>
</li>
<li>
<p>В <strong>А</strong> выполняется вставка фрагмента с параметрами в виде таблицы данных. Первая строка таблицы — имена параметров, вторая — значения</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента_с_несколькими_строками_значений_2">Пример параметризованного фрагмента с несколькими строками значений</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: Alex и 123, Tony и 456<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/many_param_fragment.png" alt="many param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В случаях, когда в таблице параметров более одной строки, фрагмент будет подставлен столько раз, сколько строк в таблице. В каждой подстановке будут использованы значения соответствующей строки</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Цепочки_фрагментов_2">Цепочки фрагментов</h5>
<div class="paragraph">
<p>Допускается использование фрагментов внутри других фрагментов</p>
</div>
<div class="paragraph">
<p>Пример</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragments.png" alt="fragments"></a>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red"><strong><em>Не допускается:</em></strong><br>
1. Вызывать фрагмент из самого себя<br>
2. Зацикливать вызовов фрагментов</span><br>
<br>
 Эти исключительные ситуации обрабатываются и тесты будут остановлены до запуска обработчика <code>cucumber</code>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Динамические_фрагменты_2">Динамические фрагменты</h5>
<div class="paragraph">
<p>Фрагменты можно подставлять динамически в зависимости от тестовых данных. Например:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic-fragment.png" alt="dynamic fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Это так же может быть удобно для запуска в условиях постоянно меняющихся тестовых данных либо условий тестирования (различные версий приложения)</p>
</div>
<div class="paragraph">
<p>Рассмотрим подробнее. Допустим, у нас есть тестовый сценарий, проверяющий работу с данными клиента. Клиент может быть новым (нет в системе) и старым. Если клиент новый, его нужно завести. Если старый, то найти через поиск и проверить, что он был найден. Поэтому в нашем примере будет два фрагмента — по одному для каждой из ситуаций плюс тестовые данные сценария</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex1.png" alt="dynamic fragment ex1"></a>
</div>
</div>
<div class="paragraph">
<p>В ситуации, когда клиент уже известен (Client = User) выполнится фрагмент "Проверка данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex2.png" alt="dynamic fragment ex2"></a>
</div>
</div>
<div class="paragraph">
<p>И, напротив, для неизвестного клиента (Client = Unauthorized user) выполнится "Заполнение данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex3.png" alt="dynamic fragment ex3"></a>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Работа_с_тестовыми_данными_2">3.11.2. Работа с тестовыми данными</h4>
<div class="sect4">
<h5 id="_Тестовые_данные_из_файлов_2">Тестовые данные из файлов</h5>
<div class="paragraph">
<p>Тестовые данные могут быть использованы в любом шаге сценария. Тестовые данные могут храниться в одном из форматов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>json</p>
</li>
<li>
<p>properties</p>
</li>
<li>
<p>excel</p>
</li>
<li>
<p>mongo</p>
</li>
<li>
<p>custom test data provider</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="_Тип_и_расположение_файлов_тестовых_данных_2">Тип и расположение файлов тестовых данных</h6>
<div class="paragraph">
<p>Задать тип тестовых данных можно в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.type = json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Задать расположение тестовых данных можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> путь указывается до файла без расширения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если файлы имеют нестандартное для типа данных расширение, нужно указать его в настройках. Для <code>excel</code> не будет учитываться (всегда будет <code>xslx</code>). Например, для файлов с расширением <code>jsonp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.extension = jsonp</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Инициализация_коллекции_2">Инициализация коллекции</h6>
<div class="paragraph">
<p>Для инициализации коллекции нужно задать ее через конфигурацию. Имя файла задается без расширения. Если в проекте используется несколько коллекций, то в параметре нужно указать наиболее часто используемую. Пример инициализации коллекции для <code>Data.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обратиться к инициализированной можно через символ <code>$</code>, к неинициализированной через <code>$</code> и имя.
Для обращения из фичи существует тэг <code>@data</code>. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@data=$OtherData</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> коллекция - это имя вкладки</p>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_mongodb_code_2">Особенности работы <code>mongodb</code></h6>
<div class="paragraph">
<p>Для <code>mongodb</code> есть два дополнительных обязательных параметра: адрес и имя базы данных. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.uri = mongodb://username:password@host.ru:8080
data.db = bd</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_properties_code_2">Особенности работы <code>properties</code></h6>
<div class="paragraph">
<p>Для <code>properties</code> файлов доступен функционал раскладывания значения на массив по разделителю. По-умолчанию это <code>,</code>, но можно переопределить следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.arrayDelimiter = !</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Подключение_своего_провайдера_тестовых_данных_2">Подключение своего провайдера тестовых данных</h6>
<div class="paragraph">
<p>Есть возможность зарегистрировать свой провайдер данных. Для этого необходимо, реализовать интерфейс <a href="https://github.com/sbtqa/datajack/blob/master/datajack-api/src/main/java/ru/sbtqa/tag/datajack/TestDataProvider.java">TestDataProvider</a>.</p>
</div>
<div class="paragraph">
<p>В классе реализации должен присутствовать конструктор со следующими параметрами: <code>new MyDataProvider(String initialCollection, String extensionOrDb)</code></p>
</div>
<div class="paragraph">
<p>Конфигурация задается следующими параметрам в <code>application.properties</code> (на примере JsonDataProvider):</p>
</div>
<div class="listingblock">
<div class="content">
<pre># Полное имя java пакета
data.provider.fqdn=ru.sbtqa.tag.datajack.providers

# Имя артефакта и имя класса реализации
data.type = json.JsonDataProvider

# Указать изначальную коллекцию
data.initial.collection = Data

# Задать расширение файла, либо имя базы данных (нельзя задавать оба значения одновременно)
data.extension = json
# data.db = bd</pre>
</div>
</div>
<div class="paragraph">
<p>Это позволит начать использовать свой провайдер данных по общим правилам фреймворка.</p>
</div>
</div>
<div class="sect5">
<h6 id="_Путь_к_элементу_коллекции_2">Путь к элементу коллекции</h6>
<div class="paragraph">
<p>Для обозначения пути внутри коллекции используются фигурные скобки</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание, если имя коллекции не указывается явно перед параметром, то перед фигурными скобками должен стоять символ <code>$</code> (брать данные из текущей коллекции)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Пример для элемента <code>first name</code> из набора <code>Admin</code> коллекции <code>Data</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>И пользователь (тестирует) "Элемент" с параметром "$Data{Admin.first name}"</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Ссылки_на_другие_элементы_2">Ссылки на другие элементы</h6>
<div class="paragraph">
<p>Поддерживается работа со ссылками в данных, как внутри одной коллекции, так и на другие коллекции.</p>
</div>
<div class="paragraph">
<p>Для <code>mongodb</code> используется встроенный механизм ссылок.</p>
</div>
<div class="paragraph">
<p>Для <code>excel</code> достаточно в ячейке значения указать ссылку вида <code>$ref:&lt;имя коллекции&gt;:&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ref:Data:price</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>json</code> ссылки задавать можно как объект вида <code>{ "$ref" : "&lt;имя коллекции&gt;.&lt;путь&gt;" }</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "some reference": {
        "$ref": "Data:price"
    },
    "price": 20.00
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>properties</code> ссылки задавать можно как объект вида <code>&lt;property name&gt;.$ref = &lt;имя коллекции&gt;.&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>someReference.$ref = Data:price
price = 20.00</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Примеры_2">Примеры</h6>
<div class="paragraph">
<p><strong><em>Простой пример с заданием коллекции через тэг `@data`</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataSimpleEx.png" alt="dataSimpleEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Через <code>@data</code> можно задать не только имя коллекции, но и путь к набору данных внутри нее</em></strong></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataEx2.png" alt="dataEx2"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример инициализации коллекции для сценария с использованием параметров в таблице данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTableEx.png" alt="dataTableEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример использования нескольких файлов данных в одном тестовом сценарии, массивов данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTwoCollections.png" alt="dataTwoCollections"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример задания пути данных с учетом коллекции, описанной в конфигурации</em></strong></p>
</div>
<div class="paragraph">
<p>Пример для значения</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataInit.png" alt="dataInit"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример работы со ссылками</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/data_relative.png" alt="data relative"></a>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Запоминание_значений_и_работа_с_ними_stash_2">Запоминание значений и работа с ними (Stash)</h5>
<div class="paragraph">
<p>3. Для запоминания значения необходимо в одном из шагов выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Stash.put("key", "value");</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание! Для использования запомненных значений в шагах необходимо, чтобы ключ и значение были типа <code>String</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>4. Используйте запомненное значение в любом шаге, например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле" "#{key}"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Особенности:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ключ может использоваться в любых возможных вариантах: в списке или таблице с данными, в многострочных параметрах, параметрах сценария.</p>
</li>
<li>
<p>Ключ может быть именем поля или частью текста</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр
с #{key} в качестве фрагмента
текста
"""</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В одном параметре может использоваться сколько угодно ключей, в том числе один и тот же ключ несколько раз:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр с двумя разными данными
с ключами #{key1} и #{key2} в качестве фрагментов
текста
"""</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Настройки_проекта_2">3.12. Настройки проекта</h3>
<div class="sect3">
<h4 id="_Конфигурационный_файл_2">3.12.1. Конфигурационный файл</h4>
<div class="paragraph">
<p>Конфигурационный файл по умолчанию должен быть расположен по пути '/src/test/resources/config/application.properties'. <br>
Но этот путь можно переопределить, передав путь до файла через системную переменную 'TagConfigFileFolder', таким образом что директория находится в папке с ресурсами (/src/test/resources). По умолчанию это папка config в ресурсах.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFileFolder=custom-place</code></pre>
</div>
</div>
<div class="paragraph">
<p>Также можно переопределить наименование самого конфига, передав название через системную переменную 'TagConfigFile'. По умолчанию это файл с наименованием application.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFile=config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>Так же можно задавать отдельные свойства через переменные окружения, либо через java system properties.</p>
</div>
<div class="paragraph">
<p>Все последующие свойства переопределяют предыдущие. Приоритет значений следующий:<br>
* По-умолчанию читается application.properties
* Далее идет чтение TagConfigFile
* Затем считываются переменные окружения
* И в конце - java system properties</p>
</div>
</div>
<div class="sect3">
<h4 id="_Общие_конфигурации_2">3.12.2. Общие конфигурации</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Обязательные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page.package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до пакета с классами страниц(pages)</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">page.package = ru.myproject.pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Опциональные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймаут операций в секундах</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks.to.kill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр позволяет принудительно убить процессы перед запуском тестового прогона, если они запущены</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">tasks.to.kill = iexplorer,chrome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">driver.shared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, оставлять ли драйвер после каждого тестового сценария (кроме последнего из набора) запущенным или нет</p>
<p class="tableblock">Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_отчетов_2">3.12.3. Конфигурирование отчетов</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">screenshot.strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр определяет стратегию для работы с инструментами снимков экрана</p>
<p class="tableblock">Возможные значения: <code>driver</code> или <code>raw</code>.<br>
<code>driver</code> - скриншот будет создаваться средствами <code>Selenium WebDriver</code>, т.е будет сделан только скриншот страницы<br>
<code>raw</code> - будет сделан скриншот всего экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>raw</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.fill.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры заполнения полей в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.click.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия на элемент в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.press.key.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия клавиш в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.set.checkbox.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры установки признаков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.select.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры выбора из выпадающих списков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.error.source.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли исходный код страницы на которой произошла ошибка во время теста<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_записи_видео_2">3.12.4. Конфигурирование записи видео</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает запись видео<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь, куда будут сохранятся файлы. Можно указать сетевую папку</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">video.path = /tmp/video</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Стандартная для ОС папка для хранения временных файлов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_фрагментами_2">3.12.5. Параметры работы с фрагментами</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает работу с фрагментами<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с фрагментами</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">fragments.path = src/test/resources/fragments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до папки с фичами из параметров запуска (@CucumberOptions)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_тестовыми_данными_2">3.12.6. Параметры работы с тестовыми данными</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тип данных</p>
<p class="tableblock">Возможные значения: <code>json</code>, <code>mongo</code>, <code>excel</code>, <code>properties</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с данными. Для <code>excel</code> путь до файла без расширения</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.folder = src/test/resources/data/</p>
<p class="tableblock">Пример для <code>excel</code></p>
<p class="tableblock">data.folder = src/test/resources/data/Data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.initial.collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Коллекция данных по умолчанию. Указывается без расширения. Для <code>excel</code> - имя вкладки</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.initial.collection = Data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные при работе с <code>mongodb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Адрес базы данных. Параметр для <code>data.type = mongo</code></p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.uri = mongodb://username:password@host.ru:8080</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.db</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя базы данных. Параметр для <code>data.type = mongo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Необязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Расширение файлов данных (используется для задания нестандартных расширений). Для <code>excel</code> не учитывается (всегда будет <code>xslx</code>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_для_работы_с_code_selenium_webdriver_code_2">3.12.7. Параметры для работы с <code>Selenium WebDriver</code></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Обязательные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя браузера, в котором нужно запустить автотесты. Возможные значения: <code>Chrome</code>, <code>IE</code>, <code>Firefox</code>, <code>Safari</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.starting.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Начальная страница запуска автотестов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"about:blank"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Опциональные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия браузера, для которой нужен драйвер. Если указан этот параметр, то будет выполнена попытка автоматически найти соответствующую браузеру версию драйвера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если браузер находится в нестандартном расположении, укажите путь до него в здесь</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Укажите размер браузера окна (этот параметр необходим, если вы используете браузер в контейнере Docker)</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">webdriver.browser.size = 1920x1080</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.browser.ie.killOnDispose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Только для Windows.<br>
Возможные значения: true или false.<br>
Параметр используется для того, чтобы указать, убивать ли принудительно браузер IE после выполнения тестов или нет</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.create.attempts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество попыток на запуск браузера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.drivers.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если вы используете локальный экземпляр веб драйвера, укажите путь до него в данном параметре</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">webdriver.browser.path = src/test/resources/webdrivers/chromedriver.exe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия драйвера. Если указан этот параметр, то будет выполнена попытка автоматически найти соответствующую версию</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.nexus.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр для загрузки драйвера из репозитория Nexus. Если не указано, то будут  использованы репозитории по умолчанию для загрузки драйверов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.os.arch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">для какой архитектуры выгружать драйвер. Может быть 32 или 64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если вы используете RemoteDriver, укажите путь до него в данном параметре.</p>
<p class="tableblock">Пример:</p>
<p class="tableblock"><a href="http://127.0.0.1:4444/wd/hub" class="bare">http://127.0.0.1:4444/wd/hub</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.proxy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Добавьте этот параметр, если нужно указать прокси сервер.</p>
<p class="tableblock">Пример:</p>
<p class="tableblock"><a href="http://proxy.com:8080" class="bare">http://proxy.com:8080</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_запуска_2">3.12.8. Параметры запуска</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.scroll.to.element.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, пролистывать до элемента или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tfoot>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.highlight.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, подсвечивать элементы при взаимодействии с ними или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.click.actions.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, делать ли клик через <code>org.openqa.selenium.interactions.Actions</code> или нет</p>
<p class="tableblock">Возможные значения: <code>true</code>, <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_browser_capabilities_2">3.12.9. Параметры работы с browser capabilities</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.*
(* - имя необходимой capability)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Устанавливает значение заданной capability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.binary = C:\\Chrome\\chrome.exe - указать путь до исполняемого файла Google Chrome</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.options.args</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Аргументы командной строки браузера. Передаются через запятую</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">webdriver.chrome.capability.options.args = user-data-dir=C:\\workspace\\user-data\\,start-maximized</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_selenoid_moon_2">3.12.10. Параметры работы с Selenoid/Moon</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия браузера</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version = 58.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение доступа по VNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution = 1280x1024x24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение записи видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя видеофайла
selenoid.video.name = my-cool-video.mp4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize = 1024x768</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество кадров в секунду</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate = 24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя теста, по умолчанию наименование берется из названия сценария (для cucumber сценария)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests = myCoolTestName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймзона</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone = Europe/Moscow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Список передаваемых хостов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries = example.com:192.168.0.1,test.com:192.168.0.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Контейнеры</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers = spring-application-main:my-cool-app,spring-application-gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.containerLabels</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Построение_отчетов_2">3.13. Построение отчетов</h3>
<div class="paragraph">
<p>По умолчанию html-plugin поддерживают создание отчетов с использованием Allure версии 2.</p>
</div>
<div class="paragraph">
<p>Чтобы настроить автоматическое создание отчетов после прохождения автотестов, нужно сделать следующее:</p>
</div>
<div class="paragraph">
<p>Для плагина <code>maven-surefire-plugin</code> добавить параметр запуска. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.20&lt;/version&gt;
        &lt;configuration&gt;
          &lt;argLine&gt;
            -javaagent:"${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar"
            -Dcucumber.options="--plugin io.qameta.allure.cucumber2jvm.AllureCucumber2Jvm --plugin pretty"
          &lt;/argLine&gt;
        &lt;/configuration&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
            &lt;version&gt;${aspectj.version}&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>После выполнения тестов в папке allure-results/ будут созданы json файлы с результатами прохождения тестов - для каждого теста отдельный файл. В отчетах можно в том числе найти скриншоты (в момент падения теста) и ссылки на видео (если велась запись).</p>
</div>
<div class="paragraph">
<p>Просмотреть результаты в виде страницы-отчета можно <a href="https://docs.qameta.io/allure/#_reporting" class="ext-link" target="_blank" rel="noopener">одним из способов</a></p>
</div>
<div class="sect3">
<h4 id="_Отчеты_и_fluent_api_2">3.13.1. Отчеты и Fluent API</h4>
<div class="paragraph">
<p>Для того чтобы отчеты содержали шаги, которые вы используете в тестах без <code>cucumber</code>, необходимо следующее:</p>
</div>
<div class="paragraph">
<p>13. Добавить <code>allure</code> зависимость в проект</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
      &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;
      &lt;version&gt;2.10.0&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>14. Добавить <code>listener</code> в конфигурацию <code>maven-surefire-plugin</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;properties&gt;
  &lt;property&gt;
    &lt;name&gt;listener&lt;/name&gt;
    &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;
  &lt;/property&gt;
&lt;/properties&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>15. В случае, если требуется английская локализация фреймворк-шагов, то добавить в <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>   junit.lang = en</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
По умолчанию язык русский
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>16. Свои методы следует аннотировать <code>@Step</code></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Step("Мой тестовый метод \"{parameter}\"")
    public T yourMethod(String parameter) {
        ...
        return (T) this;
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Вспомогательные_методы_2">3.14. Вспомогательные методы</h3>
<div class="sect3">
<h4 id="_Вспомогательные_методы_использующие_рефлексию_2">3.14.1. Вспомогательные методы, использующие рефлексию</h4>
<div class="paragraph">
<p><code>html-plugin</code> предоставляет ряд методов для работы с блоками и типизированными элементами</p>
</div>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getReflection()</code></p>
</div>
<div class="sect4">
<h5 id="_Работа_с_элементами_2">Работа с элементами</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getElementTitle(Page page, Object element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает значение аннотации <code>@ElementTitle</code> для переданного элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isRequiredElement(Field field, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли поле объявлением элемента или нет (аннотировано <code>@ElementTitle</code> или нет)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getFieldTitle(Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает значение аннотации <code>@ElementTitle</code> поля</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T&gt; T getElementByField(Object parentObject, Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает объект поля для указанного родителя</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Работа_с_глагольными_выражениями_2">Работа с глагольными выражениями</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void executeMethodByTitle(Object context, String title, Object&#8230;&#8203; param)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит глагольное выражение в переданном контексте и выполняет его. В качестве контекста может выступать блок или страница</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean isRequiredAction(Method method, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли метод глагольным выражением или нет (аннотирован <code>@ActionTitle</code> или <code>@ActionTitles</code> или нет)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Другие_полезные_методы_4">Другие полезные методы</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Method&gt; getDeclaredMethods(Class clazz)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает методы переданного класса, включая методы родителя</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fireValidationRule(Page page, String title, Object&#8230;&#8203; params)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит метод страницы, у которого значение аннотации <code>@ValidationRule</code> совпадает с переданным, и выполняет его</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Tag&gt; getScenarioTags(ScenarioDefinition scenarioDefinition)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает список тэгов сценария</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_Поиск_типизированных_элементов_и_блоков">3.14.2. Поиск типизированных элементов и блоков</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; T findElementInBlockByTitle(Page page, String blockPath, String title, Class&lt;T&gt; type)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит элемент на заданной странице требуемого типа в указанном блоке.
В качестве блока можно указать непосредственно имя блока или путь до него, если он находится во вложенной структуре блоков.
Путь задается через разделитель “&#8594;”</p>
<p class="tableblock">Обратите внимание, что в случае, если разделитель присутствует в имени блока, то имя будет воспринято как два следом идущих блока.</p>
<p class="tableblock">Если элемент не найден, или найден, но с несоответствующим типом, то будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends WebElement&gt; List&lt;T&gt; findListOfElements(String listTitle, Class&lt;T&gt; type, Object context)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит список элементов требуемого типа в заданном контексте в указанном блоке.</p>
<p class="tableblock">Если список элементов не найден, или найден, но с несоответствующим типом, то будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HtmlElement findBlock(Page page, String blockPath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск блока по имени или пути на переданной странице.</p>
<p class="tableblock">В качестве блока можно указать непосредственно имя блока или путь до него, если он находится во вложенной структуре блоков.
Путь задается через разделитель “&#8594;”</p>
<p class="tableblock">Обратите внимание, что в случае, если разделитель присутствует в имени блока, то имя будет воспринято как два следом идущих блока.</p>
<p class="tableblock">Если блок не найден, то будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;HtmlElement&gt; findBlocks(Page page, String blockPath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск списка блоков по имени или пути на переданной странице.</p>
<p class="tableblock">В качестве списка блоков можно указать непосредственно имя списка блоков или путь до него, если он находится во вложенной структуре блоков.
Путь задается через разделитель “&#8594;”</p>
<p class="tableblock">Обратите внимание, что в случае, если разделитель присутствует в имени списка блоков, то имя будет воспринято как два следом идущих блока.</p>
<p class="tableblock">Если блок не найден, то будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Работа_с_типизированными_элементами">3.14.3. Работа с типизированными элементами</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isChildOf(Class&lt;?&gt; parent, Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает тип поля и проверяет, что он является дочерним для переданного типа</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T extends TypifiedElement&gt; T getTypifiedElementByTitle(Page page, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет поиск типизированного элемента по имени на заданной странице</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T&gt; T getElementByField(Object parentObject, Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент поля</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Выполнение_глагольных_выражений_в_блоках">3.14.4. Выполнение глагольных выражений в блоках</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void executeMethodByTitleInBlock(Page page, String block, String actionTitle)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет глагольное выражение в указанном блоке с заданной страницы.</p>
<p class="tableblock">В качестве списка блоков можно указать непосредственно имя списка блоков или путь до него, если он находится во вложенной структуре блоков.
Путь задается через разделитель “&#8594;”</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void executeMethodByTitleInBlock(Page page, String blockPath, String actionTitle, Object&#8230;&#8203; parameters)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет глагольное выражение с параметрами в указанном блоке с заданной страницы.</p>
<p class="tableblock">В качестве списка блоков можно указать непосредственно имя списка блоков или путь до него, если он находится во вложенной структуре блоков.
Путь задается через разделитель “&#8594;”</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Переопределение_методов_для_работы_с_рефлексией_2">3.14.5. Переопределение методов для работы с рефлексией</h4>
<div class="paragraph">
<p>Создать класс, наследованный от <code>HtmlReflection</code>, и переопределить в нем методы. Пример для получения элемента:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourReflection extends HtmlReflection {

    @Override
    public &lt;T&gt; T getElementByTitle(Page page, String title) {
        ...
        return (T) element;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Добавить аннотированный <code>@Before</code> метод, который будет устанавливать, какие методы работы с рефлексией использовать (<code>order</code> &gt; 2):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepDefs {
    @Before(order = 3)
    public void setReflection() {
        Environment.setReflection(new YourReflection());
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Проверки_текстовых_значений_элементов_2">3.14.6. Проверки текстовых значений элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getPageChecks()</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEquality(Object element, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента и сравнивает его с переданным</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEquality(Object element, String text, MatchStrategy matchStrategy)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента и сравнивает его с переданным с учетом стратегии поиска:</p>
<p class="tableblock"><strong><em>MatchStrategy.EXACT</em></strong> - для проверки на строгое соответствие<br>
<strong><em>MatchStrategy.CONTAINS</em></strong> - в случае, когда текстовое значение элемента должно содержать в себе переданный текст</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkEmptiness(Object element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что элемент не содержит текстовое значение</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_Переопределение_проверок_2">Переопределение проверок</h5>
<div class="paragraph">
<p>Для переопределения нужно:</p>
</div>
<div class="paragraph">
<p>Создать класс, в котором будут храниться переопределенные методы, наследованные от <code>WebPageChecks</code>, и описать в нем методы. Пример для клика:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourWebPageChecks extends WebPageChecks {

    @Override
    public void click(Object element){
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создать базовую страницу проекта, унаследовав её от базовой страницы плагина. Переопределить необходимые классы <code>Environment</code>. Унаследовать все страницы своего проекта от этой базовой страницы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.qa.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.HTMLPage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends HTMLPage {

    public YourPage() {
        Environment.setPageChecks(yourWebPageChecks);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_драйвером_2">3.14.7. Методы работы с драйвером</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getDriverService()</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebDriver getDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текущий драйвер. Если драйвера нет, то будут предпринято несколько попыток создать его (число попыток задается параметром конфигурации <code>webdriver.create.attempts</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void mountDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Создает драйвер. Если не удалось создать, то будет выполнено еще несколько попыток  (число попыток задается параметром конфигурации <code>webdriver.create.attempts</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void demountDriver()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Завершает работу драйвера, а так же закрывает все открытые окна браузера</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void setWebDriver(org.openqa.selenium.WebDriver aWebDriver)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Устанавливает драйвер</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isDriverEmpty()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, создан драйвер или нет</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_браузером_2">3.14.8. Методы работы с браузером</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>WebEnvironment</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static BrowserName getBrowserName()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает имя браузера</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_работы_с_ожиданиями_2">3.14.9. Методы работы с ожиданиями</h4>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Wait</code></p>
</div>
<div class="paragraph">
<p>Время ожидания для всех методов стандартное (из параметра <code>timeout</code> файла конфигурации), если не задано явно другого</p>
</div>
<div class="paragraph">
<p>Во всех методах ниже - <code>message</code> - сообщение об ошибке в случае неудачной проверки</p>
</div>
<div class="sect4">
<h5 id="_Ожидания_появления_элемента_2">Ожидания появления элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_исчезновения_элемента_2">Ожидания исчезновения элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход xpath - путь до элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void visibility(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_изменения_атрибутов_элемента_2">Ожидания изменения атрибутов элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(WebElement element, String attribute, String attributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>). Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(WebElement element, String attribute, String attributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>) в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(By by, String attribute, String attributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>). Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void changeAttribute(By by, String attribute, String attributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения значения атрибута (например <code>class</code>) в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_состояния_атрибутов_элемента_2">Ожидания состояния атрибутов элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(WebElement element, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(WebElement element, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(By by, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeContains(By by, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(WebElement element, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(WebElement element, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(By by, String attribute, String partAttributeValue, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void attributeNotContains(By by, String attribute, String partAttributeValue, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновения в атрибуте определенного текстового фрагмента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_изменения_текстовых_значений_2">Ожидания изменения текстовых значений</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(String xpath, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(String xpath, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(WebElement element, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textContains(WebElement element, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает изменения или появления текста в элементе в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(String xpath, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(String xpath, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход xpath - путь до ожидаемого элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(WebElement element, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotContains(WebElement element, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает отсутствия текста в элементе в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotEquals(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает неравенства текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textNotEquals(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает неравенства текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textEquals(By by, String text, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает равенства текста в элементе. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void textEquals(By by, String text, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает равенства текста в элементе в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_появления_элемента_в_структуре_dom_2">Ожидания появления элемента в структуре DOM</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void presence(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления элемента в структуре DOM в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_исчезновения_элемента_из_структуры_dom_2">Ожидания исчезновения элемента из структуры DOM</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void absence(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновение элемента из структуры DOM. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void absence(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает исчезновение элемента из структуры DOM в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидания_кликабельности_элемента_2">Ожидания кликабельности элемента</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(String xpath, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(String xpath, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(By by, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(By by, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход локатор для поиска элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(WebElement element, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента. Принимает на вход элемент</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void clickable(WebElement element, String message, int timeout)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает кликабельности элемента в течение заданного времени. Принимает на вход элемент</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Ожидание_выполнения_переданного_условия_2">Ожидание выполнения переданного условия</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void wait(ExpectedCondition condition, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает в течении стандартного таймаута выполнения условия, заданного параметром <code>ExpectedCondition</code>. Например, для ожидания исчезновения элемента по его локатору <code>ExpectedConditions.invisibilityOfElementLocated(by)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void wait(ExpectedCondition condition, String message)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает в течении переданного таймаута выполнения условия, заданного параметром <code>ExpectedCondition</code>. Например, для ожидания исчезновения элемента по его локатору <code>ExpectedConditions.invisibilityOfElementLocated(by)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Другие_ожидания_2">Другие ожидания</h5>
<div class="paragraph">
<p>Обратиться к методам можно через <code>WebWait</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForPageToLoad(boolean&#8230;&#8203; stopRecursion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает загрузки страницы. Если страница не загружена - обновляет и проверяет повторно. Повторят эти действия до тех пор пока страница не будет открыта либо пока не истечет стандартный таймаут (задан в параметре <code>timeout</code> конфигурации)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForTextPresenceInPageSource(String text, boolean shouldTextBePresent)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет наличие или отсутствие текста на странице в зависимости от параметра <code>shouldTextBePresent</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void waitForModalWindowWithText(String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ожидает появления модального окна с заданным текстом</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Как_работать_с_алертами_2">3.15. Как работать с алертами</h3>
<div class="paragraph">
<p>Чтобы объявить алерт, появляющийся на странице, нужно создать экземпляр класса <code>Alert</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Alert alert = new Alert();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем с ним можно выполнить одно из действий:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean checkValue(String expectedValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет текст алерта</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void accept()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимает алерт</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void dismiss()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отклоняет алерт</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rest_plugin">4. Rest plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Плагин для автоматизации API приложений, базирующийся на <code>rest-assured</code> и <code>cucumber</code></p>
</div>
<div class="paragraph">
<p>Основная идея заключается в том, что каждый метод API описывается отдельным классом, в котором есть поля запроса и методы валидации</p>
</div>
<div class="paragraph">
<p>В качестве паттерна проектирования взят PageObject. Перекладывая идеи этого паттерна с GUI тестирования, на тестирование API для каждого метода API в приложении с автотестами создается свой класс, где описываются нужные поля запроса и методы валидации. Основное преимущество данного паттерна - это простота поддержки автотестов, ведь в случае изменения полей объекта API, изменения нужно внести в одном месте, где он описан.</p>
</div>
<div class="paragraph">
<p>Использование же BDD позволяет писать сценарии автоматизированного тестирования на человекочитаемом языке, что позволяет понизить входной порог для разработчиков автотестов, и позволяет людям, не знакомым с языками программирования и автоматизацией тестирования, понять и воспроизвести шаги автотеста в ручную.</p>
</div>
<div class="sect2">
<h3 id="_Как_начать_использовать_3">4.1. Как начать использовать</h3>
<div class="paragraph">
<p>Для начала использования необходимо подключить зависимость, указав актуальную версию плагина</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;ru.sbtqa.tag.pagefactory&lt;/groupId&gt;
      &lt;artifactId&gt;rest-plugin&lt;/artifactId&gt;
      &lt;version&gt;Актуальная версия&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем создать, если еще не создан, файл запуска тестов, унаследовав его от класса <code>Tag</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import cucumber.api.CucumberOptions;
import cucumber.api.junit.Cucumber;
import org.junit.runner.RunWith;
import ru.sbtqa.tag.pagefactory.Tag;

@RunWith(Cucumber.class)
@CucumberOptions(monochrome = true, plugin = {"pretty"},
        // Укажите здесь корневые пакеты, в которых хранятся шаги
        // Если вы написали свои классы с шагами, не забудьте указать здесь пакеты, в которых они находятся
        glue = {"ru.sbtqa.tag.stepdefs",
                "ru.your.project.stepdefs"},
        // Укажите здесь путь до каталога с фичами
        features = {"src/test/resources/ru/features/"},
	    // Здесь можно указать тэг теста или нескольких тестов, которые нужно запустить
        tags = {"@test"}
)

public class CucumberTest extends Tag{}</code></pre>
</div>
</div>
<div class="paragraph">
<p>В файле <code>application.properties</code> в параметре <code>api.baseURI</code> прописать путь тестируемого приложения. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>api.baseURI = http://api.com</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_методов_api">4.2. Описание методов API</h3>
<div class="paragraph">
<p>Для описания метода необходимо создать класс, унаследовав его от <code>EndpointEntry</code></p>
</div>
<div class="paragraph">
<p>Параметры метода нужно задать аннотацией <code>@Endpoint</code>. С ее помощью определяются:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>method</code> - метод (POST, GET, PUT, DELETE, PATCH, OPTIONS, HEAD)</p>
</li>
<li>
<p><code>host</code> - url вида &lt;схема&gt;://&lt;хост&gt;[:&lt;порт&gt;]. В случае если не задано, будет использовано <code>api.baseURI</code></p>
</li>
<li>
<p><code>path</code> - путь, относительно заданного в <code>api.baseURI</code></p>
</li>
<li>
<p><code>title</code> - имя метода для обращения из тестового сценария</p>
</li>
<li>
<p><code>template</code> - шаблон запроса</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><em>Пример:</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.GET, host = "http://example.pf2.ru:8080", path = "repos/qa", title = "Запрос")
public class ApiEntry extends EndpointEntry {
...
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Параметр host можно задавать динамически. Для этого нужно использовать плейсхолдер вида <code>host = "${env.myHost}"</code>. В мавен нужно будет передать это параметр как <code>mvn clean test -Denv.myHost=https://localhost:8888</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Путь до пакета с описанными API-методами необходимо прописать в файле конфигурации. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>api.endpoint.package = ru.qa.rest</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Отправка_запроса">4.3. Отправка запроса</h3>
<div class="paragraph">
<p>Для отправки описанного запроса, в котором уже определены все значения параметров служит шаг:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь отправляет запрос "Имя запроса"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Шаг с присвоением значений параметров:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * он отправляет запрос "Имя запроса" с параметрами:
        | header параметр 1 | Значение параметра 1 |
        | body параметр 2   | Значение параметра 2 |</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_Параметры_запроса">4.3.1. Параметры запроса</h4>
<div class="paragraph">
<p>Параметры описываются в <code>Entry</code>-классе (за исключением формирования запроса из фичи) при помощи аннотаций:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><em>@Body</em></strong> - параметр тела запроса</p>
</li>
<li>
<p><strong><em>@Header</em></strong> - параметр заголовка</p>
</li>
<li>
<p><strong><em>@Query</em></strong> - query параметр (Будет подставлен в URL запроса). Так же этот параметр может быть использован для параметризации пути url. Например: <a href="https://github.com/${org}/${repo}" class="bare">https://github.com/${org}/${repo}</a></p>
</li>
<li>
<p><strong><em>@Cookie</em></strong> - параметр cookie</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Каждая из этих аннотаций имеет параметр <code>name</code>, который является обязательным и определяет непосредственно имя параметра запроса</p>
</div>
<div class="sect4">
<h5 id="_Шаблоны">Шаблоны</h5>
<div class="paragraph">
<p>Если тело запроса представляет собой json, то нужно создать шаблон запроса. Допустим тело запроса имеет вид:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "name": "Liza",
    "number": "79236666666",
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Тогда шаблон (например, users.json файл) можно описать так:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "name": "${name}",
    "number": "${number}",
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Путь до файла шаблона нужно прописать в аннотации <code>@Endpoint</code> запроса в параметре <code>template</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.POST, path = "user", title = "Запрос", template = "users.json")
public class ReplacerEntry extends EndpointEntry {

    @Body(name = "name")
    private String bodyName = "Liza";

    @Body(name = "number")
    private String bodyNumber = "79236666666";

    @Body(name = "array")
    private BodyArray&lt;String&gt; = new BodyArray&lt;&gt;("[hello, world, string\\, with\\, commas]")
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>При этом подстановка в шаблон будет выполнена по соответствию параметра <code>name</code> аннотации <code>@Body</code> и значения, обозначенного через <code>${}</code></p>
</div>
<div class="paragraph">
<p>BodyArray используется для параметризации массивов. Элементы массива приводятся к одному типу.
Если надо в строковом типе поставить запятую, то она экранируется обратным слешем в фиче.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Путь до расположения шаблонов указывается относительно каталога тестовых ресурсов <code>src/test/resources</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>При необходимости можно задать кодировку шаблонов, указав нужную в параметре конфигурации:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>api.template.encoding = utf-8</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример использования шаблона:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-json.png" alt="rest json"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример использования шаблона с частичной подстановкой:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-json-replace.png" alt="rest json replace"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Передача_параметров_формы_form_data">Передача параметров формы (form-data)</h5>
<div class="paragraph">
<p>Если нужно передать параметры формы, то достаточно описать параметры для метода.<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Для передачи значений параметров API рекомендуется использовать таблицы данных в тестовых сценариях</span>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Пример:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-formparam.png" alt="rest formparam"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример с использованием таблицы данных:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-form-param-datatable.png" alt="rest form param datatable"></a>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Подстановка_фрагмента_параметра">Подстановка фрагмента параметра</h5>
<div class="paragraph">
<p>Можно параметризовать Entry, используя аналогичную json подстановку через ${}</p>
</div>
<div class="paragraph">
<p><strong><em>Пример:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-replace.png" alt="rest replace"></a>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Модификаторы_параметров">4.3.2. Модификаторы параметров</h4>
<div class="paragraph">
<p>Модификаторы представляют из себя аннотации, которые помогают изменить параметры перед отправкой запроса</p>
</div>
<div class="sect4">
<h5 id="_mutator">@Mutator</h5>
<div class="paragraph">
<p>По отношению к полю будет применен метод, указанный в method, после применения остальных модификаторов.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    @Header(name = "Header name")
    @Mutator(method = "toUpperCase")
    private String header = "header_value";


    public String toUpperCase(String value) {
        return value.toUpperCase();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>К полю <code>header</code> будет применен метод <code>toUpperCase</code>, в результате чего поле <code>header</code> получит значение <code>HEADER_VALUE</code>, затем
будет произведена сборка и отправка запроса.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Метод, являющийся мутатором, обязательно должен иметь один параметр типа <code>String</code> в сигнатуре, в него будет передано текущее
значение мутируемого поля</span>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>В <code>clazz</code> можно указать, где искать <code>method</code>. Если <code>clazz</code> не указан, то мутатор будет искаться в текущем <code>Endpoint</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    @Header(name = "Header name")
    @Mutator(clazz = DefaultMutators.class, method = "toUpperCase")
    private String header = "header_value";
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class DefaultMutators {

    public static String toUpperCase(String value) {
        return value.toUpperCase();
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">В случае если указан <code>clazz</code>, метод указанный в <code>method</code> должен быть <code>static</code>, иначе возникнет ошибка
<code>java.lang.IllegalArgumentException: object is not an instance of declaring class</code></span>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Проверки">4.4. Проверки</h3>
<div class="paragraph">
<p>Для проверки выполнения запроса необходимо определить один или несколько методов валидации. Методы валидации должны быть аннотированы <code>@Validate</code>. Эта аннотация задает имя для вызова метода из фичи (параметр <code>title</code>)</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
В примерах шагов слово "пользователь" может быть заменено на "он" или убрано
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Проверка_без_параметров">4.4.1. Проверка без параметров</h4>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.POST, path = "user", title = "Запрос")
public class ReplacerEntry extends EndpointEntry {

    @Validation(title = "result")
    public void validate() {
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Выполнить написанную таким образом проверку из фичи можно одним из следующих способов:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь проверяет "result"
    * пользователь проверяет ответ "result"
    * система возвращает "result"
    * система возвращает ответ "result"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если в классе реализована только одна проверка без параметров, то проверку можно выполнить без указания имени метода одним из шагов:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь проверяет ответ
    * система возвращает ответ</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Проверка_таблицы_значений">4.4.2. Проверка таблицы значений</h4>
<div class="paragraph">
<p>Шаги верификации могут так же принимать на вход DataTable (cucumber). Для них метод проверки будет иметь вид:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.POST, path = "user", title = "Запрос")
public class ReplacerEntry extends EndpointEntry {

    @Validation(title = "result")
    public void validate(DataTable dataTable) {
        Map&lt;String, String&gt; data = CastUtils.toMap(dataTable);
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Шаги:</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь проверяет ответ "result" с параметрами:
        | параметр 1 | значение 1 |
        | параметр 2 | значение 2 |

    * пользователь проверяет ответ "result" с параметрами:
        | параметр 1 | значение 1 |
        | параметр 2 | значение 2 |

    * система возвращает ответ "result" с параметрами:
        | параметр 1 | значение 1 |
        | параметр 2 | значение 2 |

    * система возвращает ответ "result" с параметрами:
        | параметр 1 | значение 1 |
        | параметр 2 | значение 2 |</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример:</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-validate.png" alt="rest validate"></a>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_реализовать_свои_шаги_проверки">4.4.3. Как реализовать свои шаги проверки</h4>
<div class="paragraph">
<p>Если есть необходимость передавать в метод верификации параметр, отличный от <code>DataTable</code>, то необходимо определить в проекте соответствующий шаг. Пример для проверки с одним параметром:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@И("^(?:пользователь |он )?проверяет \"([^\"]*)\" с параметром \"([^\"]*)\"$")
public void validateWithparam(String rule, String param) {

    // Если нужно два или более параметров, просто добавьте их в метод через запятую
    EndpointContext.getCurrentEndpoint().validate(rule, param);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>После этого можно написать проверку:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.POST, path = "user", title = "Запрос")
public class ReplacerEntry extends EndpointEntry {

    @Validation(title = "result")
    public void validate(String param) {
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>И выполнить ее в фиче:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь проверяет "result" с параметром "param value"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_писать_реализацию_проверок">4.4.4. Как писать реализацию проверок</h4>
<div class="paragraph">
<p>Получить ответ запроса можно методом <code>getResponse()</code> в любом <code>Entry</code>-классе. Этот метод вернет <code>ValidatableResponse</code>. О том, как с ним работать и какие проверки он имеет можно узнать в документации <a href="https://github.com/rest-assured/rest-assured/wiki/Usage#verifying-response-data" class="ext-link" target="_blank" rel="noopener">rest-assured</a></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@Endpoint(method = Rest.POST, path = "user", title = "Запрос")
public class ReplacerEntry extends EndpointEntry {

    @Validation(title = "result")
    public void validate() {
        getResponse().body("result", equalTo("expected result"));
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Сборка_запроса_из_фичи">4.5. Сборка запроса из фичи</h3>
<div class="paragraph">
<p>Можно не описывать параметры в <code>Entry</code> и формировать запрос "на лету" прямо в фиче. Для этого нужно сначала написать шаг</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь заполняет запрос "Имя запроса"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Здесь и далее под именем запроса подразумевается значение <code>title</code> из аннотации <code>@Endpoint</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание! Параметры могут быть не описаны, но класс обязательно должен быть
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Теперь нужно добавить необходимые параметры. Сделать это можно одним из шагов:</p>
</div>
<div class="paragraph">
<p><strong><em>Добавление одного параметра</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметр с именем "query параметр" и значением "Значение параметра"
    * пользователь добавляет header параметр с именем "header параметр" и значением "Значение параметра"
    * пользователь добавляет body параметр с именем "body параметр" и значением "Значение параметра"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Добавление нескольких параметров</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметры
        | query параметр 1 | Значение параметра 1 |
        | query параметр 2 | Значение параметра 2 |

    * пользователь добавляет header параметры
        | header параметр 1 | Значение параметра 1 |
        | header параметр 2 | Значение параметра 2 |

    * пользователь добавляет body параметры
        | body параметр 1 | Значение параметра 1 |
        | body параметр 2 | Значение параметра 2 |</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример сборки запроса:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-fill-simple.png" alt="rest fill simple"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Добавление параметра из ответа на запрос</em></strong></p>
</div>
<div class="paragraph">
<p>Из заголовка:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" header "header"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" header "header"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" header "header"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Из тела:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" путь "body.path"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" путь "body.path"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" путь "body.path"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Из заголовка с наложением маски:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" header "header" маскa "-(.*)-"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" header "header" маскa "-(.*)-"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" header "header" маскa "-(.*)-"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Из тела с наложением маски:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь добавляет query параметр "query параметр" из ответа на запрос "Имя запроса" путь "body.path" маскa "-(.*)-"
    * пользователь добавляет header параметр "header параметр" из ответа на запрос "Имя запроса" путь "body.path" маскa "-(.*)-"
    * пользователь добавляет body параметр "body параметр" из ответа на запрос "Имя запроса" путь "body.path" маскa "-(.*)-"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="aqua">В качества параметра пути указывается xpath или jsonpath путь до значения тела в соответствующей структуре</span>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>После того как все параметры заполнены нужно выполнить отправку собранного запроса:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь отправляет запрос</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример подстановки из заголовка ответа</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-response-header.png" alt="rest response header"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример подстановки в тело запроса по маске</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-response-mask.png" alt="rest response mask"></a>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-response-mask2.png" alt="rest response mask2"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример работы с маской</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/rest-response-body-mask.png" alt="rest response body mask"></a>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Шаги_работы_с_api_в_английской_локализации">4.6. Шаги работы с API в английской локализации</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    * user sends request

    * user sends request for "Request"
    * user sends request to "Request"
    * user sends request about "Request"

    * user sends request for "Request" with parameters:
      | param | value |
    * user sends request to "Request" with parameters:
      | param | value |
    * user sends request about "" with parameters:
      | param | value |

    * system returns "result"
    * user validates response
    * system returns "result" with parameters:
      | param | value |

    * user fill the request "Request"
    * user add a query parameter with name "query parameter" and value "value"
    * user add a header parameter with name "header parameter" and value "value"
    * user add a body parameter with name "body parameter" and value "value"

    * user add a query parameters
      | query param | value |
    * user add a header parameters
      | header parameter | value |
    * user add a body parameters
      | body parameter | value |

    * user add query parameter "header parameter" from response on "Request" header "header"
    * user add header parameter "header parameter" from response on "Request" header "header"
    * user add body parameter "header parameter" from response on "Request" header "header"

    * user add query parameter "header parameter" from response on "Request" body "body.path"
    * user add header parameter "header parameter" from response on "Request" body "body.path"
    * user add body parameter "header parameter" from response on "Request" body "body.path"

    * user add query parameter "header parameter" from response on "Request" header "header" mask "-(.*)-"
    * user add header parameter "header parameter" from response on "Request" header "header" mask "-(.*)-"
    * user add body parameter "header parameter" from response on "Request" header "header" mask "-(.*)-"

    * user add query parameter "header parameter" from response on "Request" body "body.path" mask "-(.*)-"
    * user add header parameter "header parameter" from response on "Request" body "body.path" mask "-(.*)-"
    * user add body parameter "header parameter" from response on "Request" body "body.path" mask "-(.*)-"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ssl">4.7. SSL</h3>
<div class="paragraph">
<p>Включить упрощенную схему работы с ssl можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>api.ssl.relaxed = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>Подробнее об этом можно узнать в документации <a href="https://github.com/rest-assured/rest-assured/wiki/Usage#ssl" class="ext-link" target="_blank" rel="noopener">rest-assured</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mq_plugin">5. MQ plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Плагин, позволяющий автоматизировать приложение, взаимодействующее по транспортам <code>MQ</code> или <code>Kafka</code>. В обоих случаях плагин подключается к серверу и предоставляет возможность отправки, поиска, удаления сообщений в/из MQ или Kafka</p>
</div>
<div class="sect2">
<h3 id="_Как_начать_использовать_4">5.1. Как начать использовать</h3>
<div class="paragraph">
<p>Для начала использования необходимо подключить зависимость, указав актуальную версию плагина</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;ru.sbtqa.tag.pagefactory&lt;/groupId&gt;
      &lt;artifactId&gt;mq-plugin&lt;/artifactId&gt;
      &lt;version&gt;Актуальная версия&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>В файле <code>application.properties</code> прописать параметры. Значения указываются в миллисекундах Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mq.timeout = 1000
kafka.timeout = 500</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mq.timeout</code> устанавливает таймаут на ожидание вычитки сообщения из очереди в случае, если такового сообщения нет.</p>
</li>
<li>
<p><code>kafka.timeout</code> устанавливает таймаут на ожидание вычитки сообщения из топика.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_Примеры_создания_соединения_с_mq">5.2. Примеры создания соединения с MQ</h3>
<div class="paragraph">
<p>Рассмотрим примеры подключения к ActiveMQ и WebSphere. Для создания подключения необходимо использовать статический метод <code>getMq</code>, передав параметры подключения в качестве параметра</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MqFactory.getMq(Properties);</pre>
</div>
</div>
<div class="paragraph">
<p>В параметрах подключения необходимо передать <code>mq.type</code> и <code>jms.connection</code> переменные. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Properties connProps = new Properties();
connProps.put(MqFactory.MQ_TYPE, "activeMq");
connProps.put(MqFactory.JMS_CONNECTION, queueConnection);</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Пример подключения к ActiveMQ</div>
<div class="content">
<pre>private Jms&lt;TextMessage&gt; createConnection() {
    QueueConnection queueConnection = null;
    try {
        ActiveMQConnectionFactory mqCF = new ActiveMQConnectionFactory(&lt;Адрес хоста&gt;);
        queueConnection = mqCF.createQueueConnection();
    } catch (JMSException ex) {
        LOG.error("", ex);
    }

    Properties connProps = new Properties();
    connProps.put(MqFactory.MQ_TYPE, "activeMq");
    connProps.put(MqFactory.JMS_CONNECTION, queueConnection);
    mQueueConnection = queueConnection;
    return MqFactory.getMq(connProps);
}</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Пример подключения к WebSphere</div>
<div class="content">
<pre>private Jms&lt;JMSTextMessage&gt; createConnection() {
    QueueConnection queueConnection = null;
    try {
        MQQueueConnectionFactory mqCF = new MQQueueConnectionFactory();
        mqCF.setHostName(&lt;IP адрес хоста&gt;);
        mqCF.setPort(&lt;Порт&gt;);
        mqCF.setChannel(&lt;Имя канала&gt;);
        mqCF.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);
        queueConnection = mqCF.createQueueConnection();
    } catch (JMSException ex) {
        LOG.error("", ex);
    }

    Properties connProps = new Properties();
    connProps.put(MqFactory.MQ_TYPE, "websphere");
    connProps.put(MqFactory.JMS_CONNECTION, queueConnection);
    return MqFactory.getMq(connProps);
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mobile_plugin">6. Mobile plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Плагин для автоматизации тестирования мобильных приложений (Android). Базируется на <code>appium</code> и <code>cucumber</code>.</p>
</div>
<div class="paragraph">
<p>Для запуска тестов необходим запущенный эмулятор android-устройства (или подключенное реальное android-устройство) и запущенный appium-сервер.</p>
</div>
<div class="paragraph">
<p>Подробности по установке и запуску эмуляторов можно найти здесь:
<a href="https://developer.android.com/studio/run/emulator" class="bare">https://developer.android.com/studio/run/emulator</a></p>
</div>
<div class="paragraph">
<p>Подробности по установке и запуску appium-сервера можно найти здесь:
<a href="https://github.com/appium/appium/blob/master/docs/en/about-appium/getting-started.md" class="bare">https://github.com/appium/appium/blob/master/docs/en/about-appium/getting-started.md</a></p>
</div>
<div class="sect2">
<h3 id="_Как_начать_использовать_5">6.1. Как начать использовать</h3>
<div class="paragraph">
<p>Для начала использования необходимо подключить зависимость, указав актуальную версию плагина</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;ru.sbtqa.tag.pagefactory&lt;/groupId&gt;
      &lt;artifactId&gt;mobile-plugin&lt;/artifactId&gt;
      &lt;version&gt;Актуальная версия&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Затем создать, если еще не создан, файл запуска тестов, унаследовав его от класса <code>Tag</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import cucumber.api.CucumberOptions;
import cucumber.api.junit.Cucumber;
import org.junit.runner.RunWith;
import ru.sbtqa.tag.pagefactory.Tag;

@RunWith(Cucumber.class)
@CucumberOptions(monochrome = true, plugin = {"pretty"},
        // Укажите здесь корневые пакеты, в которых хранятся шаги
        // Если вы написали свои классы с шагами, не забудьте указать здесь пакеты, в которых они находятся
        glue = {"ru.sbtqa.tag.stepdefs",
                "ru.your.project.stepdefs"},
        // Укажите здесь путь до каталога с фичами
        features = {"src/test/resources/ru/features/"},
	    // Здесь можно указать тэг теста или нескольких тестов, которые нужно запустить
        tags = {"@test"}
)

public class CucumberTest extends Tag{}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Настройки_проекта_3">6.2. Настройки проекта</h3>
<div class="sect3">
<h4 id="_Конфигурационный_файл_3">6.2.1. Конфигурационный файл</h4>
<div class="paragraph">
<p>Конфигурационный файл по умолчанию должен быть расположен по пути '/src/test/resources/config/application.properties'. <br>
Но этот путь можно переопределить, передав путь до файла через системную переменную 'TagConfigFileFolder', таким образом что директория находится в папке с ресурсами (/src/test/resources). По умолчанию это папка config в ресурсах.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFileFolder=custom-place</code></pre>
</div>
</div>
<div class="paragraph">
<p>Также можно переопределить наименование самого конфига, передав название через системную переменную 'TagConfigFile'. По умолчанию это файл с наименованием application.
Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>mvn test -DTagConfigFile=config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>Так же можно задавать отдельные свойства через переменные окружения, либо через java system properties.</p>
</div>
<div class="paragraph">
<p>Все последующие свойства переопределяют предыдущие. Приоритет значений следующий:<br>
* По-умолчанию читается application.properties
* Далее идет чтение TagConfigFile
* Затем считываются переменные окружения
* И в конце - java system properties</p>
</div>
</div>
<div class="sect3">
<h4 id="_Общие_конфигурации_3">6.2.2. Общие конфигурации</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Обязательные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">page.package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до пакета с классами страниц(pages)</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">page.package = ru.myproject.pages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock"><strong>Опциональные</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймаут операций в секундах</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks.to.kill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр позволяет принудительно убить процессы перед запуском тестового прогона, если они запущены</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">tasks.to.kill = iexplorer,chrome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Не задано</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">driver.shared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, оставлять ли драйвер после каждого тестового сценария (кроме последнего из набора) запущенным или нет</p>
<p class="tableblock">Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_отчетов_3">6.2.3. Конфигурирование отчетов</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">screenshot.strategy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Параметр определяет стратегию для работы с инструментами снимков экрана</p>
<p class="tableblock">Возможные значения: <code>driver</code> или <code>raw</code>.<br>
<code>driver</code> - скриншот будет создаваться средствами <code>Selenium WebDriver</code>, т.е будет сделан только скриншот страницы<br>
<code>raw</code> - будет сделан скриншот всего экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>raw</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.fill.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры заполнения полей в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.click.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия на элемент в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.press.key.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры нажатия клавиш в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.set.checkbox.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры установки признаков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.select.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли параметры выбора из выпадающих списков в отчет<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">aspects.report.error.source.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Определяет, добавлять ли исходный код страницы на которой произошла ошибка во время теста<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Конфигурирование_записи_видео_3">6.2.4. Конфигурирование записи видео</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает запись видео<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">video.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь, куда будут сохранятся файлы. Можно указать сетевую папку</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">video.path = /tmp/video</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Стандартная для ОС папка для хранения временных файлов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_фрагментами_3">6.2.5. Параметры работы с фрагментами</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Значение по умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включает или выключает работу с фрагментами<br>
Возможные значения: <code>true</code> или <code>false</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fragments.path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с фрагментами</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">fragments.path = src/test/resources/fragments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до папки с фичами из параметров запуска (@CucumberOptions)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_тестовыми_данными_3">6.2.6. Параметры работы с тестовыми данными</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тип данных</p>
<p class="tableblock">Возможные значения: <code>json</code>, <code>mongo</code>, <code>excel</code>, <code>properties</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Путь до каталога с данными. Для <code>excel</code> путь до файла без расширения</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.folder = src/test/resources/data/</p>
<p class="tableblock">Пример для <code>excel</code></p>
<p class="tableblock">data.folder = src/test/resources/data/Data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.initial.collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Коллекция данных по умолчанию. Указывается без расширения. Для <code>excel</code> - имя вкладки</p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.initial.collection = Data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Обязательные при работе с <code>mongodb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.uri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Адрес базы данных. Параметр для <code>data.type = mongo</code></p>
<p class="tableblock">Пример:</p>
<p class="tableblock">data.uri = mongodb://username:password@host.ru:8080</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.db</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя базы данных. Параметр для <code>data.type = mongo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Необязательные</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data.extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Расширение файлов данных (используется для задания нестандартных расширений). Для <code>excel</code> не учитывается (всегда будет <code>xslx</code>)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_для_работы_с_code_appium_code">6.2.7. Параметры для работы с <code>Appium</code></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Адрес, на котором открыт appium-сервер (хост:порт)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия appium-сервер (актуально для saucelabs, где можно выбирать какую версию appium использовать)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Абсолютный локальный путь или удаленный URL-адрес к файлу .apk (Android) или файлу .apks (комплект приложений Android) или к файлу .zip, содержащему один из них. Appium попытается сначала установить этот файл приложения на соответствующее устройство. Обратите внимание, что эта возможность не требуется для Android, если вы указываете функции appPackage и appActivity. Несовместимо с 'appium.browser.name'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.app.package</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android-only. Java-пакет запускаемого приложения</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.app.activity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя activity, которое нужно запускать</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.device.orientation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ориентация устройства. Актуально только для эмуляторов</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.device.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя мобильного устройства или эмулятора</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.device.platform.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия мобильной платформы (например 4.4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.browser.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя мобильного веб-браузера. Должно быть пустой строкой, если тестируется приложение.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.device.platform.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя мобильной платформы ANDROID или IOS (регистр важен). По-умолчанию IOS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.strategies.reset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Если будет указано 'noreset', то будет активирована стратегия noReset. Если 'fullreset', то fullReset стратегия, в остальных случаях - стратегия по-умолчанию.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.permissions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">iOS-only с applesimutils. Детали <a href="https://github.com/appium/appium-xcuitest-driver/blob/master/README.md">здесь</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.automation.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Движок автоматизации. Appium по-умолчанию</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.permissions.autogrant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Давать ли доступ или нет (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.keyboard.unicode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включить ввод Unicode (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.keyboard.reset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Сбрасывать ли клавиатуру после ввода (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.udid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Уникальный идентификатор физического устройства, например 1ae203187fc012g</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.bundleid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Идентификатор пакета приложения</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.alerts.autoaccept</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимать ли алерты (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тайм-аут в секундах, по-умолчанию 60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вести ли запись видео (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Директория для сохранения видео, по-умолчанию target</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Название видеофайла, по-умолчанию mobiletest</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Расширение видеофайла, по-умолчанию mp4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Тип видеокодека, по-умолчанию h264</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.scale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">iOS-only. Разрешение, по-умолчанию 1920:1080.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.timeLimit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Лимит длительности видео в секундах, по-умолчанию 180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.quality</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Качество видео. Доступные значения: LOW, MEDIUM, HIGH, PHOTO. По-умолчанию MEDIUM</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.fps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество кадров в секунду, по-умолчанию 10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.bitrate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Битрейт, по-умолчанию 200000000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.videoSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android-only. Размер видео, по-умолчанию 1280x720.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.video.bugReport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android-only. Показывает дополнительную информацию на видео (boolean), по-умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.xcodeOrgId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">iOS-only. Идентификатор организации в Xcode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.xcodeSigningId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">iOS only. Идентификатор подписи кода в Xcode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.disableWindowAnimation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android only. Следует ли отключать анимацию окон при запуске, по умолчанию false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">appium.waitForIdleTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Android only. Тайм-аут, используемый для ожидания перехода пользовательского интерфейса в состояние ожидания, по умолчанию 10000</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Параметры_работы_с_selenoid_moon_3">6.2.8. Параметры работы с Selenoid/Moon</h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Параметр</th>
<th class="tableblock halign-center valign-middle">Описание</th>
<th class="tableblock halign-center valign-middle">Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Версия андроида</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.version = 8.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение доступа по VNC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVNC = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение экрана</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.screenResolution = 1280x1024x24</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Включение/выключение записи видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.enableVideo = true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя видеофайла
selenoid.video.name = my-cool-video.mp4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Разрешение видео</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.screenSize = 1024x768</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Количество кадров в секунду</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.video.frameRate = 24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Имя теста, по умолчанию наименование берется из названия сценария (для cucumber сценария)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.nameOfTests = myCoolTestName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Таймзона</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.timeZone = Europe/Moscow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Список передаваемых хостов</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.hostEntries = example.com:192.168.0.1,test.com:192.168.0.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Контейнеры</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.applicationContainers = spring-application-main:my-cool-app,spring-application-gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">selenoid.containerLabels</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_страниц_3">6.3. Описание страниц</h3>
<div class="paragraph">
<p>При описании страниц нужно придерживаться паттерна <code>PageObject</code></p>
</div>
<div class="paragraph">
<p><strong><em>Страница</em></strong> - это класс, внутри которого хранится описание элементов пользовательского UI, а так же действия(actions), которые можно выполнить на этой странице.</p>
</div>
<div class="paragraph">
<p>Чтобы пользоваться всеми преимуществами плагина, необходимо унаследовать каждую страницу вашего проекта от <code>MobilePage</code> и именовать страницу при помощи аннотации <code>@PageEntry</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.MobilePage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>По имени, заданному аннотацией <code>@PageEntry</code>, можно будет обратиться к странице из тестового сценария.</p>
</div>
<div class="paragraph">
<p>Путь до корневого пакета с классами страниц должен быть прописан в файле конфигурации (application.properties) в параметре <code>page.package</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>page.package = ru.your.project.pages</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="aqua">Рекомендуется заводить в проекте базовую страницу, унаследованную от <code>MobilePage</code>, и уже от нее наследовать все остальные. Это позволит в случае необходимости описать ряд действий на базовой странице проекта.</span>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Методы_для_работы_со_страницами_3">6.3.1. Методы для работы со страницами</h4>
<div class="paragraph">
<p>Обратиться к методам можно через класс <code>PageManager</code></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Map&lt;Class&lt;? extends Page&gt;, Map&lt;Field, String&gt;&gt; getPageRepository()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает репозиторий страниц (набор: страница - набор полей-элементов страницы с именами)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page getPage(Class&lt;? extends Page&gt; page)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает страницу по имени класса</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static Page changeUrlByTitle(String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Перенаправляет на URL (по значению <code>url</code> аннотации <code>@PageEntry</code>) страницы с заданным именем (значение <code>title</code> аннотации <code>@PageEntry</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static void cachePages()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Вносит все страницы проекта в репозиторий страниц</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Описание_элементов_3">6.4. Описание элементов</h3>
<div class="paragraph">
<p>Элемент web-страницы можно описать в классе-странице задав путь до него в структуре DOM и имя. Элемент может не иметь имени, если к нему не нужно обращаться из тестового сценария, например в ситуации, когда он используется только в методах страницы.</p>
</div>
<div class="paragraph">
<p>Для задания пути, как правило, используется стандартная аннотация selenium - <code>@FindBy</code> или другие аналогичные аннотации. Почитать о методах поиска и локаторах можно <a href="https://kreisfahrer.gitbooks.io/selenium-webdriver/content/webdriver_intro/tipi_lokatorov.html" class="ext-link" target="_blank" rel="noopener">в документации selenium</a>. Для задания имени - аннотация <code>@ElementTitle</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @ElementTitle(value = "Элемент")
    @FindBy(xpath = "//span")
    public WebElement element;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Инициализировать элементы страницы не нужно, так как этот функционал уже зафиксирован на странице-родителе - <code>MobilePage</code></p>
</div>
<div class="paragraph">
<p>Если же такая необходимость возникла, то достаточно определить конструктор страницы, вызвав в нем родительский конструктор с нужным декоратором.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

    public YourPage() {
        super(new HtmlElementDecorator(new HtmlElementLocatorFactory(Environment.getDriverService().getDriver())));
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Методы_работы_с_элементами_3">6.5. Методы работы с элементами</h3>
<div class="sect3">
<h4 id="_Проверки_атрибутов_3">6.5.1. Проверки атрибутов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeContains(T element, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента содержит переданное значение</p>
<p class="tableblock">Вернет <code>true</code>, если значение найдено в атрибуте элемента и <code>false</code>, если не найдено</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isElementAttributeEquals(T element, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что атрибут элемента равен переданному значению</p>
<p class="tableblock">Вернет <code>true</code>, если переданное значение равно значению атрибута элемента и <code>false</code>, если нет</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_в_списке_элементов_по_атрибуту_3">6.5.2. Поиск в списке элементов по атрибуту</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithAttribute(List&lt;T&gt; elements, String attribute, String attributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, заданный атрибут которого равен переданному значению</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttributeWithEmptyResult(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementWithPartAttribute(List&lt;T&gt; elements, String attribute, String partialAttributeValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент, атрибут которого содержит переданное значение</p>
<p class="tableblock">Если такой элемент в списке не найден, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_текстовых_значений_элементов_3">6.5.3. Получение текстовых значений элементов</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; List&lt;String&gt; getElementsText(List&lt;T&gt; elements)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовые значения переданных элементов</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_текстовому_значению_3">6.5.4. Получение элемента списка по текстовому значению</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByTextWithEmptyResult(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением. Если такой элемент не найден, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент заданного типа и с заданным текстовым значением</p>
<p class="tableblock">Если такой элемент не найден, то будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Получение_элемента_списка_по_индексу_3">6.5.5. Получение элемента списка по индексу</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByIndex(List&lt;T&gt; elements, int index)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка по индексу с обработкой граничных значений</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Поиск_элемента_в_списке_по_предикату_3">6.5.6. Поиск элемента в списке по предикату</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Метод</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Описание</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicateWithEmptyResult(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, вернет <code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; T getElementByPredicate(List&lt;T&gt; elements, Predicate&lt;T&gt; predicate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает элемент списка, соответствующий предикату</p>
<p class="tableblock">Если такой элемент не найден в списке, будет выброшено исключение</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_Другие_полезные_методы_5">6.5.7. Другие полезные методы</h4>
<div class="paragraph">
<p>Обратиться к методам можно через `ElementUtils`</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Метод</strong></th>
<th class="tableblock halign-left valign-top"><strong>Описание</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void doubleClick(T element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет двойной клик по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; boolean isListContains(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, что список элементов содержит текстовое значение, строго равное переданному</p>
<p class="tableblock">Вернет <code>true</code>, если текст найден в списке элементов и <code>false</code>, если не найден</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; void clickOnElementByText(List&lt;T&gt; elements, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит элемент в списке элементов с заданным текстом и кликает по нему.</p>
<p class="tableblock">Проверяет, не является ли элемент недоступным для редактирования. Если недоступен, кидает исключение</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">static &lt;T extends WebElement&gt; String getTextByElementXpath(T currentContext, String xpath)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает текстовое значение элемента по его xpath выражению</p>
<p class="tableblock">В качестве параметра передается элемент, относительно которого будем выполнять
поиск</p>
<p class="tableblock">Если элемент не был найден по указанному пути, то возвращает пустую строку</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_Шаги_и_глагольные_выражения_3">6.6. Шаги и глагольные выражения</h3>
<div class="paragraph">
<p>Использовать элементы в тестовых сценариях можно двумя способами: в шагах либо в глагольных выражениях</p>
</div>
<div class="sect3">
<h4 id="_Шаги_тестовых_сценариев_3">6.6.1. Шаги тестовых сценариев</h4>
<div class="paragraph">
<p>Под шагами(Step Definitions) предполагаются стандартные шаги тестовых сценариев, описанных по логике работы с <code>cucumber</code></p>
</div>
<div class="paragraph">
<p><code>mobile-plugin</code> содержит набор стандартных шагов, необходимых для автоматизации любого проекта. Step Definitions, которые уже есть во фреймворке, поддерживают локализацию на двух языках: русском и английском</p>
</div>
<div class="paragraph">
<p>Ниже приведен список доступных шагов с описанием и примерами:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из шагов, предполагающих, что кто-либо совершает какое-либо действие, например <strong><em>заполняет поле</em></strong>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_Свайп">Свайп</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь свайпает в направлении "DOWN" до текста "Выход"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Возможные значения направлений: 'UP', 'DOWN', 'RIGHT', 'LEFT'. Свайп экрана будет прекращен, когда на экране станет виден искомый текст, либо свайп больше не возможен, так как достигнут конец страницы в данном направлении.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь свайпает по стратегии совпадения "EXACT" до текста "Выход"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Возможные значения стратегии совпадений: 'EXACT' (точное совпадение текста), 'CONTAINS' (полное или частичное совпадение текста). Свайп производится при помощи 'UIAutomator'</p>
</div>
</div>
<div class="sect4">
<h5 id="_Открытие_страницы_3">Открытие страницы</h5>
<div class="paragraph">
<p>Все приведенные ниже шаги выполняют одно и то же действие</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь находится на странице "Имя страницы"
    * открывается страница "Имя страницы"
    * открывается вкладка мастера "Имя страницы"</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Шаги открытия страницы не гарантируют, что страница приложения была открыта и что открыта именно та страница, которая ожидалась, они лишь определяют текущий контекст</span> (где искать элементы и глагольные выражения, с которыми ниже в сценарии будет происходить взаимодействие)
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Заполнение_полей_3">Заполнение полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * заполняет поле "Элемент" "Текст"
    * заполняет поле "Элемент" значением "Текст"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_на_элемент_3">Нажатие на элемент</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * кликает по ссылке "Элемент"
    * нажимает кнопку "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Нажатие_клавиш_3">Нажатие клавиш</h5>
<div class="paragraph">
<p>В качестве параметра используется имя клавиши (пр. ESC, ENTER)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * нажимает клавишу "Имя клавиши"
    * нажимает клавишу "Имя клавиши" на элементе "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выбор_из_стандартного_выпадающего_списка_опции_имеют_тэг_option_3">Выбор из стандартного выпадающего списка (опции имеют тэг option)</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * выбирает в "Элемент" значение "Опция"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Отметка_признака_3">Отметка признака</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * отмечает чекбокс "Элемент"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Проверки_текстовых_значений_полей_3">Проверки текстовых значений полей</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * проверяет что в поле "Элемент" значение "Текст"
    * проверяет что в поле "Элемент" не значение "Не этот текст"
    * проверяет что поле "Элемент" непустое
    * проверяет что поле "Элемент" пустое</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Выполнение_фрагмента_3">Выполнение фрагмента</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * вставляет фрагмент "Имя сценария-фрагмента"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_для_работы_с_ожиданиями_3">6.6.2. Шаги для работы с ожиданиями</h4>
<div class="sect4">
<h5 id="_Ожидание_появления_элемента_3">Ожидание появления элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает появления элемента "Элемент"
* ожидает 5 секунд появления элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура методов</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T appearElement(String elementName)
T appearElement(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_исчезновения_элемента_3">Ожидание исчезновения элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает исчезновения элемента "Элемент"
* ожидает 5 секунд исчезновения элемента "Элемент"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitInvisibility(String elementName)
T waitInvisibility(int timeout, String elementName)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_соответствия_атрибута_переданному_значению_3">Ожидание соответствия атрибута переданному значению</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" станет равно "значение атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitChangeAttribute(String attribute, String elementName, String attributeValue)
T waitChangeAttribute(int timeout, String attribute, String elementName, String attributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_изменения_атрибута_3">Ожидание изменения атрибута</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" должно содержать "часть значения атрибута"

* ожидает что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"
* ожидает 5 секунд что значение атрибута "class" в элементе "Элемент" не должно содержать "часть значения атрибута"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitAttributeContains(String attribute, String elementName, Condition condition, String partAttributeValue)
T waitAttributeContains(int timeout, String attribute, String elementName, Condition condition, String partAttributeValue)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_появления_или_исчезновения_текстового_фрагмента_в_элементе_3">Ожидание появления или исчезновения текстового фрагмента в элементе</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" должен содержать текст "текст"

* ожидает что элемент "Элемент" не должен содержать текст "текст"
* ожидает 5 секунд что элемент "Элемент" не должен содержать текст "текст"

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitElementContainsText(String elementName, Condition condition, String text)
T waitElementContainsText(int timeout, String elementName, Condition condition, String text)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Ожидание_кликабельности_элемента_3">Ожидание кликабельности элемента</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Способ использования</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* ожидает что элемент "Элемент" станет кликабельным
* ожидает 5 секунд что элемент "Элемент" станет кликабельным

Где вместо 5 может быть любое время ожидания</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Сигнатура метода</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>T waitClickability(String elementName)
T waitClickability(int timeout, String elementName)</code></pre>
</div>
</div>
<div class="paragraph">
<p>О том, как писать свои шаги, можно узнать в документации <a href="https://docs.cucumber.io/guides/10-minute-tutorial" class="ext-link" target="_blank" rel="noopener">cucumber</a></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Чтобы использовать свои шаги, нужно в файле запуска тестов прописать путь до них через запятую в опцию <code>glue</code></span>
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Рекомендации</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Параметры рекомендуется задавать регулярным выражением <code>"([^\"]*)\"</code></p>
</li>
<li>
<p>Если шаг используется только на одной странице, лучше описать глагольное выражение на странице</p>
</li>
<li>
<p>Шаги лучше хранить в отдельном от страниц каталоге (как правило, <code>stepdefs</code>), разбив их на логические группы, чтобы быстро и удобно находить их в зависимости от функциональности или принадлежности</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Шаги_в_английской_локализации_3">6.6.3. Шаги в английской локализации</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * user fills the field "Element" "Text"
    * user fills the field "Element" with value "Text"

    * user clicks the link "Element"
    * user clicks the button "Element"

    * user presses the key "KEY"
    * user presses the key "KEY" on the element "Element"

    * user selects in "Element" the value "Option"

    * user selects the checkbox "Element"

    * user checks in the element "Element" value "Text"
    * user checks in the element "Element" that the value is not equal "Text"
    * user checks that the field "Element" is not empty
    * user checks that the field "Element" is empty

    * element "Element" is focused

    * inserts fragment "Fragment"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_без_code_cucumber_code_fluent_api_3">6.6.4. Как использовать шаги без <code>cucumber</code> (Fluent API)</h4>
<div class="paragraph">
<p>Обратиться к методам-шагам можно следующим образом: <code>MobileSteps.getInstance()</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>MobileSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .click("Contact")
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Как_использовать_шаги_проекта_без_code_cucumber_code_3">6.6.5. Как использовать шаги проекта без <code>cucumber</code></h4>
<div class="paragraph">
<p>Чтобы использовать кастомные шаги вашего проекта через Fluent API, унаследуйте класс с шагами от <code>MobileStepsImpl</code> с учетом типизации.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Каждый метод вашего класса с шагами должен возвращать объект типа <code>this</code> приведенный к <code>T</code>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример класса</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends MobileStepsImpl&lt;T&gt; {
    public T yourMethod() {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Далее на основе этого класса нужно создать строго типизированный класс, который позволит до компиляции понимать, с каким контекстом происходит взаимодействие в текущий  момент. Сделать это можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourSteps extends YourStepsImpl&lt;YourSteps&gt; {
     private static YourSteps instance;

     public static YourSteps getInstance() {
        if (instance == null) {
            instance = new YourSteps();
        }
        return instance;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример работы:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>YourSteps.getInstance().openPage("Main")
                      .find("menu", "button", "Home")
                      .yourMethod()
                      .openPage("Contact")
                      .checkEmpty("first name");</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Глагольные_выражения_3">6.6.6. Глагольные выражения</h4>
<div class="paragraph">
<p><code>mobile-plugin</code> позволяет описывать шаги, свойственные отдельной странице, непосредственно на ней. Такие шаги называются глагольными выражениями и описываются при помощи аннотации <code>@ActionTitle</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

    @ActionTitle(value = "тестирует")
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Чтобы использовать глагольное выражение в тестовом сценарии, достаточно указать его имя в круглых скобках в контексте страницы. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Одно глагольное выражение может иметь несколько именований. В этом может быть необходимость, когда есть желание внести конкретику в тестовом сценарии. Сделать это можно при помощи аннотации <code>@ActionTitles</code> Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

    @ActionTitles({
        @ActionTitle(value = "тестирует"),
        @ActionTitle(value = "тестирует вашу страницу")
    })
    public void check() {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Глагольные выражения могут иметь какие угодно параметры для этого достаточно добавить параметр в сигнатуре метода. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

    @ActionTitle(value = "тестирует")
    public void check(String param) {
        ....
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Пример использования:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* открывается страница "Ваша страница"
* пользователь (тестирует) с параметром "Параметр"</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">При написании глагольных выражений важно помнить</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Значение, возвращаемое методом, никуда не сохраняется, поэтому в качестве типа возвращаемого значения стоит всегда указывать void</p>
</li>
<li>
<p>В качестве параметров метода можно использовать следующие типы: String, List&lt;String&gt;, DataTable</p>
</li>
<li>
<p>Если шага с нужным набором параметров для вашего экшена нет, вы можете написать его сами</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_База_для_глагольных_выражений_3">База для глагольных выражений</h5>
<div class="paragraph">
<p>Как уже говорилось выше, глагольные выражения базируются на уже описанных в `mobile-plugin`шагах особой структуры. Они приведены ниже</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Перед шагом можно прописать действующее лицо - <strong><em>пользователь</em></strong> или <strong><em>он</em></strong> в любом из русскоязычных шагов
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">RU</th>
<th class="tableblock halign-center valign-middle">EN</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие без параметров</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* ()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user ()</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с параметром</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () ""<br>
* () с параметром ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () ""<br>
* user () with param ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с двумя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" ""<br>
* () с параметрами "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" ""<br>
* user () with the parameters "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие с тремя параметрами</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () "" "" ""<br>
* () с параметрами "" "" ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () "" "" ""<br>
* user () with the parameters "" "" ""</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действия с таблицей данных (DataTable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () данными<br>
* () "" данными</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () data<br>
* user () "" data</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="2"><p class="tableblock">Действие со списком</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* () из списка</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* user () from the list</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_Переопределение_стандартных_методов_3">6.6.7. Переопределение стандартных методов</h4>
<div class="paragraph">
<p>Переопределить шаги плагина mobile-plugin можно одним из двух способов:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Переопределить непосредственно шаг</p>
</li>
<li>
<p>Переопределить действие внутри шага</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_Переопределение_шага_3">Переопределение шага</h5>
<div class="paragraph">
<p>Чтобы переопределить шаг, нужно наследоваться от класса с шагами - MobileStepsImpl и переопределить метод как в примере</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourStepsImpl&lt;T extends YourStepsImpl&lt;T&gt;&gt; extends MobileStepsImpl&lt;T&gt; {
    @Override
    public T click(String elementTitle) throws PageException {
        ...
        return (T) this;
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Переопределение_действия_3">Переопределение действия</h5>
<div class="paragraph">
<p>Для переопределения нужно:</p>
</div>
<div class="paragraph">
<p>Создать класс, в котором будут храниться переопределенные методы, наследованные от <code>MobilePageActions</code>, и описать в нем методы. Пример для клика:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>public class YourMobilePageActions extends MobilePageActions {

    @Override
    public void click(Object element){
        ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Создать базовую страницу проекта, унаследовав её от базовой страницы плагина. Переопределить необходимые классы <code>Environment</code>. Унаследовать все страницы своего проекта от этой базовой страницы.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Пример</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>package ru.qa.your.project.pages;

import ru.sbtqa.tag.pagefactory.annotations.PageEntry;
import ru.sbtqa.tag.pagefactory.MobilePage;

@PageEntry(title = "Ваша страница")
public abstract class YourPage extends MobilePage {

    public YourPage() {
        Environment.setPageActions(yourMobilePageActions);
    }
}</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_Действия_для_переопределения_3">Действия для переопределения</h6>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fill(Object element, String text)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Заполняет поле</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void click(Object element);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие по элементу</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void press(Object element, String key);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выполняет нажатие клавиши</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void select(Object element, String option);</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Выбирает из выпадающего списка</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void setCheckbox</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отмечает признак или снимает отметку</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void acceptAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Принимает алерт</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void dismissAlert()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Отклоняет алерт</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Тестовые_сценарии_3">6.7. Тестовые сценарии</h3>
<div class="paragraph">
<p><strong><em>Тестовый сценарий</em></strong> - это совокупность шагов, конкретных условий и параметров, необходимых для проверки реализации тестируемой функции или её части</p>
</div>
<div class="paragraph">
<p><strong><em>Фича</em></strong> - набора сценариев, имеющих общую функциональность. Фичи представляют собой файлы с расширением <code>feature</code>, написанные на языке <code>Gherkin</code> с использованием возможностей фреймворка <code>Cucumber</code></p>
</div>
<div class="paragraph">
<p>С учетом локализации шагов, фичи могут быть написаны по крайней мере на одном из двух языков: русском или английском</p>
</div>
<div class="paragraph">
<p>Рассмотрим структуру фичи на примере:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>#language:ru
@feature-tag
Функционал: Тестирование поиска Google

  Предыстория:
    Когда открывается страница "Главная страница"

  @test-tag
  Сценарий: Тестирование поиска
    И пользователь (тестирует) "Элемент"

  @test-tag-examples
  Структура сценария: Тестирование поиска
    И пользователь (тестирует) "&lt;element&gt;"

  Примеры:
    | element   |
    | Элемент 1 |
    | Элемент 2 |</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>#language:ru</em></strong> - язык фичи</p>
</div>
<div class="paragraph">
<p><strong><em>@feature-tag</em></strong> - тэг запуска фичи. Позволяет запустить все тестовые сценарии фичи одной группой. Может быть любым, но обязан всегда начинаться с <code>@</code></p>
</div>
<div class="paragraph">
<p><strong><em>Функционал (Feature:)</em></strong> - описание функциональности фичи</p>
</div>
<div class="paragraph">
<p><strong><em>Предыстория: (Background:)</em></strong> - шаги, которые будут выполняться перед каждым тестовым сценарием</p>
</div>
<div class="paragraph">
<p><strong><em>@test-tag и @test-tag-examples</em></strong> - тэги запуска тестов. Могут быть любыми, но обязаны всегда начинаться с <code>@</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
На одном сценарии может быть сколько угодно тэгов<br>
<br>
Не рекомендуется использовать на разных сценариях или фичах только одинаковые тэги. Всегда должна быть возможность запустить любой тест отдельно от остальных
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Сценарий: (Scenario:)</em></strong> - описание функциональности тестового сценария</p>
</div>
<div class="paragraph">
<p><strong><em>Структура сценария: (Scenario Outline:)</em></strong> - описание функциональности тестового сценария. Используется при параметризации тестов в связке с ключевым словом <code>Примеры:</code></p>
</div>
<div class="paragraph">
<p><strong><em>Шаги и глагольные выражения</em></strong>  тестового сценария. Начинаются сразу после ключевого слова <code>Сценарий:</code>. Шаги должны начинаться с ключевых слов, таких как <code>Если</code>, <code>Когда</code>, <code>Тогда</code> (<code>Given</code>, <code>When</code>, <code>Then</code>) либо с <code>*</code>. Для работоспособности не имеет значения, какое ключевое слово используется, но они позволяют сделать фичи более удобными для чтения</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Чтобы использовать элемент или глагольное выражение, нужно обозначить текущий контекст — страницу. Сделать это можно, например, шагом "открывается страница"
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong><em>Примеры: (Examples:)</em></strong> - используются для параметризации тестового сценария. Значения подставляются по имени параметра. В нашем примере тест бы выполнился два раза: сначала с "Элемент 1", затем с "Элемент 2"</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Рекомендации:<br>
<br>
 1. Каждый сценарий должен быть независим от всех остальных, то есть его можно запустить независимо от остальных и он выполнится успешно<br>
<br>
 2. Лучше всего разбивать сценарии на группы по их функциональности, чтобы фичи были небольшими. Это значительно упростит поддержку автотестов в дальнейшем
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_Фрагменты_3">6.7.1. Фрагменты</h4>
<div class="paragraph">
<p><strong><em>Фрагмент</em></strong> - набор шагов, который может быть подставлен в любой сценарий вместо заранее определенного шага</p>
</div>
<div class="paragraph">
<p>Чтобы использовать фрагменты, необходимо прописать в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.enabled = true</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Рассмотрим пример</dt>
<dd>
<p><strong><em>Сценарий A</em></strong> - сценарий, в который нужно подставить шаги<br>
<strong><em>Сценарий B</em></strong> - сценарий-фрагмент, шаги которого можно подставить в любой сценарий</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragment.png" alt="fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Подстановку фрагмента можно выполнить, используя один из шагов</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    * пользователь вставляет фрагмент "Название фрагмента"
    * пользователь вставляет фрагмент "Название фрагмента"
		| параметр 1 | параметр 2 |
		| значение   | значение   |</code></pre>
</div>
</div>
<div class="paragraph">
<p>В примере выше "Название фрагмента" выделено <span class="lime">зеленым</span>.</p>
</div>
<div class="sect4">
<h5 id="_Как_создавать_фрагменты_3">Как создавать фрагменты</h5>
<div class="paragraph">
<p>17. Создать фичу, которая будет содержать фрагменты<br>
18. Прописать путь до каталога с фрагментами в файле конфигурации <code>application.properties</code>. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>fragments.path = src/test/resources/fragments</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
В случае, если этот параметр не указан, то поиск фрагментов будет происходить в директории, которая указана в @CucumberOptions.features
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>19. Создать сценарий-фрагмент<br>
20. Аннотировать созданный сценарий как <code>@fragment</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red">Не используйте фрагменты как независимые тестовые сценарии</span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента_3">Пример параметризованного фрагмента</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: User и 123<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/param_fragment.png" alt="param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В <strong>B</strong> подстановка обозначена символами <strong>"&lt;&gt;"</strong>. Внутри указано имя параметра</p>
</li>
<li>
<p>В <strong>А</strong> выполняется вставка фрагмента с параметрами в виде таблицы данных. Первая строка таблицы — имена параметров, вторая — значения</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Пример_параметризованного_фрагмента_с_несколькими_строками_значений_3">Пример параметризованного фрагмента с несколькими строками значений</h5>
<div class="paragraph">
<p><strong><em>Параметры</em></strong>: логин и пароль<br>
<strong><em>Значения параметров</em></strong>: Alex и 123, Tony и 456<br></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/many_param_fragment.png" alt="many param fragment"></a>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В случаях, когда в таблице параметров более одной строки, фрагмент будет подставлен столько раз, сколько строк в таблице. В каждой подстановке будут использованы значения соответствующей строки</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_Цепочки_фрагментов_3">Цепочки фрагментов</h5>
<div class="paragraph">
<p>Допускается использование фрагментов внутри других фрагментов</p>
</div>
<div class="paragraph">
<p>Пример</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/fragments.png" alt="fragments"></a>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<span class="red"><strong><em>Не допускается:</em></strong><br>
1. Вызывать фрагмент из самого себя<br>
2. Зацикливать вызовов фрагментов</span><br>
<br>
 Эти исключительные ситуации обрабатываются и тесты будут остановлены до запуска обработчика <code>cucumber</code>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_Динамические_фрагменты_3">Динамические фрагменты</h5>
<div class="paragraph">
<p>Фрагменты можно подставлять динамически в зависимости от тестовых данных. Например:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic-fragment.png" alt="dynamic fragment"></a>
</div>
</div>
<div class="paragraph">
<p>Это так же может быть удобно для запуска в условиях постоянно меняющихся тестовых данных либо условий тестирования (различные версий приложения)</p>
</div>
<div class="paragraph">
<p>Рассмотрим подробнее. Допустим, у нас есть тестовый сценарий, проверяющий работу с данными клиента. Клиент может быть новым (нет в системе) и старым. Если клиент новый, его нужно завести. Если старый, то найти через поиск и проверить, что он был найден. Поэтому в нашем примере будет два фрагмента — по одному для каждой из ситуаций плюс тестовые данные сценария</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex1.png" alt="dynamic fragment ex1"></a>
</div>
</div>
<div class="paragraph">
<p>В ситуации, когда клиент уже известен (Client = User) выполнится фрагмент "Проверка данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex2.png" alt="dynamic fragment ex2"></a>
</div>
</div>
<div class="paragraph">
<p>И, напротив, для неизвестного клиента (Client = Unauthorized user) выполнится "Заполнение данных клиента"</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dynamic_fragment_ex3.png" alt="dynamic fragment ex3"></a>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Работа_с_тестовыми_данными_3">6.7.2. Работа с тестовыми данными</h4>
<div class="sect4">
<h5 id="_Тестовые_данные_из_файлов_3">Тестовые данные из файлов</h5>
<div class="paragraph">
<p>Тестовые данные могут быть использованы в любом шаге сценария. Тестовые данные могут храниться в одном из форматов:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>json</p>
</li>
<li>
<p>properties</p>
</li>
<li>
<p>excel</p>
</li>
<li>
<p>mongo</p>
</li>
<li>
<p>custom test data provider</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="_Тип_и_расположение_файлов_тестовых_данных_3">Тип и расположение файлов тестовых данных</h6>
<div class="paragraph">
<p>Задать тип тестовых данных можно в файле конфигурации <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.type = json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Задать расположение тестовых данных можно следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> путь указывается до файла без расширения:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.folder = src/test/resources/data/Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Если файлы имеют нестандартное для типа данных расширение, нужно указать его в настройках. Для <code>excel</code> не будет учитываться (всегда будет <code>xslx</code>). Например, для файлов с расширением <code>jsonp</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.extension = jsonp</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Инициализация_коллекции_3">Инициализация коллекции</h6>
<div class="paragraph">
<p>Для инициализации коллекции нужно задать ее через конфигурацию. Имя файла задается без расширения. Если в проекте используется несколько коллекций, то в параметре нужно указать наиболее часто используемую. Пример инициализации коллекции для <code>Data.json</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="paragraph">
<p>Обратиться к инициализированной можно через символ <code>$</code>, к неинициализированной через <code>$</code> и имя.
Для обращения из фичи существует тэг <code>@data</code>. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@data=$OtherData</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>excel</code> коллекция - это имя вкладки</p>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_mongodb_code_3">Особенности работы <code>mongodb</code></h6>
<div class="paragraph">
<p>Для <code>mongodb</code> есть два дополнительных обязательных параметра: адрес и имя базы данных. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.uri = mongodb://username:password@host.ru:8080
data.db = bd</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Особенности_работы_code_properties_code_3">Особенности работы <code>properties</code></h6>
<div class="paragraph">
<p>Для <code>properties</code> файлов доступен функционал раскладывания значения на массив по разделителю. По-умолчанию это <code>,</code>, но можно переопределить следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.arrayDelimiter = !</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Подключение_своего_провайдера_тестовых_данных_3">Подключение своего провайдера тестовых данных</h6>
<div class="paragraph">
<p>Есть возможность зарегистрировать свой провайдер данных. Для этого необходимо, реализовать интерфейс <a href="https://github.com/sbtqa/datajack/blob/master/datajack-api/src/main/java/ru/sbtqa/tag/datajack/TestDataProvider.java">TestDataProvider</a>.</p>
</div>
<div class="paragraph">
<p>В классе реализации должен присутствовать конструктор со следующими параметрами: <code>new MyDataProvider(String initialCollection, String extensionOrDb)</code></p>
</div>
<div class="paragraph">
<p>Конфигурация задается следующими параметрам в <code>application.properties</code> (на примере JsonDataProvider):</p>
</div>
<div class="listingblock">
<div class="content">
<pre># Полное имя java пакета
data.provider.fqdn=ru.sbtqa.tag.datajack.providers

# Имя артефакта и имя класса реализации
data.type = json.JsonDataProvider

# Указать изначальную коллекцию
data.initial.collection = Data

# Задать расширение файла, либо имя базы данных (нельзя задавать оба значения одновременно)
data.extension = json
# data.db = bd</pre>
</div>
</div>
<div class="paragraph">
<p>Это позволит начать использовать свой провайдер данных по общим правилам фреймворка.</p>
</div>
</div>
<div class="sect5">
<h6 id="_Путь_к_элементу_коллекции_3">Путь к элементу коллекции</h6>
<div class="paragraph">
<p>Для обозначения пути внутри коллекции используются фигурные скобки</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание, если имя коллекции не указывается явно перед параметром, то перед фигурными скобками должен стоять символ <code>$</code> (брать данные из текущей коллекции)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Пример для элемента <code>first name</code> из набора <code>Admin</code> коллекции <code>Data</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>И пользователь (тестирует) "Элемент" с параметром "$Data{Admin.first name}"</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Ссылки_на_другие_элементы_3">Ссылки на другие элементы</h6>
<div class="paragraph">
<p>Поддерживается работа со ссылками в данных, как внутри одной коллекции, так и на другие коллекции.</p>
</div>
<div class="paragraph">
<p>Для <code>mongodb</code> используется встроенный механизм ссылок.</p>
</div>
<div class="paragraph">
<p>Для <code>excel</code> достаточно в ячейке значения указать ссылку вида <code>$ref:&lt;имя коллекции&gt;:&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ref:Data:price</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>json</code> ссылки задавать можно как объект вида <code>{ "$ref" : "&lt;имя коллекции&gt;.&lt;путь&gt;" }</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
    "some reference": {
        "$ref": "Data:price"
    },
    "price": 20.00
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Для <code>properties</code> ссылки задавать можно как объект вида <code>&lt;property name&gt;.$ref = &lt;имя коллекции&gt;.&lt;путь&gt;</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>someReference.$ref = Data:price
price = 20.00</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_Примеры_3">Примеры</h6>
<div class="paragraph">
<p><strong><em>Простой пример с заданием коллекции через тэг `@data`</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataSimpleEx.png" alt="dataSimpleEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Через <code>@data</code> можно задать не только имя коллекции, но и путь к набору данных внутри нее</em></strong></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataEx2.png" alt="dataEx2"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример инициализации коллекции для сценария с использованием параметров в таблице данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTableEx.png" alt="dataTableEx"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример использования нескольких файлов данных в одном тестовом сценарии, массивов данных</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataTwoCollections.png" alt="dataTwoCollections"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример задания пути данных с учетом коллекции, описанной в конфигурации</em></strong></p>
</div>
<div class="paragraph">
<p>Пример для значения</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>data.initial.collection = Data</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/dataInit.png" alt="dataInit"></a>
</div>
</div>
<div class="paragraph">
<p><strong><em>Пример работы со ссылками</em></strong></p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href=""><img src="./images/data_relative.png" alt="data relative"></a>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_Запоминание_значений_и_работа_с_ними_stash_3">Запоминание значений и работа с ними (Stash)</h5>
<div class="paragraph">
<p>5. Для запоминания значения необходимо в одном из шагов выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Stash.put("key", "value");</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Обратите внимание! Для использования запомненных значений в шагах необходимо, чтобы ключ и значение были типа <code>String</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>6. Используйте запомненное значение в любом шаге, например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле" "#{key}"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><em>Особенности:</em></strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ключ может использоваться в любых возможных вариантах: в списке или таблице с данными, в многострочных параметрах, параметрах сценария.</p>
</li>
<li>
<p>Ключ может быть именем поля или частью текста</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр
с #{key} в качестве фрагмента
текста
"""</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>В одном параметре может использоваться сколько угодно ключей, в том числе один и тот же ключ несколько раз:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* пользователь заполняет поле "Поле"
"""
Это многострочный параметр с двумя разными данными
с ключами #{key1} и #{key2} в качестве фрагментов
текста
"""</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Построение_отчетов_3">6.8. Построение отчетов</h3>
<div class="paragraph">
<p>По умолчанию mobile-plugin поддерживают создание отчетов с использованием Allure версии 2.</p>
</div>
<div class="paragraph">
<p>Чтобы настроить автоматическое создание отчетов после прохождения автотестов, нужно сделать следующее:</p>
</div>
<div class="paragraph">
<p>Для плагина <code>maven-surefire-plugin</code> добавить параметр запуска. Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.20&lt;/version&gt;
        &lt;configuration&gt;
          &lt;argLine&gt;
            -javaagent:"${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar"
            -Dcucumber.options="--plugin io.qameta.allure.cucumber2jvm.AllureCucumber2Jvm --plugin pretty"
          &lt;/argLine&gt;
        &lt;/configuration&gt;
        &lt;dependencies&gt;
          &lt;dependency&gt;
            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
            &lt;version&gt;${aspectj.version}&lt;/version&gt;
          &lt;/dependency&gt;
        &lt;/dependencies&gt;
      &lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>После выполнения тестов в папке allure-results/ будут созданы json файлы с результатами прохождения тестов - для каждого теста отдельный файл. В отчетах можно в том числе найти скриншоты (в момент падения теста) и ссылки на видео (если велась запись).</p>
</div>
<div class="paragraph">
<p>Просмотреть результаты в виде страницы-отчета можно <a href="https://docs.qameta.io/allure/#_reporting" class="ext-link" target="_blank" rel="noopener">одним из способов</a></p>
</div>
<div class="sect3">
<h4 id="_Отчеты_и_fluent_api_3">6.8.1. Отчеты и Fluent API</h4>
<div class="paragraph">
<p>Для того чтобы отчеты содержали шаги, которые вы используете в тестах без <code>cucumber</code>, необходимо следующее:</p>
</div>
<div class="paragraph">
<p>21. Добавить <code>allure</code> зависимость в проект</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
      &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;
      &lt;version&gt;2.10.0&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>22. Добавить <code>listener</code> в конфигурацию <code>maven-surefire-plugin</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;properties&gt;
  &lt;property&gt;
    &lt;name&gt;listener&lt;/name&gt;
    &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;
  &lt;/property&gt;
&lt;/properties&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>23. В случае, если требуется английская локализация фреймворк-шагов, то добавить в <code>application.properties</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>   junit.lang = en</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
По умолчанию язык русский
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>24. Свои методы следует аннотировать <code>@Step</code></p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Step("Мой тестовый метод \"{parameter}\"")
    public T yourMethod(String parameter) {
        ...
        return (T) this;
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Вспомогательные_методы_3">6.9. Вспомогательные методы</h3>
<div class="sect3">
<h4 id="_Вспомогательные_методы_использующие_рефлексию_3">6.9.1. Вспомогательные методы, использующие рефлексию</h4>
<div class="paragraph">
<p><code>mobile-plugin</code> предоставляет ряд методов для работы с блоками и типизированными элементами</p>
</div>
<div class="paragraph">
<p>Обратиться к методам можно через <code>Environment.getReflection()</code></p>
</div>
<div class="sect4">
<h5 id="_Работа_с_элементами_3">Работа с элементами</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getElementTitle(Page page, Object element)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает значение аннотации <code>@ElementTitle</code> для переданного элемента</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean isRequiredElement(Field field, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли поле объявлением элемента или нет (аннотировано <code>@ElementTitle</code> или нет)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String getFieldTitle(Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает значение аннотации <code>@ElementTitle</code> поля</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;T&gt; T getElementByField(Object parentObject, Field field)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает объект поля для указанного родителя</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Работа_с_глагольными_выражениями_3">Работа с глагольными выражениями</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void executeMethodByTitle(Object context, String title, Object&#8230;&#8203; param)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит глагольное выражение в переданном контексте и выполняет его. В качестве контекста может выступать блок или страница</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean isRequiredAction(Method method, String title)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Проверяет, является ли метод глагольным выражением или нет (аннотирован <code>@ActionTitle</code> или <code>@ActionTitles</code> или нет)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_Другие_полезные_методы_6">Другие полезные методы</h5>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Метод</th>
<th class="tableblock halign-center valign-middle">Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Method&gt; getDeclaredMethods(Class clazz)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Возвращает методы переданного класса, включая методы родителя</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void fireValidationRule(Page page, String title, Object&#8230;&#8203; params)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Находит метод страницы, у которого значение аннотации <code>@ValidationRule</code> совпадает с переданным, и выполняет его</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List&lt;Tag&gt; getScenarioTags(ScenarioDefinition scenarioDefinition)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Получает список тэгов сценария</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Параллельный_запуск_тестов_на_симуляторах">6.10. Параллельный запуск тестов на симуляторах</h3>
<div class="paragraph">
<p>Будет описан метод при использовании Selenium Grid.</p>
</div>
<div class="sect3">
<h4 id="_Скачать_и_запустить_selenium_server_standalone">6.10.1. Скачать и запустить selenium-server-standalone</h4>
<div class="paragraph">
<p>Скачать здесь</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>https://www.seleniumhq.org/download/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запустить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>java -jar selenium-server-standalone-3.141.59.jar -role hub</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Сконфигурировать_и_запустить_по_экземпляру_appium_на_каждый_симулятор">6.10.2. Сконфигурировать и запустить по экземпляру appium на каждый симулятор</h4>
<div class="paragraph">
<p>Будет приведен пример для двух симуляторов.</p>
</div>
<div class="paragraph">
<p>Запуск первого экземпляра appium</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>appium -p 4723 --nodeconfig &lt;path_to_config_file&gt;/node-config-4723.json --default-capabilities &lt;path_to_capability_file&gt;/node-capabilities-4723.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>node-config-4723.json</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "capabilities": [
    {
      "maxInstances": 1,
      "platformName": "ios"
    }
  ],
  "configuration": {
    "cleanUpCycle": 2000,
    "timeout": 30000,
    "proxy": "org.openqa.grid.selenium.proxy.DefaultRemoteProxy",
    "url": "http://&lt;хост_где_будет_открыт_экземпляр_аппиума&gt;:4723/wd/hub",
    "host": "&lt;хост_где_будет_открыт_экземпляр_аппиума&gt;",
    "port": 4723,
    "maxSession": 1,
    "register": true,
    "registerCycle": 5000,
    "hubPort": 4444,
    "hubHost": "&lt;хост_где_открыт_selenium-standalone&gt;",
    "hubProtocol": "http"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>node-capabilities-4723.json</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "deviceName": "11 Pro 13.0",
  "platformVersion": "13.0",
  "wdaLocalPort": 8100
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Запуск второго экземпляра appium</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>appium -p 4724 --nodeconfig &lt;path_to_config_file&gt;/node-config-4724.json --default-capabilities &lt;path_to_capability_file&gt;/node-capabilities-4724.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>node-config-4724.json</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "capabilities": [
    {
      "maxInstances": 1,
      "platformName": "ios"
    }
  ],
  "configuration": {
    "cleanUpCycle": 2000,
    "timeout": 30000,
    "proxy": "org.openqa.grid.selenium.proxy.DefaultRemoteProxy",
    "url": "http://&lt;хост_где_будет_открыт_экземпляр_аппиума&gt;:4724/wd/hub",
    "host": "&lt;хост_где_будет_открыт_экземпляр_аппиума&gt;",
    "port": 4724,
    "maxSession": 1,
    "register": true,
    "registerCycle": 5000,
    "hubPort": 4444,
    "hubHost": "&lt;хост_где_открыт_selenium-standalone&gt;",
    "hubProtocol": "http"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>node-capabilities-4724.json</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>{
  "deviceName": "iPhone Xs",
  "platformVersion": "12.1",
  "wdaLocalPort": 8101
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Внести_правки_в_application_properties">6.10.3. Внести правки в application.properties</h4>
<div class="paragraph">
<p>В качестве appium.url указать адрес на котором открыт selenium-standalone.</p>
</div>
<div class="paragraph">
<p>Удалить параметры</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>appium.device.name = ...
appium.device.platform.name = ...
appium.device.platform.version = ...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_Внести_правки_в_pom_xml">6.10.4. Внести правки в pom.xml</h4>
<div class="paragraph">
<p>Добавить в surefire plugin следующую конфигурацию</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;configuration&gt;
    &lt;parallel&gt;methods&lt;/parallel&gt;
    &lt;threadCount&gt;4&lt;/threadCount&gt;
&lt;/configuration&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Более подробную информацию можно найти по ссылке
<a href="https://cucumber.io/docs/guides/parallel-execution/#junit" class="bare">https://cucumber.io/docs/guides/parallel-execution/#junit</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adaptavist_jira_test_manager">7. Adaptavist (Jira Test Manager)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TAG позволяет использовать Adaptavist. Для этого достаточно сконфигурировать проект и установить соответствие между тестами в jira и автотестами проекта.</p>
</div>
<div class="paragraph">
<p>Прежде всего, в <code>Jira</code> должна быть заведена тестовая база - кейсы с привязкой к тикетам.</p>
</div>
<div class="paragraph">
<p>Предположим, что у нас есть задача в проекте <code>TAG</code> - <code>TAG-945</code>, к которой нужно привязать тестовые сценарии.</p>
</div>
<div class="paragraph">
<p>В секции <code>Traceability</code> заведем тест:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/create_case.png" alt="create case"></a></span></p>
</div>
<div class="paragraph">
<p>Задаем имя и, при необходимости, другие параметры, сохраняем:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/save.png" alt="save"></a></span></p>
</div>
<div class="paragraph">
<p>После этого появится информация, что тест кейс сохранен с указанием <code>id</code> кейса, в нашем случае - <code>TAG-T4</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/saved.png" alt="saved"></a></span></p>
</div>
<div class="paragraph">
<p>Тест кейс появится в задаче:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/saved-issue.png" alt="saved issue"></a></span></p>
</div>
<div class="paragraph">
<p>Просмотреть список тестовых сценариев можно следующим образом:</p>
</div>
<div class="paragraph">
<p>1. Перейти в раздел <code>Tests</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/tests.png" alt="tests"></a></span></p>
</div>
<div class="paragraph">
<p>2. Найти кейс по <code>id</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/tests-id.png" alt="tests id"></a></span></p>
</div>
<div class="paragraph">
<p>Подробную информацию о формировании тестовой структуры в jira можно найти в документации <a href="https://www.adaptavist.com/doco/display/KT/Documentation" class="ext-link" target="_blank" rel="noopener">Adaptavist</a></p>
</div>
<div class="sect2">
<h3 id="_Настройка_для_cucumber">7.1. Настройка для Cucumber</h3>
<div class="paragraph">
<p>1. Дописать в test runner в опцию <code>plugin</code> две строки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>@RunWith(Cucumber.class)
@CucumberOptions(monochrome = true,
        plugin = {"pretty","junit:target/cucumber/result.xml",
                           "json:target/cucumber/pagefactory.json"},
        glue = {"ru.sbtqa.tag.stepdefs", "tag.stepdefs"},
        features = {"src/test/resources/features"}
)
public class CucumberTest {}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
При необходимости можно задать несколько run-файлов, формируя результаты в разные файлы (в нашем случае <code>pagefactory.json</code>)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>2. Если в вашем проекте в <code>pom.xml</code> для плагина <code>maven-surefire-plugin</code> есть строка запуска, то аналогичным образом нужно добавить в нее две строки:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;${surefire.version}&lt;/version&gt;
        &lt;configuration&gt;
          &lt;argLine&gt;
            -Dcucumber.options="--plugin junit:target/cucumber/result.xml --plugin json:target/cucumber/pagefactory.json"
          &lt;/argLine&gt;
        &lt;/configuration&gt;

        ....

      &lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Теперь, когда <code>Adaptavist</code> подключен, необходимо установить соответствие тестового сценария и сценария в <code>Jira</code>. Для этого нужно расставить тэги <code>@TestCaseKey</code>. В качестве значения тэга указывается <code>id</code> кейса. Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  @TestCaseKey=TAG-T4
  Scenario: Test
    * user checks that the field "first name" is empty

    ....</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_Сборка_результатов_тестов">7.1.1. Сборка результатов тестов</h4>
<div class="paragraph">
<p>Для сборки отчетов для <code>Adaptavist</code> достаточно выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  mvn clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>После этого по указанному в "plugin" пути должен появиться заданный json-файл. В нашем случае в каталоге <code>target/cucumber</code> файл <code>pagefactory.json</code></p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/cucumber.png" alt="cucumber"></a></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_Синхронизация_результатов_для_code_cucumber_code">7.1.2. Синхронизация результатов для <code>Cucumber</code></h4>
<div class="sect4">
<h5 id="_При_локальном_запуске">При локальном запуске</h5>
<div class="paragraph">
<p>1. Выполнить из командной строки в директории проекта либо создать вручную zip-архив, положив в него сгенерированные json-файлы</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> zip output_results.zip target/cucumber/*.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>2. Выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>curl -k --basic --user user:password -F "file=@output_results.zip" https://yourjira.ru/jira/rest/atm/1.0/automation/execution/cucumber/TAG?autoCreateTestCases=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>При этом:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Вместо <code>user</code> подставить пользователя <code>Jira</code>, вместо <code>password</code> - пароль пользователя</p>
</li>
<li>
<p>Подставить свой <code>URL</code> для <code>Jira</code></p>
</li>
<li>
<p>Вместо <code>TAG</code> подставить имя проекта</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_jenkins">Jenkins</h5>
<div class="paragraph">
<p>Для запуска через <code>Jenkins</code> есть специальный плагин. Почитать о нем и увидеть полную инструкцию по работе с ним в картинках можно  <a href="https://www.adaptavist.com/doco/display/KT/Automated+Testing+Tools" class="ext-link" target="_blank" rel="noopener">здесь</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_Результаты_в_jira">Результаты в Jira</h5>
<div class="paragraph">
<p>После выполнения синхронизации на странице <code>Tests</code> появится отметка о результате запуска (на рисунке отмечена <span class="lime">зеленым</span>, <span class="red">красным</span> отмечен <code>id</code> теста)</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/cucumber_tests.png" alt="cucumber tests"></a></span></p>
</div>
<div class="paragraph">
<p>Внутри теста появится информация о запуске в секции <code>Execution</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/cucumber-exec.png" alt="cucumber exec"></a></span></p>
</div>
<div class="paragraph">
<p>Так же информация о запуске отобразится в задаче, для которой создавался тест кейс:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/cucumber_issue.png" alt="cucumber issue"></a></span></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_Настройка_для_junit">7.2. Настройка для JUnit</h3>
<div class="paragraph">
<p>1. Добавить в <code>pom.xml</code> зависимость:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;dependency&gt;
      &lt;groupId&gt;com.adaptavist&lt;/groupId&gt;
      &lt;artifactId&gt;tm4j-junit-integration&lt;/artifactId&gt;
      &lt;version&gt;1.0.0&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>2. Добавить в <code>pom.xml</code> для плагина <code>maven-surefire-plugin</code> listener:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    &lt;properties&gt;
      &lt;property&gt;
        &lt;name&gt;listener&lt;/name&gt;
        &lt;value&gt;com.adaptavist.tm4j.junit.ExecutionListener&lt;/value&gt;
      &lt;/property&gt;
    &lt;/properties&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>3. Закрепить за <code>JUnit</code> тестами тесты в <code>Jira</code> через <code>id</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @Test
    @TestCase(key = "TAG-T5")
    public void testKey() {
        ....
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Или имя сценария:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    @Test
    @TestCase(name = "JUnit Test")
    public void testName() {
        ....
    }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_Сборка_результатов_тестов_2">7.2.1. Сборка результатов тестов</h4>
<div class="paragraph">
<p>Для сборки отчетов для <code>Adaptavist</code> достаточно выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>  mvn clean test</code></pre>
</div>
</div>
<div class="paragraph">
<p>После этого в корне проекта должен появиться json-файл - <code>tm4j_result.json</code>.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/junit.png" alt="junit"></a></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_Синхронизация_результатов_для_code_junit_code">7.2.2. Синхронизация результатов для <code>JUnit</code></h4>
<div class="sect4">
<h5 id="_При_локальном_запуске_2">При локальном запуске</h5>
<div class="paragraph">
<p>1. Выполнить из командной строки в директории проекта либо создать вручную zip-архив, положив в него сгенерированный json-файл - <code>tm4j_result.json</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> zip output_results.zip tm4j_result.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>2. Выполнить</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>curl -k --basic --user user:password -F "file=@output_results.zip" https://yourjira.ru/jira/rest/atm/1.0/automation/execution/TAG?autoCreateTestCases=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>При этом:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Вместо <code>user</code> подставить пользователя <code>Jira</code>, вместо <code>password</code> - пароль пользователя</p>
</li>
<li>
<p>Подставить <code>URL</code> для <code>Jira</code></p>
</li>
<li>
<p>Вместо <code>TAG</code> - имя проекта</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_jenkins_2">Jenkins</h5>
<div class="paragraph">
<p>Для запуска через <code>Jenkins</code> есть специальный плагин. Почитать о нем и увидеть полную инструкцию по работе с ним в картинках можно  <a href="https://www.adaptavist.com/doco/display/KT/Automated+Testing+Tools" class="ext-link" target="_blank" rel="noopener">здесь</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_Результаты_в_jira_2">Результаты в Jira</h5>
<div class="paragraph">
<p>После выполнения синхронизации на странице <code>Tests</code> появится отметка о результате запуска</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/junit-tests.png" alt="junit tests"></a></span></p>
</div>
<div class="paragraph">
<p>Внутри теста появится информация о запуске в секции <code>Execution</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/junit-exec.png" alt="junit exec"></a></span></p>
</div>
<div class="paragraph">
<p>Так же информация о запуске отобразится в задаче, для которой создавался тест кейс:</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href=""><img src="./images/junit-issue.png" alt="junit issue"></a></span></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 16.3.0<br>
Last updated 2021-11-22 08:53:53 UTC
</div>
</div>
</body>
</html>